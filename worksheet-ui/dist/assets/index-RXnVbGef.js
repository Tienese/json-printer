(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))o(b);new MutationObserver(b=>{for(const p of b)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&o(y)}).observe(document,{childList:!0,subtree:!0});function f(b){const p={};return b.integrity&&(p.integrity=b.integrity),b.referrerPolicy&&(p.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?p.credentials="include":b.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function o(b){if(b.ep)return;b.ep=!0;const p=f(b);fetch(b.href,p)}})();var vr={exports:{}},_n={};var Mf;function Tb(){if(Mf)return _n;Mf=1;var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function f(o,b,p){var y=null;if(p!==void 0&&(y=""+p),b.key!==void 0&&(y=""+b.key),"key"in b){p={};for(var E in b)E!=="key"&&(p[E]=b[E])}else p=b;return b=p.ref,{$$typeof:i,type:o,key:y,ref:b!==void 0?b:null,props:p}}return _n.Fragment=u,_n.jsx=f,_n.jsxs=f,_n}var Df;function Eb(){return Df||(Df=1,vr.exports=Tb()),vr.exports}var n=Eb(),yr={exports:{}},de={};var Rf;function Cb(){if(Rf)return de;Rf=1;var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),y=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),S=Symbol.iterator;function k(v){return v===null||typeof v!="object"?null:(v=S&&v[S]||v["@@iterator"],typeof v=="function"?v:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,M={};function A(v,Y,K){this.props=v,this.context=Y,this.refs=M,this.updater=K||D}A.prototype.isReactComponent={},A.prototype.setState=function(v,Y){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,Y,"setState")},A.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function R(){}R.prototype=A.prototype;function L(v,Y,K){this.props=v,this.context=Y,this.refs=M,this.updater=K||D}var X=L.prototype=new R;X.constructor=L,U(X,A.prototype),X.isPureReactComponent=!0;var Z=Array.isArray;function le(){}var ne={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function De(v,Y,K){var F=K.ref;return{$$typeof:i,type:v,key:Y,ref:F!==void 0?F:null,props:K}}function $(v,Y){return De(v.type,Y,v.props)}function V(v){return typeof v=="object"&&v!==null&&v.$$typeof===i}function P(v){var Y={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(K){return Y[K]})}var re=/\/+/g;function J(v,Y){return typeof v=="object"&&v!==null&&v.key!=null?P(""+v.key):Y.toString(36)}function ae(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(le,le):(v.status="pending",v.then(function(Y){v.status==="pending"&&(v.status="fulfilled",v.value=Y)},function(Y){v.status==="pending"&&(v.status="rejected",v.reason=Y)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function w(v,Y,K,F,oe){var be=typeof v;(be==="undefined"||be==="boolean")&&(v=null);var je=!1;if(v===null)je=!0;else switch(be){case"bigint":case"string":case"number":je=!0;break;case"object":switch(v.$$typeof){case i:case u:je=!0;break;case j:return je=v._init,w(je(v._payload),Y,K,F,oe)}}if(je)return oe=oe(v),je=F===""?"."+J(v,0):F,Z(oe)?(K="",je!=null&&(K=je.replace(re,"$&/")+"/"),w(oe,Y,K,"",function(ee){return ee})):oe!=null&&(V(oe)&&(oe=$(oe,K+(oe.key==null||v&&v.key===oe.key?"":(""+oe.key).replace(re,"$&/")+"/")+je)),Y.push(oe)),1;je=0;var Je=F===""?".":F+":";if(Z(v))for(var He=0;He<v.length;He++)F=v[He],be=Je+J(F,He),je+=w(F,Y,K,be,oe);else if(He=k(v),typeof He=="function")for(v=He.call(v),He=0;!(F=v.next()).done;)F=F.value,be=Je+J(F,He++),je+=w(F,Y,K,be,oe);else if(be==="object"){if(typeof v.then=="function")return w(ae(v),Y,K,F,oe);throw Y=String(v),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return je}function q(v,Y,K){if(v==null)return v;var F=[],oe=0;return w(v,F,"","",function(be){return Y.call(K,be,oe++)}),F}function W(v){if(v._status===-1){var Y=v._result;Y=Y(),Y.then(function(K){(v._status===0||v._status===-1)&&(v._status=1,v._result=K)},function(K){(v._status===0||v._status===-1)&&(v._status=2,v._result=K)}),v._status===-1&&(v._status=0,v._result=Y)}if(v._status===1)return v._result.default;throw v._result}var ie=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},me={map:q,forEach:function(v,Y,K){q(v,function(){Y.apply(this,arguments)},K)},count:function(v){var Y=0;return q(v,function(){Y++}),Y},toArray:function(v){return q(v,function(Y){return Y})||[]},only:function(v){if(!V(v))throw Error("React.Children.only expected to receive a single React element child.");return v}};return de.Activity=g,de.Children=me,de.Component=A,de.Fragment=f,de.Profiler=b,de.PureComponent=L,de.StrictMode=o,de.Suspense=T,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,de.__COMPILER_RUNTIME={__proto__:null,c:function(v){return ne.H.useMemoCache(v)}},de.cache=function(v){return function(){return v.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(v,Y,K){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var F=U({},v.props),oe=v.key;if(Y!=null)for(be in Y.key!==void 0&&(oe=""+Y.key),Y)!Te.call(Y,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Y.ref===void 0||(F[be]=Y[be]);var be=arguments.length-2;if(be===1)F.children=K;else if(1<be){for(var je=Array(be),Je=0;Je<be;Je++)je[Je]=arguments[Je+2];F.children=je}return De(v.type,oe,F)},de.createContext=function(v){return v={$$typeof:y,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:p,_context:v},v},de.createElement=function(v,Y,K){var F,oe={},be=null;if(Y!=null)for(F in Y.key!==void 0&&(be=""+Y.key),Y)Te.call(Y,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(oe[F]=Y[F]);var je=arguments.length-2;if(je===1)oe.children=K;else if(1<je){for(var Je=Array(je),He=0;He<je;He++)Je[He]=arguments[He+2];oe.children=Je}if(v&&v.defaultProps)for(F in je=v.defaultProps,je)oe[F]===void 0&&(oe[F]=je[F]);return De(v,be,oe)},de.createRef=function(){return{current:null}},de.forwardRef=function(v){return{$$typeof:E,render:v}},de.isValidElement=V,de.lazy=function(v){return{$$typeof:j,_payload:{_status:-1,_result:v},_init:W}},de.memo=function(v,Y){return{$$typeof:m,type:v,compare:Y===void 0?null:Y}},de.startTransition=function(v){var Y=ne.T,K={};ne.T=K;try{var F=v(),oe=ne.S;oe!==null&&oe(K,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(le,ie)}catch(be){ie(be)}finally{Y!==null&&K.types!==null&&(Y.types=K.types),ne.T=Y}},de.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},de.use=function(v){return ne.H.use(v)},de.useActionState=function(v,Y,K){return ne.H.useActionState(v,Y,K)},de.useCallback=function(v,Y){return ne.H.useCallback(v,Y)},de.useContext=function(v){return ne.H.useContext(v)},de.useDebugValue=function(){},de.useDeferredValue=function(v,Y){return ne.H.useDeferredValue(v,Y)},de.useEffect=function(v,Y){return ne.H.useEffect(v,Y)},de.useEffectEvent=function(v){return ne.H.useEffectEvent(v)},de.useId=function(){return ne.H.useId()},de.useImperativeHandle=function(v,Y,K){return ne.H.useImperativeHandle(v,Y,K)},de.useInsertionEffect=function(v,Y){return ne.H.useInsertionEffect(v,Y)},de.useLayoutEffect=function(v,Y){return ne.H.useLayoutEffect(v,Y)},de.useMemo=function(v,Y){return ne.H.useMemo(v,Y)},de.useOptimistic=function(v,Y){return ne.H.useOptimistic(v,Y)},de.useReducer=function(v,Y,K){return ne.H.useReducer(v,Y,K)},de.useRef=function(v){return ne.H.useRef(v)},de.useState=function(v){return ne.H.useState(v)},de.useSyncExternalStore=function(v,Y,K){return ne.H.useSyncExternalStore(v,Y,K)},de.useTransition=function(){return ne.H.useTransition()},de.version="19.2.3",de}var Hf;function kr(){return Hf||(Hf=1,yr.exports=Cb()),yr.exports}var N=kr(),jr={exports:{}},On={},Nr={exports:{}},Sr={};var Lf;function wb(){return Lf||(Lf=1,(function(i){function u(w,q){var W=w.length;w.push(q);e:for(;0<W;){var ie=W-1>>>1,me=w[ie];if(0<b(me,q))w[ie]=q,w[W]=me,W=ie;else break e}}function f(w){return w.length===0?null:w[0]}function o(w){if(w.length===0)return null;var q=w[0],W=w.pop();if(W!==q){w[0]=W;e:for(var ie=0,me=w.length,v=me>>>1;ie<v;){var Y=2*(ie+1)-1,K=w[Y],F=Y+1,oe=w[F];if(0>b(K,W))F<me&&0>b(oe,K)?(w[ie]=oe,w[F]=W,ie=F):(w[ie]=K,w[Y]=W,ie=Y);else if(F<me&&0>b(oe,W))w[ie]=oe,w[F]=W,ie=F;else break e}}return q}function b(w,q){var W=w.sortIndex-q.sortIndex;return W!==0?W:w.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;i.unstable_now=function(){return p.now()}}else{var y=Date,E=y.now();i.unstable_now=function(){return y.now()-E}}var T=[],m=[],j=1,g=null,S=3,k=!1,D=!1,U=!1,M=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function X(w){for(var q=f(m);q!==null;){if(q.callback===null)o(m);else if(q.startTime<=w)o(m),q.sortIndex=q.expirationTime,u(T,q);else break;q=f(m)}}function Z(w){if(U=!1,X(w),!D)if(f(T)!==null)D=!0,le||(le=!0,P());else{var q=f(m);q!==null&&ae(Z,q.startTime-w)}}var le=!1,ne=-1,Te=5,De=-1;function $(){return M?!0:!(i.unstable_now()-De<Te)}function V(){if(M=!1,le){var w=i.unstable_now();De=w;var q=!0;try{e:{D=!1,U&&(U=!1,R(ne),ne=-1),k=!0;var W=S;try{t:{for(X(w),g=f(T);g!==null&&!(g.expirationTime>w&&$());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,S=g.priorityLevel;var me=ie(g.expirationTime<=w);if(w=i.unstable_now(),typeof me=="function"){g.callback=me,X(w),q=!0;break t}g===f(T)&&o(T),X(w)}else o(T);g=f(T)}if(g!==null)q=!0;else{var v=f(m);v!==null&&ae(Z,v.startTime-w),q=!1}}break e}finally{g=null,S=W,k=!1}q=void 0}}finally{q?P():le=!1}}}var P;if(typeof L=="function")P=function(){L(V)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,J=re.port2;re.port1.onmessage=V,P=function(){J.postMessage(null)}}else P=function(){A(V,0)};function ae(w,q){ne=A(function(){w(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(w){w.callback=null},i.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<w?Math.floor(1e3/w):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(w){switch(S){case 1:case 2:case 3:var q=3;break;default:q=S}var W=S;S=q;try{return w()}finally{S=W}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(w,q){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var W=S;S=w;try{return q()}finally{S=W}},i.unstable_scheduleCallback=function(w,q,W){var ie=i.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ie+W:ie):W=ie,w){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=W+me,w={id:j++,callback:q,priorityLevel:w,startTime:W,expirationTime:me,sortIndex:-1},W>ie?(w.sortIndex=W,u(m,w),f(T)===null&&w===f(m)&&(U?(R(ne),ne=-1):U=!0,ae(Z,W-ie))):(w.sortIndex=me,u(T,w),D||k||(D=!0,le||(le=!0,P()))),w},i.unstable_shouldYield=$,i.unstable_wrapCallback=function(w){var q=S;return function(){var W=S;S=q;try{return w.apply(this,arguments)}finally{S=W}}}})(Sr)),Sr}var Bf;function Ab(){return Bf||(Bf=1,Nr.exports=wb()),Nr.exports}var Tr={exports:{}},nt={};var Uf;function zb(){if(Uf)return nt;Uf=1;var i=kr();function u(T){var m="https://react.dev/errors/"+T;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)m+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+T+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var o={d:{f,r:function(){throw Error(u(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},b=Symbol.for("react.portal");function p(T,m,j){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:g==null?null:""+g,children:T,containerInfo:m,implementation:j}}var y=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function E(T,m){if(T==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,nt.createPortal=function(T,m){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(u(299));return p(T,m,null,j)},nt.flushSync=function(T){var m=y.T,j=o.p;try{if(y.T=null,o.p=2,T)return T()}finally{y.T=m,o.p=j,o.d.f()}},nt.preconnect=function(T,m){typeof T=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(T,m))},nt.prefetchDNS=function(T){typeof T=="string"&&o.d.D(T)},nt.preinit=function(T,m){if(typeof T=="string"&&m&&typeof m.as=="string"){var j=m.as,g=E(j,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,k=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;j==="style"?o.d.S(T,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:S,fetchPriority:k}):j==="script"&&o.d.X(T,{crossOrigin:g,integrity:S,fetchPriority:k,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},nt.preinitModule=function(T,m){if(typeof T=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var j=E(m.as,m.crossOrigin);o.d.M(T,{crossOrigin:j,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(T)},nt.preload=function(T,m){if(typeof T=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var j=m.as,g=E(j,m.crossOrigin);o.d.L(T,j,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},nt.preloadModule=function(T,m){if(typeof T=="string")if(m){var j=E(m.as,m.crossOrigin);o.d.m(T,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:j,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(T)},nt.requestFormReset=function(T){o.d.r(T)},nt.unstable_batchedUpdates=function(T,m){return T(m)},nt.useFormState=function(T,m,j){return y.H.useFormState(T,m,j)},nt.useFormStatus=function(){return y.H.useHostTransitionStatus()},nt.version="19.2.3",nt}var qf;function kb(){if(qf)return Tr.exports;qf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(u){console.error(u)}}return i(),Tr.exports=zb(),Tr.exports}var Qf;function _b(){if(Qf)return On;Qf=1;var i=Ab(),u=kr(),f=kb();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function E(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T(e){if(p(e)!==e)throw Error(o(188))}function m(e){var t=e.alternate;if(!t){if(t=p(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var s=l.return;if(s===null)break;var c=s.alternate;if(c===null){if(a=s.return,a!==null){l=a;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===l)return T(s),e;if(c===a)return T(s),t;c=c.sibling}throw Error(o(188))}if(l.return!==a.return)l=s,a=c;else{for(var r=!1,d=s.child;d;){if(d===l){r=!0,l=s,a=c;break}if(d===a){r=!0,a=s,l=c;break}d=d.sibling}if(!r){for(d=c.child;d;){if(d===l){r=!0,l=c,a=s;break}if(d===a){r=!0,a=c,l=s;break}d=d.sibling}if(!r)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function j(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=j(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),L=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),De=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function J(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case A:return"Profiler";case M:return"StrictMode";case Z:return"Suspense";case le:return"SuspenseList";case De:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case L:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return t=e.displayName||null,t!==null?t:J(e.type)||"Memo";case Te:t=e._payload,e=e._init;try{return J(e(t))}catch{}}return null}var ae=Array.isArray,w=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ie=[],me=-1;function v(e){return{current:e}}function Y(e){0>me||(e.current=ie[me],ie[me]=null,me--)}function K(e,t){me++,ie[me]=e.current,e.current=t}var F=v(null),oe=v(null),be=v(null),je=v(null);function Je(e,t){switch(K(be,t),K(oe,e),K(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?tf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=tf(t),e=lf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(F),K(F,e)}function He(){Y(F),Y(oe),Y(be)}function ee(e){e.memoizedState!==null&&K(je,e);var t=F.current,l=lf(t,e.type);t!==l&&(K(oe,e),K(F,l))}function $e(e){oe.current===e&&(Y(F),Y(oe)),je.current===e&&(Y(je),wn._currentValue=W)}var Ge,ht;function Et(e){if(Ge===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Ge=t&&t[1]||"",ht=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+e+ht}var Le=!1;function ac(e,t){if(!e||Le)return"";Le=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(H){var O=H}Reflect.construct(e,[],G)}else{try{G.call()}catch(H){O=H}e.call(G.prototype)}}else{try{throw Error()}catch(H){O=H}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(H){if(H&&O&&typeof H.stack=="string")return[H.stack,O.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),r=c[0],d=c[1];if(r&&d){var h=r.split(`
`),_=d.split(`
`);for(s=a=0;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;for(;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;if(a===h.length||s===_.length)for(a=h.length-1,s=_.length-1;1<=a&&0<=s&&h[a]!==_[s];)s--;for(;1<=a&&0<=s;a--,s--)if(h[a]!==_[s]){if(a!==1||s!==1)do if(a--,s--,0>s||h[a]!==_[s]){var B=`
`+h[a].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=a&&0<=s);break}}}finally{Le=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Et(l):""}function tm(e,t){switch(e.tag){case 26:case 27:case 5:return Et(e.type);case 16:return Et("Lazy");case 13:return e.child!==t&&t!==null?Et("Suspense Fallback"):Et("Suspense");case 19:return Et("SuspenseList");case 0:case 15:return ac(e.type,!1);case 11:return ac(e.type.render,!1);case 1:return ac(e.type,!0);case 31:return Et("Activity");default:return""}}function _r(e){try{var t="",l=null;do t+=tm(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var nc=Object.prototype.hasOwnProperty,sc=i.unstable_scheduleCallback,cc=i.unstable_cancelCallback,lm=i.unstable_shouldYield,am=i.unstable_requestPaint,bt=i.unstable_now,nm=i.unstable_getCurrentPriorityLevel,Or=i.unstable_ImmediatePriority,Mr=i.unstable_UserBlockingPriority,Hn=i.unstable_NormalPriority,sm=i.unstable_LowPriority,Dr=i.unstable_IdlePriority,cm=i.log,im=i.unstable_setDisableYieldValue,Ba=null,pt=null;function ul(e){if(typeof cm=="function"&&im(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Ba,e)}catch{}}var xt=Math.clz32?Math.clz32:om,rm=Math.log,um=Math.LN2;function om(e){return e>>>=0,e===0?32:31-(rm(e)/um|0)|0}var Ln=256,Bn=262144,Un=4194304;function Dl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qn(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var s=0,c=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var d=a&134217727;return d!==0?(a=d&~c,a!==0?s=Dl(a):(r&=d,r!==0?s=Dl(r):l||(l=d&~e,l!==0&&(s=Dl(l))))):(d=a&~c,d!==0?s=Dl(d):r!==0?s=Dl(r):l||(l=a&~e,l!==0&&(s=Dl(l)))),s===0?0:t!==0&&t!==s&&(t&c)===0&&(c=s&-s,l=t&-t,c>=l||c===32&&(l&4194048)!==0)?t:s}function Ua(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function dm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(){var e=Un;return Un<<=1,(Un&62914560)===0&&(Un=4194304),e}function ic(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function qa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fm(e,t,l,a,s,c){var r=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var d=e.entanglements,h=e.expirationTimes,_=e.hiddenUpdates;for(l=r&~l;0<l;){var B=31-xt(l),G=1<<B;d[B]=0,h[B]=-1;var O=_[B];if(O!==null)for(_[B]=null,B=0;B<O.length;B++){var H=O[B];H!==null&&(H.lane&=-536870913)}l&=~G}a!==0&&Hr(e,a,0),c!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=c&~(r&~t))}function Hr(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-xt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Lr(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-xt(l),s=1<<a;s&t|e[a]&t&&(e[a]|=t),l&=~s}}function Br(e,t){var l=t&-t;return l=(l&42)!==0?1:rc(l),(l&(e.suspendedLanes|t))!==0?0:l}function rc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ur(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:Cf(e.type))}function qr(e,t){var l=q.p;try{return q.p=e,t()}finally{q.p=l}}var ol=Math.random().toString(36).slice(2),Pe="__reactFiber$"+ol,it="__reactProps$"+ol,ea="__reactContainer$"+ol,oc="__reactEvents$"+ol,mm="__reactListeners$"+ol,hm="__reactHandles$"+ol,Qr="__reactResources$"+ol,Qa="__reactMarker$"+ol;function dc(e){delete e[Pe],delete e[it],delete e[oc],delete e[mm],delete e[hm]}function ta(e){var t=e[Pe];if(t)return t;for(var l=e.parentNode;l;){if(t=l[ea]||l[Pe]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=of(e);e!==null;){if(l=e[Pe])return l;e=of(e)}return t}e=l,l=e.parentNode}return null}function la(e){if(e=e[Pe]||e[ea]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ga(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function aa(e){var t=e[Qr];return t||(t=e[Qr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Qa]=!0}var Gr=new Set,Yr={};function Rl(e,t){na(e,t),na(e+"Capture",t)}function na(e,t){for(Yr[e]=t,e=0;e<t.length;e++)Gr.add(t[e])}var bm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vr={},Zr={};function pm(e){return nc.call(Zr,e)?!0:nc.call(Vr,e)?!1:bm.test(e)?Zr[e]=!0:(Vr[e]=!0,!1)}function Qn(e,t,l){if(pm(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Gn(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Yt(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xm(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){l=""+r,c.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(r){l=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fc(e){if(!e._valueTracker){var t=Xr(e)?"checked":"value";e._valueTracker=xm(e,t,""+e[t])}}function Kr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Xr(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Yn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gm=/[\n"\\]/g;function wt(e){return e.replace(gm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function mc(e,t,l,a,s,c,r,d){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ct(t)):e.value!==""+Ct(t)&&(e.value=""+Ct(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?hc(e,r,Ct(t)):l!=null?hc(e,r,Ct(l)):a!=null&&e.removeAttribute("value"),s==null&&c!=null&&(e.defaultChecked=!!c),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+Ct(d):e.removeAttribute("name")}function Jr(e,t,l,a,s,c,r,d){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||l!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){fc(e);return}l=l!=null?""+Ct(l):"",t=t!=null?""+Ct(t):l,d||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=d?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),fc(e)}function hc(e,t,l){t==="number"&&Yn(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function sa(e,t,l,a){if(e=e.options,t){t={};for(var s=0;s<l.length;s++)t["$"+l[s]]=!0;for(l=0;l<e.length;l++)s=t.hasOwnProperty("$"+e[l].value),e[l].selected!==s&&(e[l].selected=s),s&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Ct(l),t=null,s=0;s<e.length;s++){if(e[s].value===l){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $r(e,t,l){if(t!=null&&(t=""+Ct(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Ct(l):""}function Wr(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(ae(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Ct(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),fc(e)}function ca(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var vm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fr(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||vm.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Ir(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&l[s]!==a&&Fr(e,s,a)}else for(var c in t)t.hasOwnProperty(c)&&Fr(e,c,t[c])}function bc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ym=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vn(e){return jm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Vt(){}var pc=null;function xc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ia=null,ra=null;function Pr(e){var t=la(e);if(t&&(e=t.stateNode)){var l=e[it]||null;e:switch(e=t.stateNode,t.type){case"input":if(mc(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+wt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var s=a[it]||null;if(!s)throw Error(o(90));mc(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Kr(a)}break e;case"textarea":$r(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&sa(e,!!l.multiple,t,!1)}}}var gc=!1;function eu(e,t,l){if(gc)return e(t,l);gc=!0;try{var a=e(t);return a}finally{if(gc=!1,(ia!==null||ra!==null)&&(_s(),ia&&(t=ia,e=ra,ra=ia=null,Pr(t),e)))for(t=0;t<e.length;t++)Pr(e[t])}}function Ya(e,t){var l=e.stateNode;if(l===null)return null;var a=l[it]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vc=!1;if(Zt)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){vc=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{vc=!1}var dl=null,yc=null,Zn=null;function tu(){if(Zn)return Zn;var e,t=yc,l=t.length,a,s="value"in dl?dl.value:dl.textContent,c=s.length;for(e=0;e<l&&t[e]===s[e];e++);var r=l-e;for(a=1;a<=r&&t[l-a]===s[c-a];a++);return Zn=s.slice(e,1<a?1-a:void 0)}function Xn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kn(){return!0}function lu(){return!1}function rt(e){function t(l,a,s,c,r){this._reactName=l,this._targetInst=s,this.type=a,this.nativeEvent=c,this.target=r,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(l=e[d],this[d]=l?l(c):c[d]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Kn:lu,this.isPropagationStopped=lu,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),t}var Hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jn=rt(Hl),Za=g({},Hl,{view:0,detail:0}),Nm=rt(Za),jc,Nc,Xa,$n=g({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xa&&(Xa&&e.type==="mousemove"?(jc=e.screenX-Xa.screenX,Nc=e.screenY-Xa.screenY):Nc=jc=0,Xa=e),jc)},movementY:function(e){return"movementY"in e?e.movementY:Nc}}),au=rt($n),Sm=g({},$n,{dataTransfer:0}),Tm=rt(Sm),Em=g({},Za,{relatedTarget:0}),Sc=rt(Em),Cm=g({},Hl,{animationName:0,elapsedTime:0,pseudoElement:0}),wm=rt(Cm),Am=g({},Hl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zm=rt(Am),km=g({},Hl,{data:0}),nu=rt(km),_m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mm[e])?!!t[e]:!1}function Tc(){return Dm}var Rm=g({},Za,{key:function(e){if(e.key){var t=_m[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Om[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(e){return e.type==="keypress"?Xn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hm=rt(Rm),Lm=g({},$n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=rt(Lm),Bm=g({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),Um=rt(Bm),qm=g({},Hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qm=rt(qm),Gm=g({},$n,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ym=rt(Gm),Vm=g({},Hl,{newState:0,oldState:0}),Zm=rt(Vm),Xm=[9,13,27,32],Ec=Zt&&"CompositionEvent"in window,Ka=null;Zt&&"documentMode"in document&&(Ka=document.documentMode);var Km=Zt&&"TextEvent"in window&&!Ka,cu=Zt&&(!Ec||Ka&&8<Ka&&11>=Ka),iu=" ",ru=!1;function uu(e,t){switch(e){case"keyup":return Xm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function Jm(e,t){switch(e){case"compositionend":return ou(t);case"keypress":return t.which!==32?null:(ru=!0,iu);case"textInput":return e=t.data,e===iu&&ru?null:e;default:return null}}function $m(e,t){if(ua)return e==="compositionend"||!Ec&&uu(e,t)?(e=tu(),Zn=yc=dl=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cu&&t.locale!=="ko"?null:t.data;default:return null}}var Wm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wm[e.type]:t==="textarea"}function fu(e,t,l,a){ia?ra?ra.push(a):ra=[a]:ia=a,t=Bs(t,"onChange"),0<t.length&&(l=new Jn("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Ja=null,$a=null;function Fm(e){$d(e,0)}function Wn(e){var t=Ga(e);if(Kr(t))return e}function mu(e,t){if(e==="change")return t}var hu=!1;if(Zt){var Cc;if(Zt){var wc="oninput"in document;if(!wc){var bu=document.createElement("div");bu.setAttribute("oninput","return;"),wc=typeof bu.oninput=="function"}Cc=wc}else Cc=!1;hu=Cc&&(!document.documentMode||9<document.documentMode)}function pu(){Ja&&(Ja.detachEvent("onpropertychange",xu),$a=Ja=null)}function xu(e){if(e.propertyName==="value"&&Wn($a)){var t=[];fu(t,$a,e,xc(e)),eu(Fm,t)}}function Im(e,t,l){e==="focusin"?(pu(),Ja=t,$a=l,Ja.attachEvent("onpropertychange",xu)):e==="focusout"&&pu()}function Pm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wn($a)}function eh(e,t){if(e==="click")return Wn(t)}function th(e,t){if(e==="input"||e==="change")return Wn(t)}function lh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:lh;function Wa(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var s=l[a];if(!nc.call(t,s)||!gt(e[s],t[s]))return!1}return!0}function gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vu(e,t){var l=gu(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=gu(l)}}function yu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ju(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yn(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Yn(e.document)}return t}function Ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ah=Zt&&"documentMode"in document&&11>=document.documentMode,oa=null,zc=null,Fa=null,kc=!1;function Nu(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;kc||oa==null||oa!==Yn(a)||(a=oa,"selectionStart"in a&&Ac(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Fa&&Wa(Fa,a)||(Fa=a,a=Bs(zc,"onSelect"),0<a.length&&(t=new Jn("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=oa)))}function Ll(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var da={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionrun:Ll("Transition","TransitionRun"),transitionstart:Ll("Transition","TransitionStart"),transitioncancel:Ll("Transition","TransitionCancel"),transitionend:Ll("Transition","TransitionEnd")},_c={},Su={};Zt&&(Su=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Bl(e){if(_c[e])return _c[e];if(!da[e])return e;var t=da[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Su)return _c[e]=t[l];return e}var Tu=Bl("animationend"),Eu=Bl("animationiteration"),Cu=Bl("animationstart"),nh=Bl("transitionrun"),sh=Bl("transitionstart"),ch=Bl("transitioncancel"),wu=Bl("transitionend"),Au=new Map,Oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oc.push("scrollEnd");function Ht(e,t){Au.set(e,t),Rl(t,[e])}var Fn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},At=[],fa=0,Mc=0;function In(){for(var e=fa,t=Mc=fa=0;t<e;){var l=At[t];At[t++]=null;var a=At[t];At[t++]=null;var s=At[t];At[t++]=null;var c=At[t];if(At[t++]=null,a!==null&&s!==null){var r=a.pending;r===null?s.next=s:(s.next=r.next,r.next=s),a.pending=s}c!==0&&zu(l,s,c)}}function Pn(e,t,l,a){At[fa++]=e,At[fa++]=t,At[fa++]=l,At[fa++]=a,Mc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Dc(e,t,l,a){return Pn(e,t,l,a),es(e)}function Ul(e,t){return Pn(e,null,null,t),es(e)}function zu(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var s=!1,c=e.return;c!==null;)c.childLanes|=l,a=c.alternate,a!==null&&(a.childLanes|=l),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(s=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,s&&t!==null&&(s=31-xt(l),e=c.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=l|536870912),c):null}function es(e){if(50<yn)throw yn=0,Yi=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ma={};function ih(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,l,a){return new ih(e,t,l,a)}function Rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xt(e,t){var l=e.alternate;return l===null?(l=vt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function ku(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ts(e,t,l,a,s,c){var r=0;if(a=e,typeof e=="function")Rc(e)&&(r=1);else if(typeof e=="string")r=fb(e,l,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case De:return e=vt(31,l,t,s),e.elementType=De,e.lanes=c,e;case U:return ql(l.children,s,c,t);case M:r=8,s|=24;break;case A:return e=vt(12,l,t,s|2),e.elementType=A,e.lanes=c,e;case Z:return e=vt(13,l,t,s),e.elementType=Z,e.lanes=c,e;case le:return e=vt(19,l,t,s),e.elementType=le,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:r=10;break e;case R:r=9;break e;case X:r=11;break e;case ne:r=14;break e;case Te:r=16,a=null;break e}r=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=vt(r,l,t,s),t.elementType=e,t.type=a,t.lanes=c,t}function ql(e,t,l,a){return e=vt(7,e,a,t),e.lanes=l,e}function Hc(e,t,l){return e=vt(6,e,null,t),e.lanes=l,e}function _u(e){var t=vt(18,null,null,0);return t.stateNode=e,t}function Lc(e,t,l){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ou=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var l=Ou.get(e);return l!==void 0?l:(t={value:e,source:t,stack:_r(t)},Ou.set(e,t),t)}return{value:e,source:t,stack:_r(t)}}var ha=[],ba=0,ls=null,Ia=0,kt=[],_t=0,fl=null,Ut=1,qt="";function Kt(e,t){ha[ba++]=Ia,ha[ba++]=ls,ls=e,Ia=t}function Mu(e,t,l){kt[_t++]=Ut,kt[_t++]=qt,kt[_t++]=fl,fl=e;var a=Ut;e=qt;var s=32-xt(a)-1;a&=~(1<<s),l+=1;var c=32-xt(t)+s;if(30<c){var r=s-s%5;c=(a&(1<<r)-1).toString(32),a>>=r,s-=r,Ut=1<<32-xt(t)+s|l<<s|a,qt=c+e}else Ut=1<<c|l<<s|a,qt=e}function Bc(e){e.return!==null&&(Kt(e,1),Mu(e,1,0))}function Uc(e){for(;e===ls;)ls=ha[--ba],ha[ba]=null,Ia=ha[--ba],ha[ba]=null;for(;e===fl;)fl=kt[--_t],kt[_t]=null,qt=kt[--_t],kt[_t]=null,Ut=kt[--_t],kt[_t]=null}function Du(e,t){kt[_t++]=Ut,kt[_t++]=qt,kt[_t++]=fl,Ut=t.id,qt=t.overflow,fl=e}var et=null,Oe=null,ye=!1,ml=null,Ot=!1,qc=Error(o(519));function hl(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pa(zt(t,e)),qc}function Ru(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[Pe]=e,t[it]=a,l){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(l=0;l<Nn.length;l++)xe(Nn[l],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),Jr(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),Wr(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||Pd(t.textContent,l)?(a.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),a.onScroll!=null&&xe("scroll",t),a.onScrollEnd!=null&&xe("scrollend",t),a.onClick!=null&&(t.onclick=Vt),t=!0):t=!1,t||hl(e,!0)}function Hu(e){for(et=e.return;et;)switch(et.tag){case 5:case 31:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:et=et.return}}function pa(e){if(e!==et)return!1;if(!ye)return Hu(e),ye=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||nr(e.type,e.memoizedProps)),l=!l),l&&Oe&&hl(e),Hu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Oe=uf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Oe=uf(e)}else t===27?(t=Oe,Al(e.type)?(e=ur,ur=null,Oe=e):Oe=t):Oe=et?Dt(e.stateNode.nextSibling):null;return!0}function Ql(){Oe=et=null,ye=!1}function Qc(){var e=ml;return e!==null&&(ft===null?ft=e:ft.push.apply(ft,e),ml=null),e}function Pa(e){ml===null?ml=[e]:ml.push(e)}var Gc=v(null),Gl=null,Jt=null;function bl(e,t,l){K(Gc,t._currentValue),t._currentValue=l}function $t(e){e._currentValue=Gc.current,Y(Gc)}function Yc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Vc(e,t,l,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){var r=s.child;c=c.firstContext;e:for(;c!==null;){var d=c;c=s;for(var h=0;h<t.length;h++)if(d.context===t[h]){c.lanes|=l,d=c.alternate,d!==null&&(d.lanes|=l),Yc(c.return,l,e),a||(r=null);break e}c=d.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(o(341));r.lanes|=l,c=r.alternate,c!==null&&(c.lanes|=l),Yc(r,l,e),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function xa(e,t,l,a){e=null;for(var s=t,c=!1;s!==null;){if(!c){if((s.flags&524288)!==0)c=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(o(387));if(r=r.memoizedProps,r!==null){var d=s.type;gt(s.pendingProps.value,r.value)||(e!==null?e.push(d):e=[d])}}else if(s===je.current){if(r=s.alternate,r===null)throw Error(o(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(wn):e=[wn])}s=s.return}e!==null&&Vc(t,e,l,a),t.flags|=262144}function as(e){for(e=e.firstContext;e!==null;){if(!gt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Yl(e){Gl=e,Jt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tt(e){return Lu(Gl,e)}function ns(e,t){return Gl===null&&Yl(e),Lu(e,t)}function Lu(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Jt===null){if(e===null)throw Error(o(308));Jt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Jt=Jt.next=t;return l}var rh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},uh=i.unstable_scheduleCallback,oh=i.unstable_NormalPriority,Ye={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new rh,data:new Map,refCount:0}}function en(e){e.refCount--,e.refCount===0&&uh(oh,function(){e.controller.abort()})}var tn=null,Xc=0,ga=0,va=null;function dh(e,t){if(tn===null){var l=tn=[];Xc=0,ga=$i(),va={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Xc++,t.then(Bu,Bu),t}function Bu(){if(--Xc===0&&tn!==null){va!==null&&(va.status="fulfilled");var e=tn;tn=null,ga=0,va=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fh(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(s){l.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<l.length;s++)(0,l[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<l.length;s++)(0,l[s])(void 0)}),a}var Uu=w.S;w.S=function(e,t){Sd=bt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&dh(e,t),Uu!==null&&Uu(e,t)};var Vl=v(null);function Kc(){var e=Vl.current;return e!==null?e:_e.pooledCache}function ss(e,t){t===null?K(Vl,Vl.current):K(Vl,t.pool)}function qu(){var e=Kc();return e===null?null:{parent:Ye._currentValue,pool:e}}var ya=Error(o(460)),Jc=Error(o(474)),cs=Error(o(542)),is={then:function(){}};function Qu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gu(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Vt,Vt),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vu(e),e;default:if(typeof t.status=="string")t.then(Vt,Vt);else{if(e=_e,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vu(e),e}throw Xl=t,ya}}function Zl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Xl=l,ya):l}}var Xl=null;function Yu(){if(Xl===null)throw Error(o(459));var e=Xl;return Xl=null,e}function Vu(e){if(e===ya||e===cs)throw Error(o(483))}var ja=null,ln=0;function rs(e){var t=ln;return ln+=1,ja===null&&(ja=[]),Gu(ja,e,t)}function an(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function us(e,t){throw t.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Zu(e){function t(C,x){if(e){var z=C.deletions;z===null?(C.deletions=[x],C.flags|=16):z.push(x)}}function l(C,x){if(!e)return null;for(;x!==null;)t(C,x),x=x.sibling;return null}function a(C){for(var x=new Map;C!==null;)C.key!==null?x.set(C.key,C):x.set(C.index,C),C=C.sibling;return x}function s(C,x){return C=Xt(C,x),C.index=0,C.sibling=null,C}function c(C,x,z){return C.index=z,e?(z=C.alternate,z!==null?(z=z.index,z<x?(C.flags|=67108866,x):z):(C.flags|=67108866,x)):(C.flags|=1048576,x)}function r(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function d(C,x,z,Q){return x===null||x.tag!==6?(x=Hc(z,C.mode,Q),x.return=C,x):(x=s(x,z),x.return=C,x)}function h(C,x,z,Q){var se=z.type;return se===U?B(C,x,z.props.children,Q,z.key):x!==null&&(x.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Te&&Zl(se)===x.type)?(x=s(x,z.props),an(x,z),x.return=C,x):(x=ts(z.type,z.key,z.props,null,C.mode,Q),an(x,z),x.return=C,x)}function _(C,x,z,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=Lc(z,C.mode,Q),x.return=C,x):(x=s(x,z.children||[]),x.return=C,x)}function B(C,x,z,Q,se){return x===null||x.tag!==7?(x=ql(z,C.mode,Q,se),x.return=C,x):(x=s(x,z),x.return=C,x)}function G(C,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Hc(""+x,C.mode,z),x.return=C,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case k:return z=ts(x.type,x.key,x.props,null,C.mode,z),an(z,x),z.return=C,z;case D:return x=Lc(x,C.mode,z),x.return=C,x;case Te:return x=Zl(x),G(C,x,z)}if(ae(x)||P(x))return x=ql(x,C.mode,z,null),x.return=C,x;if(typeof x.then=="function")return G(C,rs(x),z);if(x.$$typeof===L)return G(C,ns(C,x),z);us(C,x)}return null}function O(C,x,z,Q){var se=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return se!==null?null:d(C,x,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===se?h(C,x,z,Q):null;case D:return z.key===se?_(C,x,z,Q):null;case Te:return z=Zl(z),O(C,x,z,Q)}if(ae(z)||P(z))return se!==null?null:B(C,x,z,Q,null);if(typeof z.then=="function")return O(C,x,rs(z),Q);if(z.$$typeof===L)return O(C,x,ns(C,z),Q);us(C,z)}return null}function H(C,x,z,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return C=C.get(z)||null,d(x,C,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:return C=C.get(Q.key===null?z:Q.key)||null,h(x,C,Q,se);case D:return C=C.get(Q.key===null?z:Q.key)||null,_(x,C,Q,se);case Te:return Q=Zl(Q),H(C,x,z,Q,se)}if(ae(Q)||P(Q))return C=C.get(z)||null,B(x,C,Q,se,null);if(typeof Q.then=="function")return H(C,x,z,rs(Q),se);if(Q.$$typeof===L)return H(C,x,z,ns(x,Q),se);us(x,Q)}return null}function I(C,x,z,Q){for(var se=null,Ne=null,te=x,he=x=0,ve=null;te!==null&&he<z.length;he++){te.index>he?(ve=te,te=null):ve=te.sibling;var Se=O(C,te,z[he],Q);if(Se===null){te===null&&(te=ve);break}e&&te&&Se.alternate===null&&t(C,te),x=c(Se,x,he),Ne===null?se=Se:Ne.sibling=Se,Ne=Se,te=ve}if(he===z.length)return l(C,te),ye&&Kt(C,he),se;if(te===null){for(;he<z.length;he++)te=G(C,z[he],Q),te!==null&&(x=c(te,x,he),Ne===null?se=te:Ne.sibling=te,Ne=te);return ye&&Kt(C,he),se}for(te=a(te);he<z.length;he++)ve=H(te,C,he,z[he],Q),ve!==null&&(e&&ve.alternate!==null&&te.delete(ve.key===null?he:ve.key),x=c(ve,x,he),Ne===null?se=ve:Ne.sibling=ve,Ne=ve);return e&&te.forEach(function(Ml){return t(C,Ml)}),ye&&Kt(C,he),se}function ce(C,x,z,Q){if(z==null)throw Error(o(151));for(var se=null,Ne=null,te=x,he=x=0,ve=null,Se=z.next();te!==null&&!Se.done;he++,Se=z.next()){te.index>he?(ve=te,te=null):ve=te.sibling;var Ml=O(C,te,Se.value,Q);if(Ml===null){te===null&&(te=ve);break}e&&te&&Ml.alternate===null&&t(C,te),x=c(Ml,x,he),Ne===null?se=Ml:Ne.sibling=Ml,Ne=Ml,te=ve}if(Se.done)return l(C,te),ye&&Kt(C,he),se;if(te===null){for(;!Se.done;he++,Se=z.next())Se=G(C,Se.value,Q),Se!==null&&(x=c(Se,x,he),Ne===null?se=Se:Ne.sibling=Se,Ne=Se);return ye&&Kt(C,he),se}for(te=a(te);!Se.done;he++,Se=z.next())Se=H(te,C,he,Se.value,Q),Se!==null&&(e&&Se.alternate!==null&&te.delete(Se.key===null?he:Se.key),x=c(Se,x,he),Ne===null?se=Se:Ne.sibling=Se,Ne=Se);return e&&te.forEach(function(Sb){return t(C,Sb)}),ye&&Kt(C,he),se}function ke(C,x,z,Q){if(typeof z=="object"&&z!==null&&z.type===U&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:e:{for(var se=z.key;x!==null;){if(x.key===se){if(se=z.type,se===U){if(x.tag===7){l(C,x.sibling),Q=s(x,z.props.children),Q.return=C,C=Q;break e}}else if(x.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Te&&Zl(se)===x.type){l(C,x.sibling),Q=s(x,z.props),an(Q,z),Q.return=C,C=Q;break e}l(C,x);break}else t(C,x);x=x.sibling}z.type===U?(Q=ql(z.props.children,C.mode,Q,z.key),Q.return=C,C=Q):(Q=ts(z.type,z.key,z.props,null,C.mode,Q),an(Q,z),Q.return=C,C=Q)}return r(C);case D:e:{for(se=z.key;x!==null;){if(x.key===se)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){l(C,x.sibling),Q=s(x,z.children||[]),Q.return=C,C=Q;break e}else{l(C,x);break}else t(C,x);x=x.sibling}Q=Lc(z,C.mode,Q),Q.return=C,C=Q}return r(C);case Te:return z=Zl(z),ke(C,x,z,Q)}if(ae(z))return I(C,x,z,Q);if(P(z)){if(se=P(z),typeof se!="function")throw Error(o(150));return z=se.call(z),ce(C,x,z,Q)}if(typeof z.then=="function")return ke(C,x,rs(z),Q);if(z.$$typeof===L)return ke(C,x,ns(C,z),Q);us(C,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(l(C,x.sibling),Q=s(x,z),Q.return=C,C=Q):(l(C,x),Q=Hc(z,C.mode,Q),Q.return=C,C=Q),r(C)):l(C,x)}return function(C,x,z,Q){try{ln=0;var se=ke(C,x,z,Q);return ja=null,se}catch(te){if(te===ya||te===cs)throw te;var Ne=vt(29,te,null,C.mode);return Ne.lanes=Q,Ne.return=C,Ne}}}var Kl=Zu(!0),Xu=Zu(!1),pl=!1;function $c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function gl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ee&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=es(e),zu(e,null,l),t}return Pn(e,a,t,l),es(e)}function nn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Lr(e,l)}}function Fc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var s=null,c=null;if(l=l.firstBaseUpdate,l!==null){do{var r={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};c===null?s=c=r:c=c.next=r,l=l.next}while(l!==null);c===null?s=c=t:c=c.next=t}else s=c=t;l={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Ic=!1;function sn(){if(Ic){var e=va;if(e!==null)throw e}}function cn(e,t,l,a){Ic=!1;var s=e.updateQueue;pl=!1;var c=s.firstBaseUpdate,r=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var h=d,_=h.next;h.next=null,r===null?c=_:r.next=_,r=h;var B=e.alternate;B!==null&&(B=B.updateQueue,d=B.lastBaseUpdate,d!==r&&(d===null?B.firstBaseUpdate=_:d.next=_,B.lastBaseUpdate=h))}if(c!==null){var G=s.baseState;r=0,B=_=h=null,d=c;do{var O=d.lane&-536870913,H=O!==d.lane;if(H?(ge&O)===O:(a&O)===O){O!==0&&O===ga&&(Ic=!0),B!==null&&(B=B.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var I=e,ce=d;O=t;var ke=l;switch(ce.tag){case 1:if(I=ce.payload,typeof I=="function"){G=I.call(ke,G,O);break e}G=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=ce.payload,O=typeof I=="function"?I.call(ke,G,O):I,O==null)break e;G=g({},G,O);break e;case 2:pl=!0}}O=d.callback,O!==null&&(e.flags|=64,H&&(e.flags|=8192),H=s.callbacks,H===null?s.callbacks=[O]:H.push(O))}else H={lane:O,tag:d.tag,payload:d.payload,callback:d.callback,next:null},B===null?(_=B=H,h=G):B=B.next=H,r|=O;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;H=d,d=H.next,H.next=null,s.lastBaseUpdate=H,s.shared.pending=null}}while(!0);B===null&&(h=G),s.baseState=h,s.firstBaseUpdate=_,s.lastBaseUpdate=B,c===null&&(s.shared.lanes=0),Sl|=r,e.lanes=r,e.memoizedState=G}}function Ku(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Ju(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Ku(l[e],t)}var Na=v(null),os=v(0);function $u(e,t){e=nl,K(os,e),K(Na,t),nl=e|t.baseLanes}function Pc(){K(os,nl),K(Na,Na.current)}function ei(){nl=os.current,Y(Na),Y(os)}var yt=v(null),Mt=null;function vl(e){var t=e.alternate;K(qe,qe.current&1),K(yt,e),Mt===null&&(t===null||Na.current!==null||t.memoizedState!==null)&&(Mt=e)}function ti(e){K(qe,qe.current),K(yt,e),Mt===null&&(Mt=e)}function Wu(e){e.tag===22?(K(qe,qe.current),K(yt,e),Mt===null&&(Mt=e)):yl()}function yl(){K(qe,qe.current),K(yt,yt.current)}function jt(e){Y(yt),Mt===e&&(Mt=null),Y(qe)}var qe=v(0);function ds(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ir(l)||rr(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wt=0,fe=null,Ae=null,Ve=null,fs=!1,Sa=!1,Jl=!1,ms=0,rn=0,Ta=null,mh=0;function Be(){throw Error(o(321))}function li(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!gt(e[l],t[l]))return!1;return!0}function ai(e,t,l,a,s,c){return Wt=c,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?Do:gi,Jl=!1,c=l(a,s),Jl=!1,Sa&&(c=Iu(t,l,a,s)),Fu(e),c}function Fu(e){w.H=dn;var t=Ae!==null&&Ae.next!==null;if(Wt=0,Ve=Ae=fe=null,fs=!1,rn=0,Ta=null,t)throw Error(o(300));e===null||Ze||(e=e.dependencies,e!==null&&as(e)&&(Ze=!0))}function Iu(e,t,l,a){fe=e;var s=0;do{if(Sa&&(Ta=null),rn=0,Sa=!1,25<=s)throw Error(o(301));if(s+=1,Ve=Ae=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}w.H=Ro,c=t(l,a)}while(Sa);return c}function hh(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?un(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(fe.flags|=1024),t}function ni(){var e=ms!==0;return ms=0,e}function si(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function ci(e){if(fs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fs=!1}Wt=0,Ve=Ae=fe=null,Sa=!1,rn=ms=0,Ta=null}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?fe.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Qe(){if(Ae===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Ve===null?fe.memoizedState:Ve.next;if(t!==null)Ve=t,Ae=e;else{if(e===null)throw fe.alternate===null?Error(o(467)):Error(o(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ve===null?fe.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function hs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function un(e){var t=rn;return rn+=1,Ta===null&&(Ta=[]),e=Gu(Ta,e,t),t=fe,(Ve===null?t.memoizedState:Ve.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?Do:gi),e}function bs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return un(e);if(e.$$typeof===L)return tt(e)}throw Error(o(438,String(e)))}function ii(e){var t=null,l=fe.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=fe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=hs(),fe.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=$;return t.index++,l}function Ft(e,t){return typeof t=="function"?t(e):t}function ps(e){var t=Qe();return ri(t,Ae,e)}function ri(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var s=e.baseQueue,c=a.pending;if(c!==null){if(s!==null){var r=s.next;s.next=c.next,c.next=r}t.baseQueue=s=c,a.pending=null}if(c=e.baseState,s===null)e.memoizedState=c;else{t=s.next;var d=r=null,h=null,_=t,B=!1;do{var G=_.lane&-536870913;if(G!==_.lane?(ge&G)===G:(Wt&G)===G){var O=_.revertLane;if(O===0)h!==null&&(h=h.next={lane:0,revertLane:0,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),G===ga&&(B=!0);else if((Wt&O)===O){_=_.next,O===ga&&(B=!0);continue}else G={lane:0,revertLane:_.revertLane,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},h===null?(d=h=G,r=c):h=h.next=G,fe.lanes|=O,Sl|=O;G=_.action,Jl&&l(c,G),c=_.hasEagerState?_.eagerState:l(c,G)}else O={lane:G,revertLane:_.revertLane,gesture:_.gesture,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},h===null?(d=h=O,r=c):h=h.next=O,fe.lanes|=G,Sl|=G;_=_.next}while(_!==null&&_!==t);if(h===null?r=c:h.next=d,!gt(c,e.memoizedState)&&(Ze=!0,B&&(l=va,l!==null)))throw l;e.memoizedState=c,e.baseState=r,e.baseQueue=h,a.lastRenderedState=c}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ui(e){var t=Qe(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,s=l.pending,c=t.memoizedState;if(s!==null){l.pending=null;var r=s=s.next;do c=e(c,r.action),r=r.next;while(r!==s);gt(c,t.memoizedState)||(Ze=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),l.lastRenderedState=c}return[c,a]}function Pu(e,t,l){var a=fe,s=Qe(),c=ye;if(c){if(l===void 0)throw Error(o(407));l=l()}else l=t();var r=!gt((Ae||s).memoizedState,l);if(r&&(s.memoizedState=l,Ze=!0),s=s.queue,fi(lo.bind(null,a,s,e),[e]),s.getSnapshot!==t||r||Ve!==null&&Ve.memoizedState.tag&1){if(a.flags|=2048,Ea(9,{destroy:void 0},to.bind(null,a,s,l,t),null),_e===null)throw Error(o(349));c||(Wt&127)!==0||eo(a,t,l)}return l}function eo(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=fe.updateQueue,t===null?(t=hs(),fe.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function to(e,t,l,a){t.value=l,t.getSnapshot=a,ao(t)&&no(e)}function lo(e,t,l){return l(function(){ao(t)&&no(e)})}function ao(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!gt(e,l)}catch{return!0}}function no(e){var t=Ul(e,2);t!==null&&mt(t,e,2)}function oi(e){var t=ct();if(typeof e=="function"){var l=e;if(e=l(),Jl){ul(!0);try{l()}finally{ul(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:e},t}function so(e,t,l,a){return e.baseState=l,ri(e,Ae,typeof a=="function"?a:Ft)}function bh(e,t,l,a,s){if(vs(e))throw Error(o(485));if(e=t.action,e!==null){var c={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){c.listeners.push(r)}};w.T!==null?l(!0):c.isTransition=!1,a(c),l=t.pending,l===null?(c.next=t.pending=c,co(t,c)):(c.next=l.next,t.pending=l.next=c)}}function co(e,t){var l=t.action,a=t.payload,s=e.state;if(t.isTransition){var c=w.T,r={};w.T=r;try{var d=l(s,a),h=w.S;h!==null&&h(r,d),io(e,t,d)}catch(_){di(e,t,_)}finally{c!==null&&r.types!==null&&(c.types=r.types),w.T=c}}else try{c=l(s,a),io(e,t,c)}catch(_){di(e,t,_)}}function io(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){ro(e,t,a)},function(a){return di(e,t,a)}):ro(e,t,l)}function ro(e,t,l){t.status="fulfilled",t.value=l,uo(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,co(e,l)))}function di(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,uo(t),t=t.next;while(t!==a)}e.action=null}function uo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oo(e,t){return t}function fo(e,t){if(ye){var l=_e.formState;if(l!==null){e:{var a=fe;if(ye){if(Oe){t:{for(var s=Oe,c=Ot;s.nodeType!==8;){if(!c){s=null;break t}if(s=Dt(s.nextSibling),s===null){s=null;break t}}c=s.data,s=c==="F!"||c==="F"?s:null}if(s){Oe=Dt(s.nextSibling),a=s.data==="F!";break e}}hl(a)}a=!1}a&&(t=l[0])}}return l=ct(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:t},l.queue=a,l=_o.bind(null,fe,a),a.dispatch=l,a=oi(!1),c=xi.bind(null,fe,!1,a.queue),a=ct(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,l=bh.bind(null,fe,s,c,l),s.dispatch=l,a.memoizedState=e,[t,l,!1]}function mo(e){var t=Qe();return ho(t,Ae,e)}function ho(e,t,l){if(t=ri(e,t,oo)[0],e=ps(Ft)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=un(t)}catch(r){throw r===ya?cs:r}else a=t;t=Qe();var s=t.queue,c=s.dispatch;return l!==t.memoizedState&&(fe.flags|=2048,Ea(9,{destroy:void 0},ph.bind(null,s,l),null)),[a,c,e]}function ph(e,t){e.action=t}function bo(e){var t=Qe(),l=Ae;if(l!==null)return ho(t,l,e);Qe(),t=t.memoizedState,l=Qe();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Ea(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=fe.updateQueue,t===null&&(t=hs(),fe.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function po(){return Qe().memoizedState}function xs(e,t,l,a){var s=ct();fe.flags|=e,s.memoizedState=Ea(1|t,{destroy:void 0},l,a===void 0?null:a)}function gs(e,t,l,a){var s=Qe();a=a===void 0?null:a;var c=s.memoizedState.inst;Ae!==null&&a!==null&&li(a,Ae.memoizedState.deps)?s.memoizedState=Ea(t,c,l,a):(fe.flags|=e,s.memoizedState=Ea(1|t,c,l,a))}function xo(e,t){xs(8390656,8,e,t)}function fi(e,t){gs(2048,8,e,t)}function xh(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=hs(),fe.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function go(e){var t=Qe().memoizedState;return xh({ref:t,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function vo(e,t){return gs(4,2,e,t)}function yo(e,t){return gs(4,4,e,t)}function jo(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function No(e,t,l){l=l!=null?l.concat([e]):null,gs(4,4,jo.bind(null,t,e),l)}function mi(){}function So(e,t){var l=Qe();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&li(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function To(e,t){var l=Qe();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&li(t,a[1]))return a[0];if(a=e(),Jl){ul(!0);try{e()}finally{ul(!1)}}return l.memoizedState=[a,t],a}function hi(e,t,l){return l===void 0||(Wt&1073741824)!==0&&(ge&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Ed(),fe.lanes|=e,Sl|=e,l)}function Eo(e,t,l,a){return gt(l,t)?l:Na.current!==null?(e=hi(e,l,a),gt(e,t)||(Ze=!0),e):(Wt&42)===0||(Wt&1073741824)!==0&&(ge&261930)===0?(Ze=!0,e.memoizedState=l):(e=Ed(),fe.lanes|=e,Sl|=e,t)}function Co(e,t,l,a,s){var c=q.p;q.p=c!==0&&8>c?c:8;var r=w.T,d={};w.T=d,xi(e,!1,t,l);try{var h=s(),_=w.S;if(_!==null&&_(d,h),h!==null&&typeof h=="object"&&typeof h.then=="function"){var B=fh(h,a);on(e,t,B,Tt(e))}else on(e,t,a,Tt(e))}catch(G){on(e,t,{then:function(){},status:"rejected",reason:G},Tt())}finally{q.p=c,r!==null&&d.types!==null&&(r.types=d.types),w.T=r}}function gh(){}function bi(e,t,l,a){if(e.tag!==5)throw Error(o(476));var s=wo(e).queue;Co(e,s,t,W,l===null?gh:function(){return Ao(e),l(a)})}function wo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:W},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ao(e){var t=wo(e);t.next===null&&(t=e.alternate.memoizedState),on(e,t.next.queue,{},Tt())}function pi(){return tt(wn)}function zo(){return Qe().memoizedState}function ko(){return Qe().memoizedState}function vh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Tt();e=xl(l);var a=gl(t,e,l);a!==null&&(mt(a,t,l),nn(a,t,l)),t={cache:Zc()},e.payload=t;return}t=t.return}}function yh(e,t,l){var a=Tt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vs(e)?Oo(t,l):(l=Dc(e,t,l,a),l!==null&&(mt(l,e,a),Mo(l,t,a)))}function _o(e,t,l){var a=Tt();on(e,t,l,a)}function on(e,t,l,a){var s={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(vs(e))Oo(t,s);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var r=t.lastRenderedState,d=c(r,l);if(s.hasEagerState=!0,s.eagerState=d,gt(d,r))return Pn(e,t,s,0),_e===null&&In(),!1}catch{}if(l=Dc(e,t,s,a),l!==null)return mt(l,e,a),Mo(l,t,a),!0}return!1}function xi(e,t,l,a){if(a={lane:2,revertLane:$i(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vs(e)){if(t)throw Error(o(479))}else t=Dc(e,l,a,2),t!==null&&mt(t,e,2)}function vs(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Oo(e,t){Sa=fs=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Mo(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Lr(e,l)}}var dn={readContext:tt,use:bs,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};dn.useEffectEvent=Be;var Do={readContext:tt,use:bs,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:xo,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,xs(4194308,4,jo.bind(null,t,e),l)},useLayoutEffect:function(e,t){return xs(4194308,4,e,t)},useInsertionEffect:function(e,t){xs(4,2,e,t)},useMemo:function(e,t){var l=ct();t=t===void 0?null:t;var a=e();if(Jl){ul(!0);try{e()}finally{ul(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=ct();if(l!==void 0){var s=l(t);if(Jl){ul(!0);try{l(t)}finally{ul(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=yh.bind(null,fe,e),[a.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:function(e){e=oi(e);var t=e.queue,l=_o.bind(null,fe,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:mi,useDeferredValue:function(e,t){var l=ct();return hi(l,e,t)},useTransition:function(){var e=oi(!1);return e=Co.bind(null,fe,e.queue,!0,!1),ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=fe,s=ct();if(ye){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),_e===null)throw Error(o(349));(ge&127)!==0||eo(a,t,l)}s.memoizedState=l;var c={value:l,getSnapshot:t};return s.queue=c,xo(lo.bind(null,a,c,e),[e]),a.flags|=2048,Ea(9,{destroy:void 0},to.bind(null,a,c,l,t),null),l},useId:function(){var e=ct(),t=_e.identifierPrefix;if(ye){var l=qt,a=Ut;l=(a&~(1<<32-xt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=ms++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=mh++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:pi,useFormState:fo,useActionState:fo,useOptimistic:function(e){var t=ct();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=xi.bind(null,fe,!0,l),l.dispatch=t,[e,t]},useMemoCache:ii,useCacheRefresh:function(){return ct().memoizedState=vh.bind(null,fe)},useEffectEvent:function(e){var t=ct(),l={impl:e};return t.memoizedState=l,function(){if((Ee&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},gi={readContext:tt,use:bs,useCallback:So,useContext:tt,useEffect:fi,useImperativeHandle:No,useInsertionEffect:vo,useLayoutEffect:yo,useMemo:To,useReducer:ps,useRef:po,useState:function(){return ps(Ft)},useDebugValue:mi,useDeferredValue:function(e,t){var l=Qe();return Eo(l,Ae.memoizedState,e,t)},useTransition:function(){var e=ps(Ft)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:un(e),t]},useSyncExternalStore:Pu,useId:zo,useHostTransitionStatus:pi,useFormState:mo,useActionState:mo,useOptimistic:function(e,t){var l=Qe();return so(l,Ae,e,t)},useMemoCache:ii,useCacheRefresh:ko};gi.useEffectEvent=go;var Ro={readContext:tt,use:bs,useCallback:So,useContext:tt,useEffect:fi,useImperativeHandle:No,useInsertionEffect:vo,useLayoutEffect:yo,useMemo:To,useReducer:ui,useRef:po,useState:function(){return ui(Ft)},useDebugValue:mi,useDeferredValue:function(e,t){var l=Qe();return Ae===null?hi(l,e,t):Eo(l,Ae.memoizedState,e,t)},useTransition:function(){var e=ui(Ft)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:un(e),t]},useSyncExternalStore:Pu,useId:zo,useHostTransitionStatus:pi,useFormState:bo,useActionState:bo,useOptimistic:function(e,t){var l=Qe();return Ae!==null?so(l,Ae,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:ii,useCacheRefresh:ko};Ro.useEffectEvent=go;function vi(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:g({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var yi={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Tt(),s=xl(a);s.payload=t,l!=null&&(s.callback=l),t=gl(e,s,a),t!==null&&(mt(t,e,a),nn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Tt(),s=xl(a);s.tag=1,s.payload=t,l!=null&&(s.callback=l),t=gl(e,s,a),t!==null&&(mt(t,e,a),nn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Tt(),a=xl(l);a.tag=2,t!=null&&(a.callback=t),t=gl(e,a,l),t!==null&&(mt(t,e,l),nn(t,e,l))}};function Ho(e,t,l,a,s,c,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,r):t.prototype&&t.prototype.isPureReactComponent?!Wa(l,a)||!Wa(s,c):!0}function Lo(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&yi.enqueueReplaceState(t,t.state,null)}function $l(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=g({},l));for(var s in e)l[s]===void 0&&(l[s]=e[s])}return l}function Bo(e){Fn(e)}function Uo(e){console.error(e)}function qo(e){Fn(e)}function ys(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Qo(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function ji(e,t,l){return l=xl(l),l.tag=3,l.payload={element:null},l.callback=function(){ys(e,t)},l}function Go(e){return e=xl(e),e.tag=3,e}function Yo(e,t,l,a){var s=l.type.getDerivedStateFromError;if(typeof s=="function"){var c=a.value;e.payload=function(){return s(c)},e.callback=function(){Qo(t,l,a)}}var r=l.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Qo(t,l,a),typeof s!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var d=a.stack;this.componentDidCatch(a.value,{componentStack:d!==null?d:""})})}function jh(e,t,l,a,s){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&xa(t,l,s,!0),l=yt.current,l!==null){switch(l.tag){case 31:case 13:return Mt===null?Os():l.alternate===null&&Ue===0&&(Ue=3),l.flags&=-257,l.flags|=65536,l.lanes=s,a===is?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Xi(e,a,s)),!1;case 22:return l.flags|=65536,a===is?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Xi(e,a,s)),!1}throw Error(o(435,l.tag))}return Xi(e,a,s),Os(),!1}if(ye)return t=yt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==qc&&(e=Error(o(422),{cause:a}),Pa(zt(e,l)))):(a!==qc&&(t=Error(o(423),{cause:a}),Pa(zt(t,l))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=zt(a,l),s=ji(e.stateNode,a,s),Fc(e,s),Ue!==4&&(Ue=2)),!1;var c=Error(o(520),{cause:a});if(c=zt(c,l),vn===null?vn=[c]:vn.push(c),Ue!==4&&(Ue=2),t===null)return!0;a=zt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=s&-s,l.lanes|=e,e=ji(l.stateNode,a,e),Fc(l,e),!1;case 1:if(t=l.type,c=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Tl===null||!Tl.has(c))))return l.flags|=65536,s&=-s,l.lanes|=s,s=Go(s),Yo(s,e,l,a),Fc(l,s),!1}l=l.return}while(l!==null);return!1}var Ni=Error(o(461)),Ze=!1;function lt(e,t,l,a){t.child=e===null?Xu(t,null,l,a):Kl(t,e.child,l,a)}function Vo(e,t,l,a,s){l=l.render;var c=t.ref;if("ref"in a){var r={};for(var d in a)d!=="ref"&&(r[d]=a[d])}else r=a;return Yl(t),a=ai(e,t,l,r,c,s),d=ni(),e!==null&&!Ze?(si(e,t,s),It(e,t,s)):(ye&&d&&Bc(t),t.flags|=1,lt(e,t,a,s),t.child)}function Zo(e,t,l,a,s){if(e===null){var c=l.type;return typeof c=="function"&&!Rc(c)&&c.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=c,Xo(e,t,c,a,s)):(e=ts(l.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!ki(e,s)){var r=c.memoizedProps;if(l=l.compare,l=l!==null?l:Wa,l(r,a)&&e.ref===t.ref)return It(e,t,s)}return t.flags|=1,e=Xt(c,a),e.ref=t.ref,e.return=t,t.child=e}function Xo(e,t,l,a,s){if(e!==null){var c=e.memoizedProps;if(Wa(c,a)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=a=c,ki(e,s))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,It(e,t,s)}return Si(e,t,l,a,s)}function Ko(e,t,l,a){var s=a.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|l:l,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~c}else a=0,t.child=null;return Jo(e,t,c,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ss(t,c!==null?c.cachePool:null),c!==null?$u(t,c):Pc(),Wu(t);else return a=t.lanes=536870912,Jo(e,t,c!==null?c.baseLanes|l:l,l,a)}else c!==null?(ss(t,c.cachePool),$u(t,c),yl(),t.memoizedState=null):(e!==null&&ss(t,null),Pc(),yl());return lt(e,t,s,l),t.child}function fn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Jo(e,t,l,a,s){var c=Kc();return c=c===null?null:{parent:Ye._currentValue,pool:c},t.memoizedState={baseLanes:l,cachePool:c},e!==null&&ss(t,null),Pc(),Wu(t),e!==null&&xa(e,t,a,!0),t.childLanes=s,null}function js(e,t){return t=Ss({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function $o(e,t,l){return Kl(t,e.child,null,l),e=js(t,t.pendingProps),e.flags|=2,jt(t),t.memoizedState=null,e}function Nh(e,t,l){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(a.mode==="hidden")return e=js(t,a),t.lanes=536870912,fn(null,e);if(ti(t),(e=Oe)?(e=rf(e,Ot),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:fl!==null?{id:Ut,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},l=_u(e),l.return=t,t.child=l,et=t,Oe=null)):e=null,e===null)throw hl(t);return t.lanes=536870912,null}return js(t,a)}var c=e.memoizedState;if(c!==null){var r=c.dehydrated;if(ti(t),s)if(t.flags&256)t.flags&=-257,t=$o(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Ze||xa(e,t,l,!1),s=(l&e.childLanes)!==0,Ze||s){if(a=_e,a!==null&&(r=Br(a,l),r!==0&&r!==c.retryLane))throw c.retryLane=r,Ul(e,r),mt(a,e,r),Ni;Os(),t=$o(e,t,l)}else e=c.treeContext,Oe=Dt(r.nextSibling),et=t,ye=!0,ml=null,Ot=!1,e!==null&&Du(t,e),t=js(t,a),t.flags|=4096;return t}return e=Xt(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ns(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Si(e,t,l,a,s){return Yl(t),l=ai(e,t,l,a,void 0,s),a=ni(),e!==null&&!Ze?(si(e,t,s),It(e,t,s)):(ye&&a&&Bc(t),t.flags|=1,lt(e,t,l,s),t.child)}function Wo(e,t,l,a,s,c){return Yl(t),t.updateQueue=null,l=Iu(t,a,l,s),Fu(e),a=ni(),e!==null&&!Ze?(si(e,t,c),It(e,t,c)):(ye&&a&&Bc(t),t.flags|=1,lt(e,t,l,c),t.child)}function Fo(e,t,l,a,s){if(Yl(t),t.stateNode===null){var c=ma,r=l.contextType;typeof r=="object"&&r!==null&&(c=tt(r)),c=new l(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=yi,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},$c(t),r=l.contextType,c.context=typeof r=="object"&&r!==null?tt(r):ma,c.state=t.memoizedState,r=l.getDerivedStateFromProps,typeof r=="function"&&(vi(t,l,r,a),c.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(r=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),r!==c.state&&yi.enqueueReplaceState(c,c.state,null),cn(t,a,c,s),sn(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var d=t.memoizedProps,h=$l(l,d);c.props=h;var _=c.context,B=l.contextType;r=ma,typeof B=="object"&&B!==null&&(r=tt(B));var G=l.getDerivedStateFromProps;B=typeof G=="function"||typeof c.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,B||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d||_!==r)&&Lo(t,c,a,r),pl=!1;var O=t.memoizedState;c.state=O,cn(t,a,c,s),sn(),_=t.memoizedState,d||O!==_||pl?(typeof G=="function"&&(vi(t,l,G,a),_=t.memoizedState),(h=pl||Ho(t,l,h,a,O,_,r))?(B||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=_),c.props=a,c.state=_,c.context=r,a=h):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,Wc(e,t),r=t.memoizedProps,B=$l(l,r),c.props=B,G=t.pendingProps,O=c.context,_=l.contextType,h=ma,typeof _=="object"&&_!==null&&(h=tt(_)),d=l.getDerivedStateFromProps,(_=typeof d=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(r!==G||O!==h)&&Lo(t,c,a,h),pl=!1,O=t.memoizedState,c.state=O,cn(t,a,c,s),sn();var H=t.memoizedState;r!==G||O!==H||pl||e!==null&&e.dependencies!==null&&as(e.dependencies)?(typeof d=="function"&&(vi(t,l,d,a),H=t.memoizedState),(B=pl||Ho(t,l,B,a,O,H,h)||e!==null&&e.dependencies!==null&&as(e.dependencies))?(_||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,H,h),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,H,h)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||r===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=H),c.props=a,c.state=H,c.context=h,a=B):(typeof c.componentDidUpdate!="function"||r===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,Ns(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=Kl(t,e.child,null,s),t.child=Kl(t,null,l,s)):lt(e,t,l,s),t.memoizedState=c.state,e=t.child):e=It(e,t,s),e}function Io(e,t,l,a){return Ql(),t.flags|=256,lt(e,t,l,a),t.child}var Ti={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ei(e){return{baseLanes:e,cachePool:qu()}}function Ci(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=St),e}function Po(e,t,l){var a=t.pendingProps,s=!1,c=(t.flags&128)!==0,r;if((r=c)||(r=e!==null&&e.memoizedState===null?!1:(qe.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(s?vl(t):yl(),(e=Oe)?(e=rf(e,Ot),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:fl!==null?{id:Ut,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},l=_u(e),l.return=t,t.child=l,et=t,Oe=null)):e=null,e===null)throw hl(t);return rr(e)?t.lanes=32:t.lanes=536870912,null}var d=a.children;return a=a.fallback,s?(yl(),s=t.mode,d=Ss({mode:"hidden",children:d},s),a=ql(a,s,l,null),d.return=t,a.return=t,d.sibling=a,t.child=d,a=t.child,a.memoizedState=Ei(l),a.childLanes=Ci(e,r,l),t.memoizedState=Ti,fn(null,a)):(vl(t),wi(t,d))}var h=e.memoizedState;if(h!==null&&(d=h.dehydrated,d!==null)){if(c)t.flags&256?(vl(t),t.flags&=-257,t=Ai(e,t,l)):t.memoizedState!==null?(yl(),t.child=e.child,t.flags|=128,t=null):(yl(),d=a.fallback,s=t.mode,a=Ss({mode:"visible",children:a.children},s),d=ql(d,s,l,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,Kl(t,e.child,null,l),a=t.child,a.memoizedState=Ei(l),a.childLanes=Ci(e,r,l),t.memoizedState=Ti,t=fn(null,a));else if(vl(t),rr(d)){if(r=d.nextSibling&&d.nextSibling.dataset,r)var _=r.dgst;r=_,a=Error(o(419)),a.stack="",a.digest=r,Pa({value:a,source:null,stack:null}),t=Ai(e,t,l)}else if(Ze||xa(e,t,l,!1),r=(l&e.childLanes)!==0,Ze||r){if(r=_e,r!==null&&(a=Br(r,l),a!==0&&a!==h.retryLane))throw h.retryLane=a,Ul(e,a),mt(r,e,a),Ni;ir(d)||Os(),t=Ai(e,t,l)}else ir(d)?(t.flags|=192,t.child=e.child,t=null):(e=h.treeContext,Oe=Dt(d.nextSibling),et=t,ye=!0,ml=null,Ot=!1,e!==null&&Du(t,e),t=wi(t,a.children),t.flags|=4096);return t}return s?(yl(),d=a.fallback,s=t.mode,h=e.child,_=h.sibling,a=Xt(h,{mode:"hidden",children:a.children}),a.subtreeFlags=h.subtreeFlags&65011712,_!==null?d=Xt(_,d):(d=ql(d,s,l,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,fn(null,a),a=t.child,d=e.child.memoizedState,d===null?d=Ei(l):(s=d.cachePool,s!==null?(h=Ye._currentValue,s=s.parent!==h?{parent:h,pool:h}:s):s=qu(),d={baseLanes:d.baseLanes|l,cachePool:s}),a.memoizedState=d,a.childLanes=Ci(e,r,l),t.memoizedState=Ti,fn(e.child,a)):(vl(t),l=e.child,e=l.sibling,l=Xt(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=l,t.memoizedState=null,l)}function wi(e,t){return t=Ss({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ss(e,t){return e=vt(22,e,null,t),e.lanes=0,e}function Ai(e,t,l){return Kl(t,e.child,null,l),e=wi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ed(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Yc(e.return,t,l)}function zi(e,t,l,a,s,c){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:s,treeForkCount:c}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=l,r.tailMode=s,r.treeForkCount=c)}function td(e,t,l){var a=t.pendingProps,s=a.revealOrder,c=a.tail;a=a.children;var r=qe.current,d=(r&2)!==0;if(d?(r=r&1|2,t.flags|=128):r&=1,K(qe,r),lt(e,t,a,l),a=ye?Ia:0,!d&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ed(e,l,t);else if(e.tag===19)ed(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(l=t.child,s=null;l!==null;)e=l.alternate,e!==null&&ds(e)===null&&(s=l),l=l.sibling;l=s,l===null?(s=t.child,t.child=null):(s=l.sibling,l.sibling=null),zi(t,!1,s,l,c,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ds(e)===null){t.child=s;break}e=s.sibling,s.sibling=l,l=s,s=e}zi(t,!0,l,null,c,a);break;case"together":zi(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function It(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Sl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(xa(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=Xt(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Xt(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function ki(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&as(e)))}function Sh(e,t,l){switch(t.tag){case 3:Je(t,t.stateNode.containerInfo),bl(t,Ye,e.memoizedState.cache),Ql();break;case 27:case 5:ee(t);break;case 4:Je(t,t.stateNode.containerInfo);break;case 10:bl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ti(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(vl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Po(e,t,l):(vl(t),e=It(e,t,l),e!==null?e.sibling:null);vl(t);break;case 19:var s=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(xa(e,t,l,!1),a=(l&t.childLanes)!==0),s){if(a)return td(e,t,l);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(qe,qe.current),a)break;return null;case 22:return t.lanes=0,Ko(e,t,l,t.pendingProps);case 24:bl(t,Ye,e.memoizedState.cache)}return It(e,t,l)}function ld(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!ki(e,l)&&(t.flags&128)===0)return Ze=!1,Sh(e,t,l);Ze=(e.flags&131072)!==0}else Ze=!1,ye&&(t.flags&1048576)!==0&&Mu(t,Ia,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Zl(t.elementType),t.type=e,typeof e=="function")Rc(e)?(a=$l(e,a),t.tag=1,t=Fo(null,t,e,a,l)):(t.tag=0,t=Si(null,t,e,a,l));else{if(e!=null){var s=e.$$typeof;if(s===X){t.tag=11,t=Vo(null,t,e,a,l);break e}else if(s===ne){t.tag=14,t=Zo(null,t,e,a,l);break e}}throw t=J(e)||e,Error(o(306,t,""))}}return t;case 0:return Si(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,s=$l(a,t.pendingProps),Fo(e,t,a,s,l);case 3:e:{if(Je(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var c=t.memoizedState;s=c.element,Wc(e,t),cn(t,a,null,l);var r=t.memoizedState;if(a=r.cache,bl(t,Ye,a),a!==c.cache&&Vc(t,[Ye],l,!0),sn(),a=r.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Io(e,t,a,l);break e}else if(a!==s){s=zt(Error(o(424)),t),Pa(s),t=Io(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=Dt(e.firstChild),et=t,ye=!0,ml=null,Ot=!0,l=Xu(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ql(),a===s){t=It(e,t,l);break e}lt(e,t,a,l)}t=t.child}return t;case 26:return Ns(e,t),e===null?(l=hf(t.type,null,t.pendingProps,null))?t.memoizedState=l:ye||(l=t.type,e=t.pendingProps,a=Us(be.current).createElement(l),a[Pe]=t,a[it]=e,at(a,l,e),We(a),t.stateNode=a):t.memoizedState=hf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ee(t),e===null&&ye&&(a=t.stateNode=df(t.type,t.pendingProps,be.current),et=t,Ot=!0,s=Oe,Al(t.type)?(ur=s,Oe=Dt(a.firstChild)):Oe=s),lt(e,t,t.pendingProps.children,l),Ns(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((s=a=Oe)&&(a=Ph(a,t.type,t.pendingProps,Ot),a!==null?(t.stateNode=a,et=t,Oe=Dt(a.firstChild),Ot=!1,s=!0):s=!1),s||hl(t)),ee(t),s=t.type,c=t.pendingProps,r=e!==null?e.memoizedProps:null,a=c.children,nr(s,c)?a=null:r!==null&&nr(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=ai(e,t,hh,null,null,l),wn._currentValue=s),Ns(e,t),lt(e,t,a,l),t.child;case 6:return e===null&&ye&&((e=l=Oe)&&(l=eb(l,t.pendingProps,Ot),l!==null?(t.stateNode=l,et=t,Oe=null,e=!0):e=!1),e||hl(t)),null;case 13:return Po(e,t,l);case 4:return Je(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Kl(t,null,a,l):lt(e,t,a,l),t.child;case 11:return Vo(e,t,t.type,t.pendingProps,l);case 7:return lt(e,t,t.pendingProps,l),t.child;case 8:return lt(e,t,t.pendingProps.children,l),t.child;case 12:return lt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,bl(t,t.type,a.value),lt(e,t,a.children,l),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Yl(t),s=tt(s),a=a(s),t.flags|=1,lt(e,t,a,l),t.child;case 14:return Zo(e,t,t.type,t.pendingProps,l);case 15:return Xo(e,t,t.type,t.pendingProps,l);case 19:return td(e,t,l);case 31:return Nh(e,t,l);case 22:return Ko(e,t,l,t.pendingProps);case 24:return Yl(t),a=tt(Ye),e===null?(s=Kc(),s===null&&(s=_e,c=Zc(),s.pooledCache=c,c.refCount++,c!==null&&(s.pooledCacheLanes|=l),s=c),t.memoizedState={parent:a,cache:s},$c(t),bl(t,Ye,s)):((e.lanes&l)!==0&&(Wc(e,t),cn(t,null,null,l),sn()),s=e.memoizedState,c=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),bl(t,Ye,a)):(a=c.cache,bl(t,Ye,a),a!==s.cache&&Vc(t,[Ye],l,!0))),lt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Pt(e){e.flags|=4}function _i(e,t,l,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(zd())e.flags|=8192;else throw Xl=is,Jc}else e.flags&=-16777217}function ad(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!vf(t))if(zd())e.flags|=8192;else throw Xl=is,Jc}function Ts(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Rr():536870912,e.lanes|=t,za|=t)}function mn(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function Th(e,t,l){var a=t.pendingProps;switch(Uc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Me(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),$t(Ye),He(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(pa(t)?Pt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qc())),Me(t),null;case 26:var s=t.type,c=t.memoizedState;return e===null?(Pt(t),c!==null?(Me(t),ad(t,c)):(Me(t),_i(t,s,null,a,l))):c?c!==e.memoizedState?(Pt(t),Me(t),ad(t,c)):(Me(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Pt(t),Me(t),_i(t,s,e,a,l)),null;case 27:if($e(t),l=be.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Pt(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Me(t),null}e=F.current,pa(t)?Ru(t):(e=df(s,a,l),t.stateNode=e,Pt(t))}return Me(t),null;case 5:if($e(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Pt(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Me(t),null}if(c=F.current,pa(t))Ru(t);else{var r=Us(be.current);switch(c){case 1:c=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:c=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":c=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":c=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":c=r.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?c.multiple=!0:a.size&&(c.size=a.size);break;default:c=typeof a.is=="string"?r.createElement(s,{is:a.is}):r.createElement(s)}}c[Pe]=t,c[it]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)c.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=c;e:switch(at(c,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Pt(t)}}return Me(t),_i(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Pt(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=be.current,pa(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,s=et,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Pe]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Pd(e.nodeValue,l)),e||hl(t,!0)}else e=Us(e).createTextNode(a),e[Pe]=t,t.stateNode=e}return Me(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=pa(t),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Pe]=t}else Ql(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),e=!1}else l=Qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(jt(t),t):(jt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Me(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=pa(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[Pe]=t}else Ql(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),s=!1}else s=Qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(jt(t),t):(jt(t),null)}return jt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==s&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Ts(t,t.updateQueue),Me(t),null);case 4:return He(),e===null&&Pi(t.stateNode.containerInfo),Me(t),null;case 10:return $t(t.type),Me(t),null;case 19:if(Y(qe),a=t.memoizedState,a===null)return Me(t),null;if(s=(t.flags&128)!==0,c=a.rendering,c===null)if(s)mn(a,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=ds(e),c!==null){for(t.flags|=128,mn(a,!1),e=c.updateQueue,t.updateQueue=e,Ts(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)ku(l,e),l=l.sibling;return K(qe,qe.current&1|2),ye&&Kt(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&bt()>zs&&(t.flags|=128,s=!0,mn(a,!1),t.lanes=4194304)}else{if(!s)if(e=ds(c),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Ts(t,e),mn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!ye)return Me(t),null}else 2*bt()-a.renderingStartTime>zs&&l!==536870912&&(t.flags|=128,s=!0,mn(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(e=a.last,e!==null?e.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=bt(),e.sibling=null,l=qe.current,K(qe,s?l&1|2:l&1),ye&&Kt(t,a.treeForkCount),e):(Me(t),null);case 22:case 23:return jt(t),ei(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),l=t.updateQueue,l!==null&&Ts(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&Y(Vl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),$t(Ye),Me(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Eh(e,t){switch(Uc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $t(Ye),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $e(t),null;case 31:if(t.memoizedState!==null){if(jt(t),t.alternate===null)throw Error(o(340));Ql()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(jt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Ql()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(qe),null;case 4:return He(),null;case 10:return $t(t.type),null;case 22:case 23:return jt(t),ei(),e!==null&&Y(Vl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return $t(Ye),null;case 25:return null;default:return null}}function nd(e,t){switch(Uc(t),t.tag){case 3:$t(Ye),He();break;case 26:case 27:case 5:$e(t);break;case 4:He();break;case 31:t.memoizedState!==null&&jt(t);break;case 13:jt(t);break;case 19:Y(qe);break;case 10:$t(t.type);break;case 22:case 23:jt(t),ei(),e!==null&&Y(Vl);break;case 24:$t(Ye)}}function hn(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var s=a.next;l=s;do{if((l.tag&e)===e){a=void 0;var c=l.create,r=l.inst;a=c(),r.destroy=a}l=l.next}while(l!==s)}}catch(d){we(t,t.return,d)}}function jl(e,t,l){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var c=s.next;a=c;do{if((a.tag&e)===e){var r=a.inst,d=r.destroy;if(d!==void 0){r.destroy=void 0,s=t;var h=l,_=d;try{_()}catch(B){we(s,h,B)}}}a=a.next}while(a!==c)}}catch(B){we(t,t.return,B)}}function sd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Ju(t,l)}catch(a){we(e,e.return,a)}}}function cd(e,t,l){l.props=$l(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){we(e,t,a)}}function bn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(s){we(e,t,s)}}function Qt(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(s){we(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(s){we(e,t,s)}else l.current=null}function id(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(s){we(e,e.return,s)}}function Oi(e,t,l){try{var a=e.stateNode;Kh(a,e.type,l,t),a[it]=t}catch(s){we(e,e.return,s)}}function rd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Al(e.type)||e.tag===4}function Mi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Al(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Di(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Vt));else if(a!==4&&(a===27&&Al(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Di(e,t,l),e=e.sibling;e!==null;)Di(e,t,l),e=e.sibling}function Es(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Al(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Es(e,t,l),e=e.sibling;e!==null;)Es(e,t,l),e=e.sibling}function ud(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);at(t,a,l),t[Pe]=e,t[it]=l}catch(c){we(e,e.return,c)}}var el=!1,Xe=!1,Ri=!1,od=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Ch(e,t){if(e=e.containerInfo,lr=Xs,e=ju(e),Ac(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var s=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var r=0,d=-1,h=-1,_=0,B=0,G=e,O=null;t:for(;;){for(var H;G!==l||s!==0&&G.nodeType!==3||(d=r+s),G!==c||a!==0&&G.nodeType!==3||(h=r+a),G.nodeType===3&&(r+=G.nodeValue.length),(H=G.firstChild)!==null;)O=G,G=H;for(;;){if(G===e)break t;if(O===l&&++_===s&&(d=r),O===c&&++B===a&&(h=r),(H=G.nextSibling)!==null)break;G=O,O=G.parentNode}G=H}l=d===-1||h===-1?null:{start:d,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;for(ar={focusedElem:e,selectionRange:l},Xs=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){switch(t=Fe,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)s=e[l],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,l=t,s=c.memoizedProps,c=c.memoizedState,a=l.stateNode;try{var I=$l(l.type,s);e=a.getSnapshotBeforeUpdate(I,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(ce){we(l,l.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)cr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}}function dd(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:ll(e,l),a&4&&hn(5,l);break;case 1:if(ll(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(r){we(l,l.return,r)}else{var s=$l(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){we(l,l.return,r)}}a&64&&sd(l),a&512&&bn(l,l.return);break;case 3:if(ll(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Ju(e,t)}catch(r){we(l,l.return,r)}}break;case 27:t===null&&a&4&&ud(l);case 26:case 5:ll(e,l),t===null&&a&4&&id(l),a&512&&bn(l,l.return);break;case 12:ll(e,l);break;case 31:ll(e,l),a&4&&hd(e,l);break;case 13:ll(e,l),a&4&&bd(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Rh.bind(null,l),tb(e,l))));break;case 22:if(a=l.memoizedState!==null||el,!a){t=t!==null&&t.memoizedState!==null||Xe,s=el;var c=Xe;el=a,(Xe=t)&&!c?al(e,l,(l.subtreeFlags&8772)!==0):ll(e,l),el=s,Xe=c}break;case 30:break;default:ll(e,l)}}function fd(e){var t=e.alternate;t!==null&&(e.alternate=null,fd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&dc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Re=null,ut=!1;function tl(e,t,l){for(l=l.child;l!==null;)md(e,t,l),l=l.sibling}function md(e,t,l){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Ba,l)}catch{}switch(l.tag){case 26:Xe||Qt(l,t),tl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xe||Qt(l,t);var a=Re,s=ut;Al(l.type)&&(Re=l.stateNode,ut=!1),tl(e,t,l),Tn(l.stateNode),Re=a,ut=s;break;case 5:Xe||Qt(l,t);case 6:if(a=Re,s=ut,Re=null,tl(e,t,l),Re=a,ut=s,Re!==null)if(ut)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(l.stateNode)}catch(c){we(l,t,c)}else try{Re.removeChild(l.stateNode)}catch(c){we(l,t,c)}break;case 18:Re!==null&&(ut?(e=Re,sf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),La(e)):sf(Re,l.stateNode));break;case 4:a=Re,s=ut,Re=l.stateNode.containerInfo,ut=!0,tl(e,t,l),Re=a,ut=s;break;case 0:case 11:case 14:case 15:jl(2,l,t),Xe||jl(4,l,t),tl(e,t,l);break;case 1:Xe||(Qt(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&cd(l,t,a)),tl(e,t,l);break;case 21:tl(e,t,l);break;case 22:Xe=(a=Xe)||l.memoizedState!==null,tl(e,t,l),Xe=a;break;default:tl(e,t,l)}}function hd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(l){we(t,t.return,l)}}}function bd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(l){we(t,t.return,l)}}function wh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new od),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new od),t;default:throw Error(o(435,e.tag))}}function Cs(e,t){var l=wh(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var s=Hh.bind(null,e,a);a.then(s,s)}})}function ot(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var s=l[a],c=e,r=t,d=r;e:for(;d!==null;){switch(d.tag){case 27:if(Al(d.type)){Re=d.stateNode,ut=!1;break e}break;case 5:Re=d.stateNode,ut=!1;break e;case 3:case 4:Re=d.stateNode.containerInfo,ut=!0;break e}d=d.return}if(Re===null)throw Error(o(160));md(c,r,s),Re=null,ut=!1,c=s.alternate,c!==null&&(c.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)pd(t,e),t=t.sibling}var Lt=null;function pd(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ot(t,e),dt(e),a&4&&(jl(3,e,e.return),hn(3,e),jl(5,e,e.return));break;case 1:ot(t,e),dt(e),a&512&&(Xe||l===null||Qt(l,l.return)),a&64&&el&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var s=Lt;if(ot(t,e),dt(e),a&512&&(Xe||l===null||Qt(l,l.return)),a&4){var c=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":c=s.getElementsByTagName("title")[0],(!c||c[Qa]||c[Pe]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=s.createElement(a),s.head.insertBefore(c,s.querySelector("head > title"))),at(c,a,l),c[Pe]=e,We(c),a=c;break e;case"link":var r=xf("link","href",s).get(a+(l.href||""));if(r){for(var d=0;d<r.length;d++)if(c=r[d],c.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&c.getAttribute("rel")===(l.rel==null?null:l.rel)&&c.getAttribute("title")===(l.title==null?null:l.title)&&c.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){r.splice(d,1);break t}}c=s.createElement(a),at(c,a,l),s.head.appendChild(c);break;case"meta":if(r=xf("meta","content",s).get(a+(l.content||""))){for(d=0;d<r.length;d++)if(c=r[d],c.getAttribute("content")===(l.content==null?null:""+l.content)&&c.getAttribute("name")===(l.name==null?null:l.name)&&c.getAttribute("property")===(l.property==null?null:l.property)&&c.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&c.getAttribute("charset")===(l.charSet==null?null:l.charSet)){r.splice(d,1);break t}}c=s.createElement(a),at(c,a,l),s.head.appendChild(c);break;default:throw Error(o(468,a))}c[Pe]=e,We(c),a=c}e.stateNode=a}else gf(s,e.type,e.stateNode);else e.stateNode=pf(s,a,e.memoizedProps);else c!==a?(c===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):c.count--,a===null?gf(s,e.type,e.stateNode):pf(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Oi(e,e.memoizedProps,l.memoizedProps)}break;case 27:ot(t,e),dt(e),a&512&&(Xe||l===null||Qt(l,l.return)),l!==null&&a&4&&Oi(e,e.memoizedProps,l.memoizedProps);break;case 5:if(ot(t,e),dt(e),a&512&&(Xe||l===null||Qt(l,l.return)),e.flags&32){s=e.stateNode;try{ca(s,"")}catch(I){we(e,e.return,I)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Oi(e,s,l!==null?l.memoizedProps:s)),a&1024&&(Ri=!0);break;case 6:if(ot(t,e),dt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(I){we(e,e.return,I)}}break;case 3:if(Gs=null,s=Lt,Lt=qs(t.containerInfo),ot(t,e),Lt=s,dt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{La(t.containerInfo)}catch(I){we(e,e.return,I)}Ri&&(Ri=!1,xd(e));break;case 4:a=Lt,Lt=qs(e.stateNode.containerInfo),ot(t,e),dt(e),Lt=a;break;case 12:ot(t,e),dt(e);break;case 31:ot(t,e),dt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Cs(e,a)));break;case 13:ot(t,e),dt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(As=bt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Cs(e,a)));break;case 22:s=e.memoizedState!==null;var h=l!==null&&l.memoizedState!==null,_=el,B=Xe;if(el=_||s,Xe=B||h,ot(t,e),Xe=B,el=_,dt(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(l===null||h||el||Xe||Wl(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){h=l=t;try{if(c=h.stateNode,s)r=c.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{d=h.stateNode;var G=h.memoizedProps.style,O=G!=null&&G.hasOwnProperty("display")?G.display:null;d.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(I){we(h,h.return,I)}}}else if(t.tag===6){if(l===null){h=t;try{h.stateNode.nodeValue=s?"":h.memoizedProps}catch(I){we(h,h.return,I)}}}else if(t.tag===18){if(l===null){h=t;try{var H=h.stateNode;s?cf(H,!0):cf(h.stateNode,!1)}catch(I){we(h,h.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Cs(e,l))));break;case 19:ot(t,e),dt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Cs(e,a)));break;case 30:break;case 21:break;default:ot(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(rd(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var s=l.stateNode,c=Mi(e);Es(e,c,s);break;case 5:var r=l.stateNode;l.flags&32&&(ca(r,""),l.flags&=-33);var d=Mi(e);Es(e,d,r);break;case 3:case 4:var h=l.stateNode.containerInfo,_=Mi(e);Di(e,_,h);break;default:throw Error(o(161))}}catch(B){we(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ll(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)dd(e,t.alternate,t),t=t.sibling}function Wl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:jl(4,t,t.return),Wl(t);break;case 1:Qt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&cd(t,t.return,l),Wl(t);break;case 27:Tn(t.stateNode);case 26:case 5:Qt(t,t.return),Wl(t);break;case 22:t.memoizedState===null&&Wl(t);break;case 30:Wl(t);break;default:Wl(t)}e=e.sibling}}function al(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,c=t,r=c.flags;switch(c.tag){case 0:case 11:case 15:al(s,c,l),hn(4,c);break;case 1:if(al(s,c,l),a=c,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(_){we(a,a.return,_)}if(a=c,s=a.updateQueue,s!==null){var d=a.stateNode;try{var h=s.shared.hiddenCallbacks;if(h!==null)for(s.shared.hiddenCallbacks=null,s=0;s<h.length;s++)Ku(h[s],d)}catch(_){we(a,a.return,_)}}l&&r&64&&sd(c),bn(c,c.return);break;case 27:ud(c);case 26:case 5:al(s,c,l),l&&a===null&&r&4&&id(c),bn(c,c.return);break;case 12:al(s,c,l);break;case 31:al(s,c,l),l&&r&4&&hd(s,c);break;case 13:al(s,c,l),l&&r&4&&bd(s,c);break;case 22:c.memoizedState===null&&al(s,c,l),bn(c,c.return);break;case 30:break;default:al(s,c,l)}t=t.sibling}}function Hi(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&en(l))}function Li(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&en(e))}function Bt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gd(e,t,l,a),t=t.sibling}function gd(e,t,l,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Bt(e,t,l,a),s&2048&&hn(9,t);break;case 1:Bt(e,t,l,a);break;case 3:Bt(e,t,l,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&en(e)));break;case 12:if(s&2048){Bt(e,t,l,a),e=t.stateNode;try{var c=t.memoizedProps,r=c.id,d=c.onPostCommit;typeof d=="function"&&d(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(h){we(t,t.return,h)}}else Bt(e,t,l,a);break;case 31:Bt(e,t,l,a);break;case 13:Bt(e,t,l,a);break;case 23:break;case 22:c=t.stateNode,r=t.alternate,t.memoizedState!==null?c._visibility&2?Bt(e,t,l,a):pn(e,t):c._visibility&2?Bt(e,t,l,a):(c._visibility|=2,Ca(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Hi(r,t);break;case 24:Bt(e,t,l,a),s&2048&&Li(t.alternate,t);break;default:Bt(e,t,l,a)}}function Ca(e,t,l,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,r=t,d=l,h=a,_=r.flags;switch(r.tag){case 0:case 11:case 15:Ca(c,r,d,h,s),hn(8,r);break;case 23:break;case 22:var B=r.stateNode;r.memoizedState!==null?B._visibility&2?Ca(c,r,d,h,s):pn(c,r):(B._visibility|=2,Ca(c,r,d,h,s)),s&&_&2048&&Hi(r.alternate,r);break;case 24:Ca(c,r,d,h,s),s&&_&2048&&Li(r.alternate,r);break;default:Ca(c,r,d,h,s)}t=t.sibling}}function pn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,s=a.flags;switch(a.tag){case 22:pn(l,a),s&2048&&Hi(a.alternate,a);break;case 24:pn(l,a),s&2048&&Li(a.alternate,a);break;default:pn(l,a)}t=t.sibling}}var xn=8192;function wa(e,t,l){if(e.subtreeFlags&xn)for(e=e.child;e!==null;)vd(e,t,l),e=e.sibling}function vd(e,t,l){switch(e.tag){case 26:wa(e,t,l),e.flags&xn&&e.memoizedState!==null&&mb(l,Lt,e.memoizedState,e.memoizedProps);break;case 5:wa(e,t,l);break;case 3:case 4:var a=Lt;Lt=qs(e.stateNode.containerInfo),wa(e,t,l),Lt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=xn,xn=16777216,wa(e,t,l),xn=a):wa(e,t,l));break;default:wa(e,t,l)}}function yd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function gn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Fe=a,Nd(a,e)}yd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jd(e),e=e.sibling}function jd(e){switch(e.tag){case 0:case 11:case 15:gn(e),e.flags&2048&&jl(9,e,e.return);break;case 3:gn(e);break;case 12:gn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ws(e)):gn(e);break;default:gn(e)}}function ws(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Fe=a,Nd(a,e)}yd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:jl(8,t,t.return),ws(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,ws(t));break;default:ws(t)}e=e.sibling}}function Nd(e,t){for(;Fe!==null;){var l=Fe;switch(l.tag){case 0:case 11:case 15:jl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:en(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Fe=a;else e:for(l=e;Fe!==null;){a=Fe;var s=a.sibling,c=a.return;if(fd(a),a===l){Fe=null;break e}if(s!==null){s.return=c,Fe=s;break e}Fe=c}}}var Ah={getCacheForType:function(e){var t=tt(Ye),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return tt(Ye).controller.signal}},zh=typeof WeakMap=="function"?WeakMap:Map,Ee=0,_e=null,pe=null,ge=0,Ce=0,Nt=null,Nl=!1,Aa=!1,Bi=!1,nl=0,Ue=0,Sl=0,Fl=0,Ui=0,St=0,za=0,vn=null,ft=null,qi=!1,As=0,Sd=0,zs=1/0,ks=null,Tl=null,Ke=0,El=null,ka=null,sl=0,Qi=0,Gi=null,Td=null,yn=0,Yi=null;function Tt(){return(Ee&2)!==0&&ge!==0?ge&-ge:w.T!==null?$i():Ur()}function Ed(){if(St===0)if((ge&536870912)===0||ye){var e=Bn;Bn<<=1,(Bn&3932160)===0&&(Bn=262144),St=e}else St=536870912;return e=yt.current,e!==null&&(e.flags|=32),St}function mt(e,t,l){(e===_e&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(_a(e,0),Cl(e,ge,St,!1)),qa(e,l),((Ee&2)===0||e!==_e)&&(e===_e&&((Ee&2)===0&&(Fl|=l),Ue===4&&Cl(e,ge,St,!1)),Gt(e))}function Cd(e,t,l){if((Ee&6)!==0)throw Error(o(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Ua(e,t),s=a?Oh(e,t):Zi(e,t,!0),c=a;do{if(s===0){Aa&&!a&&Cl(e,t,0,!1);break}else{if(l=e.current.alternate,c&&!kh(l)){s=Zi(e,t,!1),c=!1;continue}if(s===2){if(c=t,e.errorRecoveryDisabledLanes&c)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var d=e;s=vn;var h=d.current.memoizedState.isDehydrated;if(h&&(_a(d,r).flags|=256),r=Zi(d,r,!1),r!==2){if(Bi&&!h){d.errorRecoveryDisabledLanes|=c,Fl|=c,s=4;break e}c=ft,ft=s,c!==null&&(ft===null?ft=c:ft.push.apply(ft,c))}s=r}if(c=!1,s!==2)continue}}if(s===1){_a(e,0),Cl(e,t,0,!0);break}e:{switch(a=e,c=s,c){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Cl(a,t,St,!Nl);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(s=As+300-bt(),10<s)){if(Cl(a,t,St,!Nl),qn(a,0,!0)!==0)break e;sl=t,a.timeoutHandle=af(wd.bind(null,a,l,ft,ks,qi,t,St,Fl,za,Nl,c,"Throttled",-0,0),s);break e}wd(a,l,ft,ks,qi,t,St,Fl,za,Nl,c,null,-0,0)}}break}while(!0);Gt(e)}function wd(e,t,l,a,s,c,r,d,h,_,B,G,O,H){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vt},vd(t,c,G);var I=(c&62914560)===c?As-bt():(c&4194048)===c?Sd-bt():0;if(I=hb(G,I),I!==null){sl=c,e.cancelPendingCommit=I(Rd.bind(null,e,t,c,l,a,s,r,d,h,B,G,null,O,H)),Cl(e,c,r,!_);return}}Rd(e,t,c,l,a,s,r,d,h)}function kh(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var s=l[a],c=s.getSnapshot;s=s.value;try{if(!gt(c(),s))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cl(e,t,l,a){t&=~Ui,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var c=31-xt(s),r=1<<c;a[c]=-1,s&=~r}l!==0&&Hr(e,l,t)}function _s(){return(Ee&6)===0?(jn(0),!1):!0}function Vi(){if(pe!==null){if(Ce===0)var e=pe.return;else e=pe,Jt=Gl=null,ci(e),ja=null,ln=0,e=pe;for(;e!==null;)nd(e.alternate,e),e=e.return;pe=null}}function _a(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Wh(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),sl=0,Vi(),_e=e,pe=l=Xt(e.current,null),ge=t,Ce=0,Nt=null,Nl=!1,Aa=Ua(e,t),Bi=!1,za=St=Ui=Fl=Sl=Ue=0,ft=vn=null,qi=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-xt(a),c=1<<s;t|=e[s],a&=~c}return nl=t,In(),l}function Ad(e,t){fe=null,w.H=dn,t===ya||t===cs?(t=Yu(),Ce=3):t===Jc?(t=Yu(),Ce=4):Ce=t===Ni?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Nt=t,pe===null&&(Ue=1,ys(e,zt(t,e.current)))}function zd(){var e=yt.current;return e===null?!0:(ge&4194048)===ge?Mt===null:(ge&62914560)===ge||(ge&536870912)!==0?e===Mt:!1}function kd(){var e=w.H;return w.H=dn,e===null?dn:e}function _d(){var e=w.A;return w.A=Ah,e}function Os(){Ue=4,Nl||(ge&4194048)!==ge&&yt.current!==null||(Aa=!0),(Sl&134217727)===0&&(Fl&134217727)===0||_e===null||Cl(_e,ge,St,!1)}function Zi(e,t,l){var a=Ee;Ee|=2;var s=kd(),c=_d();(_e!==e||ge!==t)&&(ks=null,_a(e,t)),t=!1;var r=Ue;e:do try{if(Ce!==0&&pe!==null){var d=pe,h=Nt;switch(Ce){case 8:Vi(),r=6;break e;case 3:case 2:case 9:case 6:yt.current===null&&(t=!0);var _=Ce;if(Ce=0,Nt=null,Oa(e,d,h,_),l&&Aa){r=0;break e}break;default:_=Ce,Ce=0,Nt=null,Oa(e,d,h,_)}}_h(),r=Ue;break}catch(B){Ad(e,B)}while(!0);return t&&e.shellSuspendCounter++,Jt=Gl=null,Ee=a,w.H=s,w.A=c,pe===null&&(_e=null,ge=0,In()),r}function _h(){for(;pe!==null;)Od(pe)}function Oh(e,t){var l=Ee;Ee|=2;var a=kd(),s=_d();_e!==e||ge!==t?(ks=null,zs=bt()+500,_a(e,t)):Aa=Ua(e,t);e:do try{if(Ce!==0&&pe!==null){t=pe;var c=Nt;t:switch(Ce){case 1:Ce=0,Nt=null,Oa(e,t,c,1);break;case 2:case 9:if(Qu(c)){Ce=0,Nt=null,Md(t);break}t=function(){Ce!==2&&Ce!==9||_e!==e||(Ce=7),Gt(e)},c.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Qu(c)?(Ce=0,Nt=null,Md(t)):(Ce=0,Nt=null,Oa(e,t,c,7));break;case 5:var r=null;switch(pe.tag){case 26:r=pe.memoizedState;case 5:case 27:var d=pe;if(r?vf(r):d.stateNode.complete){Ce=0,Nt=null;var h=d.sibling;if(h!==null)pe=h;else{var _=d.return;_!==null?(pe=_,Ms(_)):pe=null}break t}}Ce=0,Nt=null,Oa(e,t,c,5);break;case 6:Ce=0,Nt=null,Oa(e,t,c,6);break;case 8:Vi(),Ue=6;break e;default:throw Error(o(462))}}Mh();break}catch(B){Ad(e,B)}while(!0);return Jt=Gl=null,w.H=a,w.A=s,Ee=l,pe!==null?0:(_e=null,ge=0,In(),Ue)}function Mh(){for(;pe!==null&&!lm();)Od(pe)}function Od(e){var t=ld(e.alternate,e,nl);e.memoizedProps=e.pendingProps,t===null?Ms(e):pe=t}function Md(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Wo(l,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=Wo(l,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:ci(t);default:nd(l,t),t=pe=ku(t,nl),t=ld(l,t,nl)}e.memoizedProps=e.pendingProps,t===null?Ms(e):pe=t}function Oa(e,t,l,a){Jt=Gl=null,ci(t),ja=null,ln=0;var s=t.return;try{if(jh(e,s,t,l,ge)){Ue=1,ys(e,zt(l,e.current)),pe=null;return}}catch(c){if(s!==null)throw pe=s,c;Ue=1,ys(e,zt(l,e.current)),pe=null;return}t.flags&32768?(ye||a===1?e=!0:Aa||(ge&536870912)!==0?e=!1:(Nl=e=!0,(a===2||a===9||a===3||a===6)&&(a=yt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Dd(t,e)):Ms(t)}function Ms(e){var t=e;do{if((t.flags&32768)!==0){Dd(t,Nl);return}e=t.return;var l=Th(t.alternate,t,nl);if(l!==null){pe=l;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);Ue===0&&(Ue=5)}function Dd(e,t){do{var l=Eh(e.alternate,e);if(l!==null){l.flags&=32767,pe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){pe=e;return}pe=e=l}while(e!==null);Ue=6,pe=null}function Rd(e,t,l,a,s,c,r,d,h){e.cancelPendingCommit=null;do Ds();while(Ke!==0);if((Ee&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(c=t.lanes|t.childLanes,c|=Mc,fm(e,l,c,r,d,h),e===_e&&(pe=_e=null,ge=0),ka=t,El=e,sl=l,Qi=c,Gi=s,Td=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Lh(Hn,function(){return qd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=w.T,w.T=null,s=q.p,q.p=2,r=Ee,Ee|=4;try{Ch(e,t,l)}finally{Ee=r,q.p=s,w.T=a}}Ke=1,Hd(),Ld(),Bd()}}function Hd(){if(Ke===1){Ke=0;var e=El,t=ka,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=w.T,w.T=null;var a=q.p;q.p=2;var s=Ee;Ee|=4;try{pd(t,e);var c=ar,r=ju(e.containerInfo),d=c.focusedElem,h=c.selectionRange;if(r!==d&&d&&d.ownerDocument&&yu(d.ownerDocument.documentElement,d)){if(h!==null&&Ac(d)){var _=h.start,B=h.end;if(B===void 0&&(B=_),"selectionStart"in d)d.selectionStart=_,d.selectionEnd=Math.min(B,d.value.length);else{var G=d.ownerDocument||document,O=G&&G.defaultView||window;if(O.getSelection){var H=O.getSelection(),I=d.textContent.length,ce=Math.min(h.start,I),ke=h.end===void 0?ce:Math.min(h.end,I);!H.extend&&ce>ke&&(r=ke,ke=ce,ce=r);var C=vu(d,ce),x=vu(d,ke);if(C&&x&&(H.rangeCount!==1||H.anchorNode!==C.node||H.anchorOffset!==C.offset||H.focusNode!==x.node||H.focusOffset!==x.offset)){var z=G.createRange();z.setStart(C.node,C.offset),H.removeAllRanges(),ce>ke?(H.addRange(z),H.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),H.addRange(z))}}}}for(G=[],H=d;H=H.parentNode;)H.nodeType===1&&G.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<G.length;d++){var Q=G[d];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Xs=!!lr,ar=lr=null}finally{Ee=s,q.p=a,w.T=l}}e.current=t,Ke=2}}function Ld(){if(Ke===2){Ke=0;var e=El,t=ka,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=w.T,w.T=null;var a=q.p;q.p=2;var s=Ee;Ee|=4;try{dd(e,t.alternate,t)}finally{Ee=s,q.p=a,w.T=l}}Ke=3}}function Bd(){if(Ke===4||Ke===3){Ke=0,am();var e=El,t=ka,l=sl,a=Td;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ke=5:(Ke=0,ka=El=null,Ud(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Tl=null),uc(l),t=t.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Ba,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=w.T,s=q.p,q.p=2,w.T=null;try{for(var c=e.onRecoverableError,r=0;r<a.length;r++){var d=a[r];c(d.value,{componentStack:d.stack})}}finally{w.T=t,q.p=s}}(sl&3)!==0&&Ds(),Gt(e),s=e.pendingLanes,(l&261930)!==0&&(s&42)!==0?e===Yi?yn++:(yn=0,Yi=e):yn=0,jn(0)}}function Ud(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,en(t)))}function Ds(){return Hd(),Ld(),Bd(),qd()}function qd(){if(Ke!==5)return!1;var e=El,t=Qi;Qi=0;var l=uc(sl),a=w.T,s=q.p;try{q.p=32>l?32:l,w.T=null,l=Gi,Gi=null;var c=El,r=sl;if(Ke=0,ka=El=null,sl=0,(Ee&6)!==0)throw Error(o(331));var d=Ee;if(Ee|=4,jd(c.current),gd(c,c.current,r,l),Ee=d,jn(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Ba,c)}catch{}return!0}finally{q.p=s,w.T=a,Ud(e,t)}}function Qd(e,t,l){t=zt(l,t),t=ji(e.stateNode,t,2),e=gl(e,t,2),e!==null&&(qa(e,2),Gt(e))}function we(e,t,l){if(e.tag===3)Qd(e,e,l);else for(;t!==null;){if(t.tag===3){Qd(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Tl===null||!Tl.has(a))){e=zt(l,e),l=Go(2),a=gl(t,l,2),a!==null&&(Yo(l,a,t,e),qa(a,2),Gt(a));break}}t=t.return}}function Xi(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new zh;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(l)||(Bi=!0,s.add(l),e=Dh.bind(null,e,t,l),t.then(e,e))}function Dh(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,_e===e&&(ge&l)===l&&(Ue===4||Ue===3&&(ge&62914560)===ge&&300>bt()-As?(Ee&2)===0&&_a(e,0):Ui|=l,za===ge&&(za=0)),Gt(e)}function Gd(e,t){t===0&&(t=Rr()),e=Ul(e,t),e!==null&&(qa(e,t),Gt(e))}function Rh(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Gd(e,l)}function Hh(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(l=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),Gd(e,l)}function Lh(e,t){return sc(e,t)}var Rs=null,Ma=null,Ki=!1,Hs=!1,Ji=!1,wl=0;function Gt(e){e!==Ma&&e.next===null&&(Ma===null?Rs=Ma=e:Ma=Ma.next=e),Hs=!0,Ki||(Ki=!0,Uh())}function jn(e,t){if(!Ji&&Hs){Ji=!0;do for(var l=!1,a=Rs;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var c=0;else{var r=a.suspendedLanes,d=a.pingedLanes;c=(1<<31-xt(42|e)+1)-1,c&=s&~(r&~d),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(l=!0,Xd(a,c))}else c=ge,c=qn(a,a===_e?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||Ua(a,c)||(l=!0,Xd(a,c));a=a.next}while(l);Ji=!1}}function Bh(){Yd()}function Yd(){Hs=Ki=!1;var e=0;wl!==0&&$h()&&(e=wl);for(var t=bt(),l=null,a=Rs;a!==null;){var s=a.next,c=Vd(a,t);c===0?(a.next=null,l===null?Rs=s:l.next=s,s===null&&(Ma=l)):(l=a,(e!==0||(c&3)!==0)&&(Hs=!0)),a=s}Ke!==0&&Ke!==5||jn(e),wl!==0&&(wl=0)}function Vd(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var r=31-xt(c),d=1<<r,h=s[r];h===-1?((d&l)===0||(d&a)!==0)&&(s[r]=dm(d,t)):h<=t&&(e.expiredLanes|=d),c&=~d}if(t=_e,l=ge,l=qn(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&cc(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Ua(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&cc(a),uc(l)){case 2:case 8:l=Mr;break;case 32:l=Hn;break;case 268435456:l=Dr;break;default:l=Hn}return a=Zd.bind(null,e),l=sc(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&cc(a),e.callbackPriority=2,e.callbackNode=null,2}function Zd(e,t){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ds()&&e.callbackNode!==l)return null;var a=ge;return a=qn(e,e===_e?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Cd(e,a,t),Vd(e,bt()),e.callbackNode!=null&&e.callbackNode===l?Zd.bind(null,e):null)}function Xd(e,t){if(Ds())return null;Cd(e,t,!0)}function Uh(){Fh(function(){(Ee&6)!==0?sc(Or,Bh):Yd()})}function $i(){if(wl===0){var e=ga;e===0&&(e=Ln,Ln<<=1,(Ln&261888)===0&&(Ln=256)),wl=e}return wl}function Kd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vn(""+e)}function Jd(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function qh(e,t,l,a,s){if(t==="submit"&&l&&l.stateNode===s){var c=Kd((s[it]||null).action),r=a.submitter;r&&(t=(t=r[it]||null)?Kd(t.formAction):r.getAttribute("formAction"),t!==null&&(c=t,r=null));var d=new Jn("action","action",null,a,s);e.push({event:d,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(wl!==0){var h=r?Jd(s,r):new FormData(s);bi(l,{pending:!0,data:h,method:s.method,action:c},null,h)}}else typeof c=="function"&&(d.preventDefault(),h=r?Jd(s,r):new FormData(s),bi(l,{pending:!0,data:h,method:s.method,action:c},c,h))},currentTarget:s}]})}}for(var Wi=0;Wi<Oc.length;Wi++){var Fi=Oc[Wi],Qh=Fi.toLowerCase(),Gh=Fi[0].toUpperCase()+Fi.slice(1);Ht(Qh,"on"+Gh)}Ht(Tu,"onAnimationEnd"),Ht(Eu,"onAnimationIteration"),Ht(Cu,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(nh,"onTransitionRun"),Ht(sh,"onTransitionStart"),Ht(ch,"onTransitionCancel"),Ht(wu,"onTransitionEnd"),na("onMouseEnter",["mouseout","mouseover"]),na("onMouseLeave",["mouseout","mouseover"]),na("onPointerEnter",["pointerout","pointerover"]),na("onPointerLeave",["pointerout","pointerover"]),Rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nn));function $d(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],s=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var r=a.length-1;0<=r;r--){var d=a[r],h=d.instance,_=d.currentTarget;if(d=d.listener,h!==c&&s.isPropagationStopped())break e;c=d,s.currentTarget=_;try{c(s)}catch(B){Fn(B)}s.currentTarget=null,c=h}else for(r=0;r<a.length;r++){if(d=a[r],h=d.instance,_=d.currentTarget,d=d.listener,h!==c&&s.isPropagationStopped())break e;c=d,s.currentTarget=_;try{c(s)}catch(B){Fn(B)}s.currentTarget=null,c=h}}}}function xe(e,t){var l=t[oc];l===void 0&&(l=t[oc]=new Set);var a=e+"__bubble";l.has(a)||(Wd(t,e,2,!1),l.add(a))}function Ii(e,t,l){var a=0;t&&(a|=4),Wd(l,e,a,t)}var Ls="_reactListening"+Math.random().toString(36).slice(2);function Pi(e){if(!e[Ls]){e[Ls]=!0,Gr.forEach(function(l){l!=="selectionchange"&&(Yh.has(l)||Ii(l,!1,e),Ii(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ls]||(t[Ls]=!0,Ii("selectionchange",!1,t))}}function Wd(e,t,l,a){switch(Cf(t)){case 2:var s=xb;break;case 8:s=gb;break;default:s=hr}l=s.bind(null,t,l,e),s=void 0,!vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,l,{capture:!0,passive:s}):e.addEventListener(t,l,!0):s!==void 0?e.addEventListener(t,l,{passive:s}):e.addEventListener(t,l,!1)}function er(e,t,l,a,s){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var d=a.stateNode.containerInfo;if(d===s)break;if(r===4)for(r=a.return;r!==null;){var h=r.tag;if((h===3||h===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;d!==null;){if(r=ta(d),r===null)return;if(h=r.tag,h===5||h===6||h===26||h===27){a=c=r;continue e}d=d.parentNode}}a=a.return}eu(function(){var _=c,B=xc(l),G=[];e:{var O=Au.get(e);if(O!==void 0){var H=Jn,I=e;switch(e){case"keypress":if(Xn(l)===0)break e;case"keydown":case"keyup":H=Hm;break;case"focusin":I="focus",H=Sc;break;case"focusout":I="blur",H=Sc;break;case"beforeblur":case"afterblur":H=Sc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Um;break;case Tu:case Eu:case Cu:H=wm;break;case wu:H=Qm;break;case"scroll":case"scrollend":H=Nm;break;case"wheel":H=Ym;break;case"copy":case"cut":case"paste":H=zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=su;break;case"toggle":case"beforetoggle":H=Zm}var ce=(t&4)!==0,ke=!ce&&(e==="scroll"||e==="scrollend"),C=ce?O!==null?O+"Capture":null:O;ce=[];for(var x=_,z;x!==null;){var Q=x;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||C===null||(Q=Ya(x,C),Q!=null&&ce.push(Sn(x,Q,z))),ke)break;x=x.return}0<ce.length&&(O=new H(O,I,null,l,B),G.push({event:O,listeners:ce}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",O&&l!==pc&&(I=l.relatedTarget||l.fromElement)&&(ta(I)||I[ea]))break e;if((H||O)&&(O=B.window===B?B:(O=B.ownerDocument)?O.defaultView||O.parentWindow:window,H?(I=l.relatedTarget||l.toElement,H=_,I=I?ta(I):null,I!==null&&(ke=p(I),ce=I.tag,I!==ke||ce!==5&&ce!==27&&ce!==6)&&(I=null)):(H=null,I=_),H!==I)){if(ce=au,Q="onMouseLeave",C="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ce=su,Q="onPointerLeave",C="onPointerEnter",x="pointer"),ke=H==null?O:Ga(H),z=I==null?O:Ga(I),O=new ce(Q,x+"leave",H,l,B),O.target=ke,O.relatedTarget=z,Q=null,ta(B)===_&&(ce=new ce(C,x+"enter",I,l,B),ce.target=z,ce.relatedTarget=ke,Q=ce),ke=Q,H&&I)t:{for(ce=Vh,C=H,x=I,z=0,Q=C;Q;Q=ce(Q))z++;Q=0;for(var se=x;se;se=ce(se))Q++;for(;0<z-Q;)C=ce(C),z--;for(;0<Q-z;)x=ce(x),Q--;for(;z--;){if(C===x||x!==null&&C===x.alternate){ce=C;break t}C=ce(C),x=ce(x)}ce=null}else ce=null;H!==null&&Fd(G,O,H,ce,!1),I!==null&&ke!==null&&Fd(G,ke,I,ce,!0)}}e:{if(O=_?Ga(_):window,H=O.nodeName&&O.nodeName.toLowerCase(),H==="select"||H==="input"&&O.type==="file")var Ne=mu;else if(du(O))if(hu)Ne=th;else{Ne=Pm;var te=Im}else H=O.nodeName,!H||H.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?_&&bc(_.elementType)&&(Ne=mu):Ne=eh;if(Ne&&(Ne=Ne(e,_))){fu(G,Ne,l,B);break e}te&&te(e,O,_),e==="focusout"&&_&&O.type==="number"&&_.memoizedProps.value!=null&&hc(O,"number",O.value)}switch(te=_?Ga(_):window,e){case"focusin":(du(te)||te.contentEditable==="true")&&(oa=te,zc=_,Fa=null);break;case"focusout":Fa=zc=oa=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,Nu(G,l,B);break;case"selectionchange":if(ah)break;case"keydown":case"keyup":Nu(G,l,B)}var he;if(Ec)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ua?uu(e,l)&&(ve="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ve="onCompositionStart");ve&&(cu&&l.locale!=="ko"&&(ua||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ua&&(he=tu()):(dl=B,yc="value"in dl?dl.value:dl.textContent,ua=!0)),te=Bs(_,ve),0<te.length&&(ve=new nu(ve,e,null,l,B),G.push({event:ve,listeners:te}),he?ve.data=he:(he=ou(l),he!==null&&(ve.data=he)))),(he=Km?Jm(e,l):$m(e,l))&&(ve=Bs(_,"onBeforeInput"),0<ve.length&&(te=new nu("onBeforeInput","beforeinput",null,l,B),G.push({event:te,listeners:ve}),te.data=he)),qh(G,e,_,l,B)}$d(G,t)})}function Sn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Bs(e,t){for(var l=t+"Capture",a=[];e!==null;){var s=e,c=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||c===null||(s=Ya(e,l),s!=null&&a.unshift(Sn(e,s,c)),s=Ya(e,t),s!=null&&a.push(Sn(e,s,c))),e.tag===3)return a;e=e.return}return[]}function Vh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fd(e,t,l,a,s){for(var c=t._reactName,r=[];l!==null&&l!==a;){var d=l,h=d.alternate,_=d.stateNode;if(d=d.tag,h!==null&&h===a)break;d!==5&&d!==26&&d!==27||_===null||(h=_,s?(_=Ya(l,c),_!=null&&r.unshift(Sn(l,_,h))):s||(_=Ya(l,c),_!=null&&r.push(Sn(l,_,h)))),l=l.return}r.length!==0&&e.push({event:t,listeners:r})}var Zh=/\r\n?/g,Xh=/\u0000|\uFFFD/g;function Id(e){return(typeof e=="string"?e:""+e).replace(Zh,`
`).replace(Xh,"")}function Pd(e,t){return t=Id(t),Id(e)===t}function ze(e,t,l,a,s,c){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ca(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ca(e,""+a);break;case"className":Gn(e,"class",a);break;case"tabIndex":Gn(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,l,a);break;case"style":Ir(e,a,c);break;case"data":if(t!=="object"){Gn(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Vn(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(l==="formAction"?(t!=="input"&&ze(e,t,"name",s.name,s,null),ze(e,t,"formEncType",s.formEncType,s,null),ze(e,t,"formMethod",s.formMethod,s,null),ze(e,t,"formTarget",s.formTarget,s,null)):(ze(e,t,"encType",s.encType,s,null),ze(e,t,"method",s.method,s,null),ze(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Vn(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Vt);break;case"onScroll":a!=null&&xe("scroll",e);break;case"onScrollEnd":a!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Vn(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Qn(e,"popover",a);break;case"xlinkActuate":Yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Yt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Yt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Yt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Yt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Qn(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ym.get(l)||l,Qn(e,l,a))}}function tr(e,t,l,a,s,c){switch(l){case"style":Ir(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?ca(e,a):(typeof a=="number"||typeof a=="bigint")&&ca(e,""+a);break;case"onScroll":a!=null&&xe("scroll",e);break;case"onScrollEnd":a!=null&&xe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Vt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(s=l.endsWith("Capture"),t=l.slice(2,s?l.length-7:void 0),c=e[it]||null,c=c!=null?c[l]:null,typeof c=="function"&&e.removeEventListener(t,c,s),typeof a=="function")){typeof c!="function"&&c!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,s);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Qn(e,l,a)}}}function at(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var a=!1,s=!1,c;for(c in l)if(l.hasOwnProperty(c)){var r=l[c];if(r!=null)switch(c){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ze(e,t,c,r,l,null)}}s&&ze(e,t,"srcSet",l.srcSet,l,null),a&&ze(e,t,"src",l.src,l,null);return;case"input":xe("invalid",e);var d=c=r=s=null,h=null,_=null;for(a in l)if(l.hasOwnProperty(a)){var B=l[a];if(B!=null)switch(a){case"name":s=B;break;case"type":r=B;break;case"checked":h=B;break;case"defaultChecked":_=B;break;case"value":c=B;break;case"defaultValue":d=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,t));break;default:ze(e,t,a,B,l,null)}}Jr(e,c,d,h,_,r,s,!1);return;case"select":xe("invalid",e),a=r=c=null;for(s in l)if(l.hasOwnProperty(s)&&(d=l[s],d!=null))switch(s){case"value":c=d;break;case"defaultValue":r=d;break;case"multiple":a=d;default:ze(e,t,s,d,l,null)}t=c,l=r,e.multiple=!!a,t!=null?sa(e,!!a,t,!1):l!=null&&sa(e,!!a,l,!0);return;case"textarea":xe("invalid",e),c=s=a=null;for(r in l)if(l.hasOwnProperty(r)&&(d=l[r],d!=null))switch(r){case"value":a=d;break;case"defaultValue":s=d;break;case"children":c=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:ze(e,t,r,d,l,null)}Wr(e,a,s,c);return;case"option":for(h in l)if(l.hasOwnProperty(h)&&(a=l[h],a!=null))switch(h){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ze(e,t,h,a,l,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(a=0;a<Nn.length;a++)xe(Nn[a],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in l)if(l.hasOwnProperty(_)&&(a=l[_],a!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ze(e,t,_,a,l,null)}return;default:if(bc(t)){for(B in l)l.hasOwnProperty(B)&&(a=l[B],a!==void 0&&tr(e,t,B,a,l,void 0));return}}for(d in l)l.hasOwnProperty(d)&&(a=l[d],a!=null&&ze(e,t,d,a,l,null))}function Kh(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,c=null,r=null,d=null,h=null,_=null,B=null;for(H in l){var G=l[H];if(l.hasOwnProperty(H)&&G!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":h=G;default:a.hasOwnProperty(H)||ze(e,t,H,null,a,G)}}for(var O in a){var H=a[O];if(G=l[O],a.hasOwnProperty(O)&&(H!=null||G!=null))switch(O){case"type":c=H;break;case"name":s=H;break;case"checked":_=H;break;case"defaultChecked":B=H;break;case"value":r=H;break;case"defaultValue":d=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,t));break;default:H!==G&&ze(e,t,O,H,a,G)}}mc(e,r,d,h,_,B,c,s);return;case"select":H=r=d=O=null;for(c in l)if(h=l[c],l.hasOwnProperty(c)&&h!=null)switch(c){case"value":break;case"multiple":H=h;default:a.hasOwnProperty(c)||ze(e,t,c,null,a,h)}for(s in a)if(c=a[s],h=l[s],a.hasOwnProperty(s)&&(c!=null||h!=null))switch(s){case"value":O=c;break;case"defaultValue":d=c;break;case"multiple":r=c;default:c!==h&&ze(e,t,s,c,a,h)}t=d,l=r,a=H,O!=null?sa(e,!!l,O,!1):!!a!=!!l&&(t!=null?sa(e,!!l,t,!0):sa(e,!!l,l?[]:"",!1));return;case"textarea":H=O=null;for(d in l)if(s=l[d],l.hasOwnProperty(d)&&s!=null&&!a.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:ze(e,t,d,null,a,s)}for(r in a)if(s=a[r],c=l[r],a.hasOwnProperty(r)&&(s!=null||c!=null))switch(r){case"value":O=s;break;case"defaultValue":H=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==c&&ze(e,t,r,s,a,c)}$r(e,O,H);return;case"option":for(var I in l)if(O=l[I],l.hasOwnProperty(I)&&O!=null&&!a.hasOwnProperty(I))switch(I){case"selected":e.selected=!1;break;default:ze(e,t,I,null,a,O)}for(h in a)if(O=a[h],H=l[h],a.hasOwnProperty(h)&&O!==H&&(O!=null||H!=null))switch(h){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:ze(e,t,h,O,a,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in l)O=l[ce],l.hasOwnProperty(ce)&&O!=null&&!a.hasOwnProperty(ce)&&ze(e,t,ce,null,a,O);for(_ in a)if(O=a[_],H=l[_],a.hasOwnProperty(_)&&O!==H&&(O!=null||H!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(o(137,t));break;default:ze(e,t,_,O,a,H)}return;default:if(bc(t)){for(var ke in l)O=l[ke],l.hasOwnProperty(ke)&&O!==void 0&&!a.hasOwnProperty(ke)&&tr(e,t,ke,void 0,a,O);for(B in a)O=a[B],H=l[B],!a.hasOwnProperty(B)||O===H||O===void 0&&H===void 0||tr(e,t,B,O,a,H);return}}for(var C in l)O=l[C],l.hasOwnProperty(C)&&O!=null&&!a.hasOwnProperty(C)&&ze(e,t,C,null,a,O);for(G in a)O=a[G],H=l[G],!a.hasOwnProperty(G)||O===H||O==null&&H==null||ze(e,t,G,O,a,H)}function ef(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var s=l[a],c=s.transferSize,r=s.initiatorType,d=s.duration;if(c&&d&&ef(r)){for(r=0,d=s.responseEnd,a+=1;a<l.length;a++){var h=l[a],_=h.startTime;if(_>d)break;var B=h.transferSize,G=h.initiatorType;B&&ef(G)&&(h=h.responseEnd,r+=B*(h<d?1:(d-_)/(h-_)))}if(--a,t+=8*(c+r)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lr=null,ar=null;function Us(e){return e.nodeType===9?e:e.ownerDocument}function tf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function nr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sr=null;function $h(){var e=window.event;return e&&e.type==="popstate"?e===sr?!1:(sr=e,!0):(sr=null,!1)}var af=typeof setTimeout=="function"?setTimeout:void 0,Wh=typeof clearTimeout=="function"?clearTimeout:void 0,nf=typeof Promise=="function"?Promise:void 0,Fh=typeof queueMicrotask=="function"?queueMicrotask:typeof nf<"u"?function(e){return nf.resolve(null).then(e).catch(Ih)}:af;function Ih(e){setTimeout(function(){throw e})}function Al(e){return e==="head"}function sf(e,t){var l=t,a=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(s),La(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Tn(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Tn(l);for(var c=l.firstChild;c;){var r=c.nextSibling,d=c.nodeName;c[Qa]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&c.rel.toLowerCase()==="stylesheet"||l.removeChild(c),c=r}}else l==="body"&&Tn(e.ownerDocument.body);l=s}while(l);La(t)}function cf(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function cr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":cr(l),dc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Ph(e,t,l,a){for(;e.nodeType===1;){var s=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Qa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Dt(e.nextSibling),e===null)break}return null}function eb(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Dt(e.nextSibling),e===null))return null;return e}function rf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dt(e.nextSibling),e===null))return null;return e}function ir(e){return e.data==="$?"||e.data==="$~"}function rr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tb(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Dt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ur=null;function uf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Dt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function of(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function df(e,t,l){switch(t=Us(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Tn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);dc(e)}var Rt=new Map,ff=new Set;function qs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var cl=q.d;q.d={f:lb,r:ab,D:nb,C:sb,L:cb,m:ib,X:ub,S:rb,M:ob};function lb(){var e=cl.f(),t=_s();return e||t}function ab(e){var t=la(e);t!==null&&t.tag===5&&t.type==="form"?Ao(t):cl.r(e)}var Da=typeof document>"u"?null:document;function mf(e,t,l){var a=Da;if(a&&typeof t=="string"&&t){var s=wt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof l=="string"&&(s+='[crossorigin="'+l+'"]'),ff.has(s)||(ff.add(s),e={rel:e,crossOrigin:l,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),at(t,"link",e),We(t),a.head.appendChild(t)))}}function nb(e){cl.D(e),mf("dns-prefetch",e,null)}function sb(e,t){cl.C(e,t),mf("preconnect",e,t)}function cb(e,t,l){cl.L(e,t,l);var a=Da;if(a&&e&&t){var s='link[rel="preload"][as="'+wt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(s+='[imagesrcset="'+wt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(s+='[imagesizes="'+wt(l.imageSizes)+'"]')):s+='[href="'+wt(e)+'"]';var c=s;switch(t){case"style":c=Ra(e);break;case"script":c=Ha(e)}Rt.has(c)||(e=g({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Rt.set(c,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(En(c))||t==="script"&&a.querySelector(Cn(c))||(t=a.createElement("link"),at(t,"link",e),We(t),a.head.appendChild(t)))}}function ib(e,t){cl.m(e,t);var l=Da;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+wt(a)+'"][href="'+wt(e)+'"]',c=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ha(e)}if(!Rt.has(c)&&(e=g({rel:"modulepreload",href:e},t),Rt.set(c,e),l.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Cn(c)))return}a=l.createElement("link"),at(a,"link",e),We(a),l.head.appendChild(a)}}}function rb(e,t,l){cl.S(e,t,l);var a=Da;if(a&&e){var s=aa(a).hoistableStyles,c=Ra(e);t=t||"default";var r=s.get(c);if(!r){var d={loading:0,preload:null};if(r=a.querySelector(En(c)))d.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Rt.get(c))&&or(e,l);var h=r=a.createElement("link");We(h),at(h,"link",e),h._p=new Promise(function(_,B){h.onload=_,h.onerror=B}),h.addEventListener("load",function(){d.loading|=1}),h.addEventListener("error",function(){d.loading|=2}),d.loading|=4,Qs(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:d},s.set(c,r)}}}function ub(e,t){cl.X(e,t);var l=Da;if(l&&e){var a=aa(l).hoistableScripts,s=Ha(e),c=a.get(s);c||(c=l.querySelector(Cn(s)),c||(e=g({src:e,async:!0},t),(t=Rt.get(s))&&dr(e,t),c=l.createElement("script"),We(c),at(c,"link",e),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(s,c))}}function ob(e,t){cl.M(e,t);var l=Da;if(l&&e){var a=aa(l).hoistableScripts,s=Ha(e),c=a.get(s);c||(c=l.querySelector(Cn(s)),c||(e=g({src:e,async:!0,type:"module"},t),(t=Rt.get(s))&&dr(e,t),c=l.createElement("script"),We(c),at(c,"link",e),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(s,c))}}function hf(e,t,l,a){var s=(s=be.current)?qs(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ra(l.href),l=aa(s).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ra(l.href);var c=aa(s).hoistableStyles,r=c.get(e);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,r),(c=s.querySelector(En(e)))&&!c._p&&(r.instance=c,r.state.loading=5),Rt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Rt.set(e,l),c||db(s,e,l,r.state))),t&&a===null)throw Error(o(528,""));return r}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ha(l),l=aa(s).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ra(e){return'href="'+wt(e)+'"'}function En(e){return'link[rel="stylesheet"]['+e+"]"}function bf(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function db(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),at(t,"link",l),We(t),e.head.appendChild(t))}function Ha(e){return'[src="'+wt(e)+'"]'}function Cn(e){return"script[async]"+e}function pf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+wt(l.href)+'"]');if(a)return t.instance=a,We(a),a;var s=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),We(a),at(a,"style",s),Qs(a,l.precedence,e),t.instance=a;case"stylesheet":s=Ra(l.href);var c=e.querySelector(En(s));if(c)return t.state.loading|=4,t.instance=c,We(c),c;a=bf(l),(s=Rt.get(s))&&or(a,s),c=(e.ownerDocument||e).createElement("link"),We(c);var r=c;return r._p=new Promise(function(d,h){r.onload=d,r.onerror=h}),at(c,"link",a),t.state.loading|=4,Qs(c,l.precedence,e),t.instance=c;case"script":return c=Ha(l.src),(s=e.querySelector(Cn(c)))?(t.instance=s,We(s),s):(a=l,(s=Rt.get(c))&&(a=g({},l),dr(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),We(s),at(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Qs(a,l.precedence,e));return t.instance}function Qs(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,c=s,r=0;r<a.length;r++){var d=a[r];if(d.dataset.precedence===t)c=d;else if(c!==s)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function or(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function dr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Gs=null;function xf(e,t,l){if(Gs===null){var a=new Map,s=Gs=new Map;s.set(l,a)}else s=Gs,a=s.get(l),a||(a=new Map,s.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),s=0;s<l.length;s++){var c=l[s];if(!(c[Qa]||c[Pe]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var r=c.getAttribute(t)||"";r=e+r;var d=a.get(r);d?d.push(c):a.set(r,[c])}}return a}function gf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function fb(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function vf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mb(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var s=Ra(a.href),c=t.querySelector(En(s));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ys.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=c,We(c);return}c=t.ownerDocument||t,a=bf(a),(s=Rt.get(s))&&or(a,s),c=c.createElement("link"),We(c);var r=c;r._p=new Promise(function(d,h){r.onload=d,r.onerror=h}),at(c,"link",a),l.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Ys.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var fr=0;function hb(e,t){return e.stylesheets&&e.count===0&&Zs(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Zs(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&fr===0&&(fr=62500*Jh());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zs(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>fr?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function Ys(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vs=null;function Zs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vs=new Map,t.forEach(bb,e),Vs=null,Ys.call(e))}function bb(e,t){if(!(t.state.loading&4)){var l=Vs.get(e);if(l)var a=l.get(null);else{l=new Map,Vs.set(e,l);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<s.length;c++){var r=s[c];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(l.set(r.dataset.precedence,r),a=r)}a&&l.set(null,a)}s=t.instance,r=s.getAttribute("data-precedence"),c=l.get(r)||a,c===a&&l.set(null,s),l.set(r,s),this.count++,a=Ys.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),c?c.parentNode.insertBefore(s,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var wn={$$typeof:L,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function pb(e,t,l,a,s,c,r,d,h){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.hiddenUpdates=ic(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=c,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=h,this.incompleteTransitions=new Map}function yf(e,t,l,a,s,c,r,d,h,_,B,G){return e=new pb(e,t,l,r,h,_,B,G,d),t=1,c===!0&&(t|=24),c=vt(3,null,null,t),e.current=c,c.stateNode=e,t=Zc(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:l,cache:t},$c(c),e}function jf(e){return e?(e=ma,e):ma}function Nf(e,t,l,a,s,c){s=jf(s),a.context===null?a.context=s:a.pendingContext=s,a=xl(t),a.payload={element:l},c=c===void 0?null:c,c!==null&&(a.callback=c),l=gl(e,a,t),l!==null&&(mt(l,e,t),nn(l,e,t))}function Sf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function mr(e,t){Sf(e,t),(e=e.alternate)&&Sf(e,t)}function Tf(e){if(e.tag===13||e.tag===31){var t=Ul(e,67108864);t!==null&&mt(t,e,67108864),mr(e,67108864)}}function Ef(e){if(e.tag===13||e.tag===31){var t=Tt();t=rc(t);var l=Ul(e,t);l!==null&&mt(l,e,t),mr(e,t)}}var Xs=!0;function xb(e,t,l,a){var s=w.T;w.T=null;var c=q.p;try{q.p=2,hr(e,t,l,a)}finally{q.p=c,w.T=s}}function gb(e,t,l,a){var s=w.T;w.T=null;var c=q.p;try{q.p=8,hr(e,t,l,a)}finally{q.p=c,w.T=s}}function hr(e,t,l,a){if(Xs){var s=br(a);if(s===null)er(e,t,a,Ks,l),wf(e,a);else if(yb(s,e,t,l,a))a.stopPropagation();else if(wf(e,a),t&4&&-1<vb.indexOf(e)){for(;s!==null;){var c=la(s);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var r=Dl(c.pendingLanes);if(r!==0){var d=c;for(d.pendingLanes|=2,d.entangledLanes|=2;r;){var h=1<<31-xt(r);d.entanglements[1]|=h,r&=~h}Gt(c),(Ee&6)===0&&(zs=bt()+500,jn(0))}}break;case 31:case 13:d=Ul(c,2),d!==null&&mt(d,c,2),_s(),mr(c,2)}if(c=br(a),c===null&&er(e,t,a,Ks,l),c===s)break;s=c}s!==null&&a.stopPropagation()}else er(e,t,a,null,l)}}function br(e){return e=xc(e),pr(e)}var Ks=null;function pr(e){if(Ks=null,e=ta(e),e!==null){var t=p(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=y(t),e!==null)return e;e=null}else if(l===31){if(e=E(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ks=e,null}function Cf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nm()){case Or:return 2;case Mr:return 8;case Hn:case sm:return 32;case Dr:return 268435456;default:return 32}default:return 32}}var xr=!1,zl=null,kl=null,_l=null,An=new Map,zn=new Map,Ol=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wf(e,t){switch(e){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":kl=null;break;case"mouseover":case"mouseout":_l=null;break;case"pointerover":case"pointerout":An.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(t.pointerId)}}function kn(e,t,l,a,s,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:c,targetContainers:[s]},t!==null&&(t=la(t),t!==null&&Tf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function yb(e,t,l,a,s){switch(t){case"focusin":return zl=kn(zl,e,t,l,a,s),!0;case"dragenter":return kl=kn(kl,e,t,l,a,s),!0;case"mouseover":return _l=kn(_l,e,t,l,a,s),!0;case"pointerover":var c=s.pointerId;return An.set(c,kn(An.get(c)||null,e,t,l,a,s)),!0;case"gotpointercapture":return c=s.pointerId,zn.set(c,kn(zn.get(c)||null,e,t,l,a,s)),!0}return!1}function Af(e){var t=ta(e.target);if(t!==null){var l=p(t);if(l!==null){if(t=l.tag,t===13){if(t=y(l),t!==null){e.blockedOn=t,qr(e.priority,function(){Ef(l)});return}}else if(t===31){if(t=E(l),t!==null){e.blockedOn=t,qr(e.priority,function(){Ef(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=br(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);pc=a,l.target.dispatchEvent(a),pc=null}else return t=la(l),t!==null&&Tf(t),e.blockedOn=l,!1;t.shift()}return!0}function zf(e,t,l){Js(e)&&l.delete(t)}function jb(){xr=!1,zl!==null&&Js(zl)&&(zl=null),kl!==null&&Js(kl)&&(kl=null),_l!==null&&Js(_l)&&(_l=null),An.forEach(zf),zn.forEach(zf)}function $s(e,t){e.blockedOn===t&&(e.blockedOn=null,xr||(xr=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jb)))}var Ws=null;function kf(e){Ws!==e&&(Ws=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ws===e&&(Ws=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(pr(a||l)===null)continue;break}var c=la(l);c!==null&&(e.splice(t,3),t-=3,bi(c,{pending:!0,data:s,method:l.method,action:a},a,s))}}))}function La(e){function t(h){return $s(h,e)}zl!==null&&$s(zl,e),kl!==null&&$s(kl,e),_l!==null&&$s(_l,e),An.forEach(t),zn.forEach(t);for(var l=0;l<Ol.length;l++){var a=Ol[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ol.length&&(l=Ol[0],l.blockedOn===null);)Af(l),l.blockedOn===null&&Ol.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var s=l[a],c=l[a+1],r=s[it]||null;if(typeof c=="function")r||kf(l);else if(r){var d=null;if(c&&c.hasAttribute("formAction")){if(s=c,r=c[it]||null)d=r.formAction;else if(pr(s)!==null)continue}else d=r.action;typeof d=="function"?l[a+1]=d:(l.splice(a,3),a-=3),kf(l)}}}function _f(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function gr(e){this._internalRoot=e}Fs.prototype.render=gr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=Tt();Nf(l,a,e,t,null,null)},Fs.prototype.unmount=gr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nf(e.current,2,null,e,null,null),_s(),t[ea]=null}};function Fs(e){this._internalRoot=e}Fs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ur();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Ol.length&&t!==0&&t<Ol[l].priority;l++);Ol.splice(l,0,e),l===0&&Af(e)}};var Of=u.version;if(Of!=="19.2.3")throw Error(o(527,Of,"19.2.3"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=m(t),e=e!==null?j(e):null,e=e===null?null:e.stateNode,e};var Nb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{Ba=Is.inject(Nb),pt=Is}catch{}}return On.createRoot=function(e,t){if(!b(e))throw Error(o(299));var l=!1,a="",s=Bo,c=Uo,r=qo;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=yf(e,1,!1,null,null,l,a,null,s,c,r,_f),e[ea]=t.current,Pi(e),new gr(t)},On.hydrateRoot=function(e,t,l){if(!b(e))throw Error(o(299));var a=!1,s="",c=Bo,r=Uo,d=qo,h=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(s=l.identifierPrefix),l.onUncaughtError!==void 0&&(c=l.onUncaughtError),l.onCaughtError!==void 0&&(r=l.onCaughtError),l.onRecoverableError!==void 0&&(d=l.onRecoverableError),l.formState!==void 0&&(h=l.formState)),t=yf(e,1,!0,t,l??null,a,s,h,c,r,d,_f),t.context=jf(null),l=t.current,a=Tt(),a=rc(a),s=xl(a),s.callback=null,gl(l,s,a),l=a,t.current.lanes=l,qa(t,l),Gt(t),e[ea]=t.current,Pi(e),new Fs(t)},On.version="19.2.3",On}var Gf;function Ob(){if(Gf)return jr.exports;Gf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(u){console.error(u)}}return i(),jr.exports=_b(),jr.exports}var Mb=Ob();function Yf(){const i=window.location.hash.slice(1),[u,f]=i.split("?"),o=f?Object.fromEntries(new URLSearchParams(f)):{};return{route:u||"",params:o}}function If(){const[i,u]=N.useState(()=>Yf());N.useEffect(()=>{const b=()=>{u(Yf())};return window.addEventListener("hashchange",b),()=>window.removeEventListener("hashchange",b)},[]);const f=N.useCallback((b,p)=>{const y=p&&Object.keys(p).length>0?"?"+new URLSearchParams(p).toString():"";window.location.hash=b+y},[]),o=N.useCallback(()=>{window.history.back()},[]);return{route:i.route,params:i.params,navigate:f,goBack:o}}const ue={HOME:"",CANVAS_COURSES:"canvas-courses",PRINT_REPORT_VIEW:"print-report/view",PRINT_REPORT_SLIP:"print-report/slip",PRINT_REPORT_BLANK:"print-report/blank",QUIZ_IMPORT:"quiz-import",QUIZ_EDITOR:"quiz/editor",QUIZ_SUCCESS:"quiz/success",WORKSHEET_DASHBOARD:"worksheet",WORKSHEET_EDIT:"worksheet/edit",ANALYTICS:"analytics"},Db="modulepreload",Rb=function(i){return"/"+i},Vf={},Cr=function(u,f,o){let b=Promise.resolve();if(f&&f.length>0){let m=function(j){return Promise.all(j.map(g=>Promise.resolve(g).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var y=m;document.getElementsByTagName("link");const E=document.querySelector("meta[property=csp-nonce]"),T=E?.nonce||E?.getAttribute("nonce");b=m(f.map(j=>{if(j=Rb(j),j in Vf)return;Vf[j]=!0;const g=j.endsWith(".css"),S=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${j}"]${S}`))return;const k=document.createElement("link");if(k.rel=g?"stylesheet":Db,g||(k.as="script"),k.crossOrigin="",k.href=j,T&&k.setAttribute("nonce",T),document.head.appendChild(k),g)return new Promise((D,U)=>{k.addEventListener("load",D),k.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${j}`)))})}))}function p(E){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=E,window.dispatchEvent(T),!T.defaultPrevented)throw E}return b.then(E=>{for(const T of E||[])T.status==="rejected"&&p(T.reason);return u().catch(p)})},Hb=["B","I","U","UL","OL","LI","BR"];function Ie(i){if(!i||typeof i!="string")return"";const u=document.createElement("div");u.innerHTML=i;const f=document.createElement("div");return Array.from(u.childNodes).forEach(o=>{Pf(o,f)}),f.innerHTML}function Pf(i,u){if(i.nodeType===Node.TEXT_NODE){u.appendChild(i.cloneNode(!1));return}if(i.nodeType!==Node.ELEMENT_NODE)return;const f=i;if(!Hb.includes(f.tagName)){const b=f.textContent||"";b&&u.appendChild(document.createTextNode(b));return}const o=document.createElement(f.tagName);Array.from(f.childNodes).forEach(b=>{Pf(b,o)}),u.appendChild(o)}function Il(i){i.preventDefault();const u=i.clipboardData?.getData("text/html")||i.clipboardData?.getData("text/plain")||"";return u.includes("<")?Ie(u):(i.clipboardData?.getData("text/plain")||"").replace(/\n/g,"<br>")}function Lb({item:i,onUpdate:u}){const f=N.useRef(null),o=N.useRef(!1),b={fontSize:i.fontSize||"18pt",textAlign:i.textAlign||"center",fontWeight:i.fontWeight||"bold",marginTop:i.marginTop||"0cm",marginBottom:i.marginBottom||"0.1cm"};N.useEffect(()=>{f.current&&!o.current&&f.current.innerHTML!==(i.title||"")&&(f.current.innerHTML=i.title||"")},[i.title]);const p=N.useCallback(T=>{const j=Il(T.nativeEvent).replace(/<br\s*\/?>/gi," ").replace(/\n/g," ");document.execCommand("insertHTML",!1,j)},[]),y=N.useCallback(()=>{if(o.current=!1,f.current){let T=Ie(f.current.innerHTML);T=T.replace(/<br\s*\/?>/gi," "),T!==i.title&&u({...i,title:T})}},[i,u]),E=N.useCallback(T=>{T.key==="Enter"&&T.preventDefault()},[]);return n.jsxs("div",{children:[n.jsx("h1",{ref:f,className:"border-none bg-transparent w-full outline-none p-[5px] focus:bg-[#eef] empty:before:content-['Click_to_add_title...'] empty:before:text-gray-400 empty:before:italic focus:empty:before:content-['']",style:b,contentEditable:!0,suppressContentEditableWarning:!0,onFocus:()=>{o.current=!0},onBlur:y,onPaste:p,onKeyPress:E}),n.jsxs("div",{className:"flex justify-between gap-[1cm] mb-[0.2cm]",children:[i.showName&&n.jsxs("div",{className:"flex-1 flex items-baseline",children:[n.jsx("span",{className:"font-bold mr-[5px] p-[5px]",children:"Name:"}),n.jsx("div",{className:"flex-1 border-b border-black"})]}),i.showDate&&n.jsxs("div",{className:"flex-1 flex items-baseline",children:[n.jsx("span",{className:"font-bold mr-[5px] p-[5px]",children:"Date:"}),n.jsx("div",{className:"flex-1 border-b border-black"})]})]})]})}const em=N.memo(function({value:u,onCommit:f,onMultiCommit:o,onAdvance:b,onRetreat:p,onSectionBreak:y,selectOnFocus:E=!1}){const[T,m]=N.useState(u),j=N.useRef(null),g=N.useRef(!1);N.useEffect(()=>{g.current||m(u)},[u]);const S=R=>{m(R.target.value)},k=()=>{g.current=!0},D=R=>{g.current=!1;const L=R.target.value;if(L.length===0){m(u);return}if(L.length===1)f(L),m(L),b?.();else if(o){const X=L.split("");o(X)}else f(L.slice(0,1)),m(L.slice(0,1)),b?.()},U=R=>{if(!g.current)switch(R.key){case" ":R.preventDefault(),T&&f(T.slice(0,1)),b?.();break;case"Enter":R.ctrlKey||(R.preventDefault(),T&&(f(T.slice(0,1)),m(T.slice(0,1))),y?.());break;case"Backspace":T===""&&(R.preventDefault(),p?.());break}},M=()=>{E&&j.current&&T&&j.current.select()},A=()=>{!g.current&&T&&(f(T.slice(0,1)),m(T.slice(0,1)))};return n.jsx("input",{ref:j,className:"char-input",value:T,onChange:S,onCompositionStart:k,onCompositionEnd:D,onKeyDown:U,onFocus:M,onBlur:A})}),Bb=50;function il(i,u,f="char",o=Bb){setTimeout(()=>{const b=document.querySelector("[data-grid-container]");b&&(f==="furigana"?b.querySelector(`input[data-section="${i}"][data-box="${u}"][data-type="furigana"]`)?.focus():b.querySelector(`[data-section="${i}"][data-box="${u}"][data-type="char"]`)?.querySelector("input.char-input")?.focus())},o)}function Mn(i,u,f,o="char"){setTimeout(()=>{const b=i.target.closest("[data-grid-container]");b&&(o==="furigana"?b.querySelector(`input[data-section="${u}"][data-box="${f}"][data-type="furigana"]`)?.focus():b.querySelector(`[data-section="${u}"][data-box="${f}"][data-type="char"]`)?.querySelector("input.char-input")?.focus())},0)}function Ub(i,u,f){const o=N.useCallback((m,j)=>{const g=j==="before"?m:m+1,S={id:crypto.randomUUID(),boxes:[{char:"",furigana:""}]},k=[...i.sections];k.splice(g,0,S),u({...i,sections:k}),f({sectionIndex:g,boxIndex:0}),il(g,0,"char")},[i,u,f]),b=N.useCallback((m,j)=>{if(j===0)return;const g=i.sections[m],S=g.boxes.slice(0,j),k=g.boxes.slice(j),D={...g,boxes:S},U={id:crypto.randomUUID(),boxes:k},M=[...i.sections];M.splice(m,1,D,U),u({...i,sections:M});const A=m+1;f({sectionIndex:A,boxIndex:0}),il(A,0,"char")},[i,u,f]),p=N.useCallback(m=>{const j=[...i.sections],g={char:"",furigana:""};j[m]={...j[m],boxes:[...j[m].boxes,g]},u({...i,sections:j});const S=j[m].boxes.length-1;f({sectionIndex:m,boxIndex:S}),il(m,S,"char")},[i,u,f]),y=N.useCallback((m,j)=>{const g=i.sections[m];if(g.boxes.length<=1){if(i.sections.length<=1)return;const S=i.sections.filter((D,U)=>U!==m);u({...i,sections:S});const k=Math.max(0,m-1);f({sectionIndex:k,boxIndex:0}),il(k,0,"char")}else{const S=[...g.boxes];S.splice(j,1);const k=[...i.sections];k[m]={...g,boxes:S},u({...i,sections:k});const D=Math.max(0,j-1);f({sectionIndex:m,boxIndex:D}),il(m,D,"char")}},[i,u,f]),E=N.useCallback((m,j)=>{const g=i.sections[m];if(j!==g.boxes.length-1||g.boxes.length<=1)return!1;const S=g.boxes[j];if(S.char||S.furigana)return!1;const k=[...i.sections],D=[...k[m].boxes];D.pop(),k[m]={...k[m],boxes:D},u({...i,sections:k});const U=j-1;return f({sectionIndex:m,boxIndex:U}),il(m,U,"char"),!0},[i,u,f]),T=N.useCallback((m,j,g)=>{const S=[...i.sections],k=S[m],D=[...k.boxes],U=g.length,M=D.slice(0,j),A=D.slice(j),R=g.map(Z=>({char:Z,furigana:""})),L=[...M,...R,...A];S[m]={...k,boxes:L},u({...i,sections:S});const X=j+U;f({sectionIndex:m,boxIndex:X}),X<L.length&&il(m,X,"char")},[i,u,f]);return{insertSection:o,breakSection:b,addBox:p,deleteBox:y,removeEmptyBox:E,multiCommit:T}}function Pl({number:i,customLabel:u,className:f="",show:o=!0}){return!o||i===void 0?null:n.jsx("span",{className:`font-bold mr-[3px] min-w-[1.5em] text-right inline-block text-[11pt] leading-[1.4] ${f}`,"data-testid":"question-number",children:u||`${i}.`})}function qb(i,u){const b=[];let p=[],y=0;for(const E of i){const T=E.boxes.length*u,m=p.length>0?T+2:T;y+m<=180?(p.push(E),y+=m):(p.length>0&&b.push(p),p=[E],y=T)}return p.length>0&&b.push(p),b}function Qb({item:i,isSelected:u,onUpdate:f}){const[o,b]=N.useState(null),p=N.useRef(null),y=N.useRef(!1),{insertSection:E,breakSection:T,addBox:m,deleteBox:j,removeEmptyBox:g,multiCommit:S}=Ub(i,f,b);N.useEffect(()=>{p.current&&!y.current&&p.current.innerHTML!==(i.description||"")&&(p.current.innerHTML=i.description||"")},[i.description]),N.useEffect(()=>{u||b(null)},[u]);const k=N.useCallback(($,V,P,re=!1)=>{if(!u)return;const J=o?.sectionIndex??V,ae=o?.boxIndex??P,w=i.sections[J];if(w)switch($.key){case"ArrowLeft":$.preventDefault(),ae>0&&(b({sectionIndex:J,boxIndex:ae-1}),Mn($,J,ae-1,re?"furigana":"char"));break;case"ArrowRight":$.preventDefault(),ae<w.boxes.length-1&&(b({sectionIndex:J,boxIndex:ae+1}),Mn($,J,ae+1,re?"furigana":"char"));break;case"ArrowUp":$.preventDefault(),!re&&i.showFurigana&&Mn($,J,ae,"furigana");break;case"ArrowDown":$.preventDefault(),re&&Mn($,J,ae,"char");break;case"Tab":$.preventDefault();const q=$.shiftKey?J-1:J+1;q>=0&&q<i.sections.length&&(b({sectionIndex:q,boxIndex:0}),Mn($,q,0,re?"furigana":"char"));break;case"Enter":$.ctrlKey&&($.preventDefault(),E(J,$.shiftKey?"before":"after"));break;case"Backspace":$.ctrlKey&&($.preventDefault(),j(J,ae));break}},[u,i.sections,i.showFurigana,o,E,j]),D=N.useCallback($=>{const V=$.relatedTarget;$.currentTarget.closest("[data-grid-container]")?.contains(V)||b(null)},[]),U=N.useCallback(($,V,P)=>{const re=[...i.sections],J=[...re[$].boxes];J[V]={...J[V],char:P},re[$]={...re[$],boxes:J},f({...i,sections:re})},[i,f]),M=N.useCallback(($,V,P)=>{const re=[...i.sections],J=[...re[$].boxes];J[V]={...J[V],furigana:P},re[$]={...re[$],boxes:J},f({...i,sections:re})},[i,f]),A=N.useCallback(($,V,P)=>{const re=i.sections[$];if(V>=re.boxes.length-1)m($);else{const ae=V+1;b({sectionIndex:$,boxIndex:ae}),il($,ae,P?"furigana":"char",0)}},[i.sections,m]),R=N.useCallback(($,V,P)=>{const re=i.sections[$],J=re.boxes[V],ae=V===re.boxes.length-1,w=!J.char&&!J.furigana;if(ae&&w&&re.boxes.length>1)g($,V);else if(V>0){const q=V-1;b({sectionIndex:$,boxIndex:q}),il($,q,P?"furigana":"char",0)}},[i.sections,g]),L=N.useCallback(($,V,P)=>{const re=i.sections[V]?.boxes[P];$.key===" "?($.preventDefault(),A(V,P,!0)):$.key==="Backspace"&&!re?.furigana?($.preventDefault(),R(V,P,!0)):k($,V,P,!0)},[i.sections,A,R,k]),X=N.useCallback(()=>{if(y.current=!1,p.current){const $=Ie(p.current.innerHTML);$!==i.description&&f({...i,description:$})}},[i,f]),Z=N.useCallback($=>{const V=Il($.nativeEvent);document.execCommand("insertHTML",!1,V)},[]),ne=($=>parseInt($)||10)(i.boxSize),Te=i.showFurigana?Math.floor(ne*.4):0,De=N.useMemo(()=>qb(i.sections,ne),[i.sections,ne]);return n.jsxs("div",{className:"flex flex-col","data-grid-container":!0,children:[n.jsxs("div",{className:"flex items-baseline mb-1",children:[n.jsx(Pl,{number:i.promptNumber,customLabel:i.customLabel,show:(i.showPromptNumber??!0)&&i.promptNumber!==void 0,className:"leading-[1]"}),u&&n.jsx("div",{ref:p,className:"flex-1 p-1 border-b border-dashed border-gray-300 focus:bg-blue-50 outline-none print:hidden text-sm min-h-[1.2em]",contentEditable:!0,suppressContentEditableWarning:!0,onFocus:()=>{y.current=!0},onBlur:X,onPaste:$=>{$.preventDefault(),Z($)},"data-placeholder":"Describe this grid (optional)"}),!u&&i.description&&n.jsx("span",{className:"text-sm text-gray-600",dangerouslySetInnerHTML:{__html:i.description}})]}),n.jsx("div",{className:"flex-1 print:flex print:flex-col",children:n.jsx("div",{className:"flex flex-col gap-y-2",children:De.map(($,V)=>{let P=0;for(let re=0;re<V;re++)P+=De[re].length;return n.jsx("div",{className:"flex gap-x-2 items-end print:gap-x-1",children:$.map((re,J)=>{const ae=P+J;return n.jsx("div",{className:"flex items-end",style:{gap:0},children:re.boxes.map((w,q)=>{const W=o?.sectionIndex===ae&&o?.boxIndex===q;return n.jsxs("div",{className:"flex flex-col relative",style:{width:`${ne}mm`},onFocus:()=>b({sectionIndex:ae,boxIndex:q}),onBlur:D,children:[i.showFurigana&&n.jsx("input",{className:"text-center text-[8pt] border-none outline-none leading-none text-gray-600 bg-transparent m-0 p-0 focus:bg-blue-50 print:text-black",style:{height:`${Te}mm`,width:"100%"},value:w.furigana||"",onChange:ie=>M(ae,q,ie.target.value),onKeyDown:ie=>L(ie,ae,q),"data-section":ae,"data-box":q,"data-type":"furigana"}),n.jsxs("div",{className:`box-border -mr-px -mb-px bg-white flex items-center justify-center font-sans leading-none cursor-text outline-none relative ${W?"ring-2 ring-primary-blue z-20 print:ring-0":"z-0"} ${i.hideBorderOnContent&&w.char&&w.char.trim()!==""?"border-transparent":"border border-black"}`,style:{width:`${ne}mm`,height:`${ne}mm`,fontSize:`${ne*.75}mm`},"data-section":ae,"data-box":q,"data-type":"char",children:[i.showGuides&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute top-1/2 left-0 right-0 border-t border-dashed border-gray-300 pointer-events-none z-0"}),n.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 border-l border-dashed border-gray-300 pointer-events-none z-0"})]}),n.jsx("div",{className:"relative z-10 w-full h-full flex items-center justify-center",onKeyDown:ie=>k(ie,ae,q,!1),children:n.jsx(em,{value:w.char||"",onCommit:ie=>U(ae,q,ie),onMultiCommit:ie=>S(ae,q,ie),onAdvance:()=>A(ae,q,!1),onRetreat:()=>R(ae,q,!1),onSectionBreak:()=>T(ae,q)})})]})]},q)})},re.id)})},V)})})})]})}const Gb={VI:"Ghi ch",EN:"Note",JP:""};function Yb({item:i,onUpdate:u}){const f=N.useRef(null),o=N.useRef(!1),b={fontSize:i.fontSize||"12pt",textAlign:i.textAlign||"left",fontWeight:i.fontWeight||"normal",marginTop:i.marginTop||"0.05cm",marginBottom:i.marginBottom||"0.05cm"};N.useEffect(()=>{f.current&&!o.current&&f.current.innerHTML!==i.content&&(f.current.innerHTML=i.content)},[i.content]);const p=N.useCallback(g=>{const S=Il(g.nativeEvent);document.execCommand("insertHTML",!1,S)},[]),y=N.useCallback(()=>{if(o.current=!1,f.current){const g=Ie(f.current.innerHTML);g!==i.content&&u({...i,content:g})}},[i,u]),E=N.useCallback(g=>{o.current=!0;const S=document.createRange(),k=window.getSelection();S.selectNodeContents(g.target),S.collapse(!1),k?.removeAllRanges(),k?.addRange(S)},[]),T=i.language||"VI",m=Gb[T],j=()=>{if(!i.cardHeader)return null;const g=`${m}: ${i.cardHeader}`;return n.jsx("span",{className:"absolute -top-[0.6em] left-[3mm] bg-white px-[2mm] text-[10pt] font-bold print:bg-white",children:n.jsx("span",{className:"border-b-2 border-black",children:g})})};return n.jsxs("div",{className:"flex items-baseline",children:[n.jsx(Pl,{number:i.promptNumber,show:i.showPromptNumber&&!!i.promptNumber,className:"leading-[1]"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative border-2 border-black p-[3mm] pt-[5mm] print:bg-white print:border-black",style:{minHeight:"2cm"},children:[j(),n.jsx("div",{ref:f,className:"border-none bg-transparent outline-none resize-none overflow-hidden min-h-[1.4em] focus:bg-[#eef] print:bg-white empty:before:content-['Click_to_add_card_content...'] empty:before:text-gray-400 empty:before:italic focus:empty:before:content-['']",style:b,contentEditable:!0,suppressContentEditableWarning:!0,onFocus:E,onBlur:y,onPaste:p})]})})]})}function Vb({item:i,onUpdate:u}){const f=N.useRef([]),o=N.useRef(null),b=N.useRef(!1),p=N.useRef(null);N.useEffect(()=>{o.current&&document.activeElement!==o.current&&o.current.innerHTML!==(i.description||"")&&(o.current.innerHTML=i.description||"")},[i.description]),N.useEffect(()=>{i.terms.forEach((S,k)=>{const D=f.current[k];D&&document.activeElement!==D&&D.innerHTML!==S.term&&(D.innerHTML=S.term)})},[i.terms]);const y=N.useCallback((S,k)=>{const D=[...i.terms];D[S]={...D[S],term:k},u({...i,terms:D})},[i,u]),E=N.useCallback(()=>{if(b.current=!1,o.current){const S=Ie(o.current.innerHTML);S!==i.description&&u({...i,description:S})}},[i,u]),T=N.useCallback(S=>{const k=Il(S.nativeEvent);document.execCommand("insertHTML",!1,k)},[]),m=N.useRef({}),j=N.useCallback(S=>{m.current[S]&&clearTimeout(m.current[S]),m.current[S]=setTimeout(()=>{if(f.current[S]){const k=Ie(f.current[S].innerHTML);if(k!==i.terms[S].term){const D=[...i.terms];D[S]={...D[S],term:k},u({...i,terms:D})}}},500)},[i,u]),g=N.useCallback(S=>{if(m.current[S]&&clearTimeout(m.current[S]),p.current=null,f.current[S]){const k=Ie(f.current[S].innerHTML);k!==i.terms[S].term&&y(S,k)}},[y,i.terms]);return n.jsxs("div",{className:"flex items-baseline",children:[n.jsx(Pl,{number:i.promptNumber,show:i.showPromptNumber&&!!i.promptNumber}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{ref:o,className:"mb-[2mm] text-[11pt] leading-[1.4] outline-none hover:bg-[#eef] focus:bg-[#eef] p-[2px] rounded empty:before:content-['Click_to_add_description...'] empty:before:text-gray-400 empty:before:italic focus:empty:before:content-['']",contentEditable:!0,suppressContentEditableWarning:!0,onFocus:()=>{b.current=!0},onBlur:E,onPaste:T}),n.jsx("div",{className:"grid gap-0 pt-0",style:{gridTemplateColumns:`repeat(${i.columns}, 1fr)`,fontSize:`${i.fontSize}pt`},children:(()=>{const S={},k=i.gridBoxSize||"10mm",D=i.gridLayout||"inline",U=i.gridShowFurigana||!1,M=parseInt(k)||10,A=U?Math.floor(M*.4):0;return i.terms.map((R,L)=>{const X=R.listStyleOverride||i.listStyle||"number";S[X]=(S[X]||0)+1;const Z=S[X]-1;let le="";X==="number"?le=`${Z+1}.`:X==="letter"?le=`${String.fromCharCode(97+Z)}.`:X==="roman"?le=`${["I","II","III","IV","V","VI","VII","VIII","IX","X"][Z]||Z+1}.`:X==="bullet"?le="":X==="vd"?le="Vd.":X==="example"?le=".":X==="none"&&(le="");const ne=R.termType==="grid",Te=R.gridBoxCount||5,De=R.showTerm!==!1,$=R.showTrailingLine!==!1;return n.jsxs("div",{className:"flex items-baseline flex-grow min-w-0",children:[n.jsx("span",{className:"mr-1 text-gray-700 font-medium select-none",children:le}),ne?n.jsxs("div",{className:`flex ${D==="below"?"flex-col":"flex-row items-baseline"} gap-2 flex-1`,children:[n.jsx("div",{className:"flex flex-col",children:n.jsx("div",{className:"flex",children:Array.from({length:Te}).map((V,P)=>n.jsxs("div",{className:"flex flex-col relative",style:{width:`${M}mm`},children:[U&&n.jsx("input",{className:"text-center text-[8pt] border-none outline-none leading-none text-gray-600 bg-transparent m-0 p-0",style:{height:`${A}mm`,width:"100%"}}),n.jsx("div",{className:"box-border border border-black -mr-px -mb-px bg-white flex items-center justify-center font-sans leading-none cursor-text outline-none relative print:border-black",style:{width:`${M}mm`,height:`${M}mm`,fontSize:`${M*.75}mm`},children:n.jsx("div",{className:"relative z-10 w-full h-full flex items-center justify-center",children:n.jsx(em,{value:"",onCommit:()=>{}})})})]},P))})}),De&&n.jsx("div",{ref:V=>{f.current[L]=V},className:"px-[5px] py-[2px] whitespace-nowrap shrink-0 hover:bg-[#eef] focus-within:bg-[#eef] outline-none min-w-[5mm]",contentEditable:!0,suppressContentEditableWarning:!0,onFocus:()=>{p.current=L},onBlur:()=>g(L),onInput:()=>j(L),onPaste:T}),$&&n.jsx("div",{className:"flex-1 border-b-2 border-dashed border-black min-w-[1cm] mr-3"})]}):n.jsxs(n.Fragment,{children:[De&&n.jsx("div",{ref:V=>{f.current[L]=V},className:"mr-2 px-[5px] py-[2px] whitespace-nowrap shrink-0 hover:bg-[#eef] focus-within:bg-[#eef] outline-none min-w-[5mm]",contentEditable:!0,suppressContentEditableWarning:!0,onFocus:()=>{p.current=L},onBlur:()=>g(L),onInput:()=>j(L),onPaste:T}),$&&n.jsx("div",{className:"flex-1 border-b-2 border-dashed border-black min-w-[1cm] mr-3"})]})]},R.id||L)})})()})]})]})}const Zb=({item:i,mode:u,onUpdate:f})=>{const o=N.useRef(null),b=N.useRef([]),p=N.useRef(!1),y=N.useRef(-1);N.useEffect(()=>{o.current&&!p.current&&o.current.innerHTML!==i.prompt&&(o.current.innerHTML=i.prompt)},[i.prompt]),N.useEffect(()=>{i.options.forEach((j,g)=>{const S=b.current[g];S&&y.current!==g&&S.innerHTML!==j&&(S.innerHTML=j)})},[i.options]);const E=N.useCallback(()=>{if(p.current=!1,o.current){const j=Ie(o.current.innerHTML);j!==i.prompt&&f({...i,prompt:j})}},[i,f]),T=N.useCallback(j=>{if(y.current=-1,b.current[j]){const g=Ie(b.current[j].innerHTML),S=[...i.options];S[j]!==g&&(S[j]=g,f({...i,options:S}))}},[i,f]),m=N.useCallback(j=>{const g=Il(j.nativeEvent);document.execCommand("insertHTML",!1,g)},[]);return n.jsxs("div",{className:"mb-[1mm] p-0 print:break-inside-avoid flex items-baseline","data-testid":`mc-item-${i.id}`,"data-item-type":"MULTIPLE_CHOICE",children:[n.jsx(Pl,{number:i.promptNumber,show:i.showPromptNumber&&!!i.promptNumber}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{ref:o,className:"mb-[1mm] text-[11pt] leading-[1.4] outline-none hover:bg-[#eef] focus:bg-[#eef] p-[1px] rounded empty:before:content-['Click_to_add_question...'] empty:before:text-gray-400 empty:before:italic focus:empty:before:content-['']",contentEditable:!0,suppressContentEditableWarning:!0,onFocus:()=>{p.current=!0},onBlur:E,onPaste:m,"data-testid":"mc-prompt"}),n.jsx("div",{className:"grid gap-[0.5mm] pl-[5mm]",style:{gridTemplateColumns:`repeat(${i.columns||1}, 1fr)`},"data-testid":"mc-options",children:i.options.map((j,g)=>{const S=g===i.correctIndex,k=u==="teacher"&&S,D=String.fromCharCode(65+g);return n.jsxs("div",{className:`flex items-baseline gap-[2mm] text-[10pt] ${k?"font-bold underline decoration-2 decoration-[#2e7d32] print:decoration-black":""}`,"data-testid":`mc-option-${g}`,"data-correct":S,children:[n.jsxs("span",{className:"font-medium w-[5mm] shrink-0",children:[D,"."]}),n.jsx("span",{ref:U=>{b.current[g]=U},className:"flex-1 outline-none hover:bg-[#eef] focus:bg-[#eef] rounded px-[2px] min-w-[20px]",contentEditable:u==="teacher",suppressContentEditableWarning:!0,onFocus:()=>{y.current=g},onBlur:()=>T(g),onPaste:m})]},g)})})]})]})},Xb={EN:{T:"True",F:"False"},VN:{T:"ng",F:"Sai"},JP:{T:"",F:""}},Kb=({item:i,mode:u,onUpdate:f})=>{const o=N.useRef(null),b=N.useRef([]),p=N.useRef(!1),y=i.language||"EN",E=Xb[y];N.useEffect(()=>{o.current&&document.activeElement!==o.current&&o.current.innerHTML!==i.prompt&&(o.current.innerHTML=i.prompt),i.questions.forEach((M,A)=>{const R=b.current[A];R&&document.activeElement!==R&&R.innerHTML!==M.text&&(R.innerHTML=M.text)})},[i.prompt,i.questions]);const T=N.useCallback(()=>{if(p.current=!1,o.current){const M=Ie(o.current.innerHTML);M!==i.prompt&&f({...i,prompt:M})}},[i,f]),m=N.useRef({}),j=N.useCallback(M=>{m.current[M]&&clearTimeout(m.current[M]),m.current[M]=setTimeout(()=>{const A=b.current[M];if(A){const R=Ie(A.innerHTML);if(R!==i.questions[M].text){const L=[...i.questions];L[M]={...L[M],text:R},f({...i,questions:L})}}},500)},[i,f]),g=N.useCallback(M=>{m.current[M]&&clearTimeout(m.current[M]),p.current=!1;const A=b.current[M];if(A){const R=Ie(A.innerHTML);if(R!==i.questions[M].text){const L=[...i.questions];L[M]={...L[M],text:R},f({...i,questions:L})}}},[i,f]),S=N.useCallback(M=>{const A=Il(M.nativeEvent);document.execCommand("insertHTML",!1,A)},[]),k=N.useCallback(M=>{p.current=!0;const A=document.createRange(),R=window.getSelection();A.selectNodeContents(M.target),A.collapse(!1),R?.removeAllRanges(),R?.addRange(A)},[]),D=()=>{const M=i.questions[0];if(!M)return null;const A=M.correctAnswer===!0,R=M.correctAnswer===!1,L=u==="teacher"&&A?"font-bold underline decoration-2 decoration-[#2e7d32]":"",X=u==="teacher"&&R?"font-bold underline decoration-2 decoration-[#2e7d32]":"";return n.jsxs("div",{className:"mt-1",children:[n.jsx("div",{ref:Z=>{b.current[0]=Z},className:"mb-2 outline-none hover:bg-[#eef] focus:bg-[#eef] rounded p-[1px] min-h-[1.2em]",contentEditable:u==="teacher",suppressContentEditableWarning:!0,onFocus:k,onBlur:()=>g(0),onPaste:S}),n.jsxs("div",{className:"flex flex-col gap-1 pl-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`w-[60px] ${L}`,children:E.T}),n.jsx("span",{className:"mr-2",children:"=>"}),n.jsx("div",{className:"flex-1 border-b border-dashed border-gray-400 h-4"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`w-[60px] ${X}`,children:E.F}),n.jsx("span",{className:"mr-2",children:""})," ",n.jsx("div",{className:"flex-1 border-b border-dashed border-gray-400 h-4"})]})]})]})},U=()=>n.jsx("div",{className:"mt-2 flex flex-col gap-4",children:i.questions.map((M,A)=>{const R=M.correctAnswer===!0,L=M.correctAnswer===!1;return n.jsxs("div",{className:"break-inside-avoid",children:[n.jsxs("div",{className:"flex items-baseline justify-between gap-4",children:[n.jsxs("div",{className:"flex items-baseline flex-1 min-w-0",children:[n.jsxs("span",{className:"font-bold mr-2 text-[10pt]",children:[String.fromCharCode(97+A),")"]}),n.jsx("div",{ref:X=>{b.current[A]=X},className:"flex-1 outline-none hover:bg-[#eef] focus:bg-[#eef] rounded p-[1px] min-h-[1.2em]",contentEditable:u==="teacher",suppressContentEditableWarning:!0,onFocus:k,onBlur:()=>g(A),onInput:()=>j(A),onPaste:S})]}),n.jsx("div",{className:"font-bold whitespace-nowrap text-right min-w-[80px]",children:u==="teacher"?n.jsxs("span",{children:[n.jsx("span",{className:R?"underline decoration-2 decoration-[#2e7d32]":"",children:E.T})," / ",n.jsx("span",{className:L?"underline decoration-2 decoration-[#2e7d32]":"",children:E.F})]}):`${E.T} / ${E.F}`})]}),i.showDashedLines&&M.showReasoning!==!1&&n.jsxs("div",{className:"mt-1 pl-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[10pt] font-bold",children:"=>"}),u==="teacher"?n.jsx("div",{className:"flex-1 border-b border-dashed border-black h-4 outline-none empty:before:content-['...'] empty:before:text-gray-300",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:X=>{const Z=Ie(X.currentTarget.innerHTML);M.text}}):n.jsx("div",{className:"flex-1 border-b border-dashed border-black h-4"})]}),Array.from({length:Math.max(0,(i.reasoningLines||2)-1)}).map((X,Z)=>n.jsx("div",{className:"flex-1 border-b border-dashed border-black h-6 ml-6"},Z))]})]},M.id||A)})});return n.jsx("div",{className:"mb-[2mm] p-0 print:break-inside-avoid","data-testid":`tf-item-${i.id}`,"data-item-type":"TRUE_FALSE",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Pl,{number:i.promptNumber,show:i.showPromptNumber&&!!i.promptNumber,className:"shrink-0 pt-[2px]"}),n.jsxs("div",{className:"flex-1 min-w-0 text-[11pt] leading-[1.4]",children:[i.layout==="multiple"&&n.jsx("div",{ref:o,className:"mb-1 outline-none hover:bg-[#eef] focus:bg-[#eef] p-[1px] rounded empty:before:content-['Click_to_add_prompt...'] empty:before:text-gray-400 empty:before:italic focus:empty:before:content-['']",contentEditable:!0,suppressContentEditableWarning:!0,onFocus:k,onBlur:T,onPaste:S,"data-testid":"tf-prompt"}),i.layout==="multiple"?U():D()]})]})})},Jb=({item:i,mode:u,onUpdate:f})=>{const o=N.useRef(null),b=N.useRef([]),p=N.useRef([]),y=N.useRef(!1),E=N.useMemo(()=>{if(u==="teacher")return i.pairs.map((L,X)=>({left:L.left,right:L.right,leftIndex:X,rightLetter:String.fromCharCode(65+X),originalIndex:X}));const R=[...i.pairs.map((L,X)=>({text:L.right,id:X})).map(L=>L.text)];for(let L=R.length-1;L>0;L--){const X=Math.floor(Math.random()*(L+1));[R[L],R[X]]=[R[X],R[L]]}return i.pairs.map((L,X)=>({left:L.left,right:R[X],leftIndex:X,rightLetter:String.fromCharCode(65+X),originalIndex:X}))},[i.pairs,u]);N.useEffect(()=>{y.current||(o.current&&o.current.innerHTML!==i.prompt&&(o.current.innerHTML=i.prompt),E.forEach((A,R)=>{const L=b.current[R];L&&L.innerHTML!==A.left&&(L.innerHTML=A.left);const X=p.current[R];X&&X.innerHTML!==A.right&&(X.innerHTML=A.right)}))},[i.prompt,E]);const T=N.useRef({}),m=N.useRef({}),j=N.useCallback(A=>{T.current[A]&&clearTimeout(T.current[A]),T.current[A]=setTimeout(()=>{const R=b.current[A];if(R){const L=Ie(R.innerHTML);if(L!==i.pairs[A].left){const X=[...i.pairs];X[A]={...X[A],left:L},f({...i,pairs:X})}}},500)},[i,f]),g=N.useCallback(A=>{m.current[A]&&clearTimeout(m.current[A]),m.current[A]=setTimeout(()=>{const R=p.current[A];if(R){const L=Ie(R.innerHTML);if(L!==i.pairs[A].right){const X=[...i.pairs];X[A]={...X[A],right:L},f({...i,pairs:X})}}},500)},[i,f]),S=N.useCallback(()=>{if(y.current=!1,o.current){const A=Ie(o.current.innerHTML);A!==i.prompt&&f({...i,prompt:A})}},[i,f]),k=N.useCallback(A=>{if(T.current[A]&&clearTimeout(T.current[A]),y.current=!1,b.current[A]){const R=Ie(b.current[A].innerHTML);if(R!==i.pairs[A].left){const L=[...i.pairs];L[A]={...L[A],left:R},f({...i,pairs:L})}}},[i,f]),D=N.useCallback(A=>{if(m.current[A]&&clearTimeout(m.current[A]),y.current=!1,p.current[A]){const R=Ie(p.current[A].innerHTML);if(R!==i.pairs[A].right){const L=[...i.pairs];L[A]={...L[A],right:R},f({...i,pairs:L})}}},[i,f]),U=N.useCallback(A=>{const R=Il(A.nativeEvent);document.execCommand("insertHTML",!1,R)},[]),M=N.useCallback(A=>{y.current=!0;const R=document.createRange(),L=window.getSelection();R.selectNodeContents(A.target),R.collapse(!1),L?.removeAllRanges(),L?.addRange(R)},[]);return n.jsxs("div",{className:"mb-[1mm] p-0 print:break-inside-avoid flex items-baseline","data-testid":`matching-item-${i.id}`,"data-item-type":"MATCHING",children:[n.jsx(Pl,{number:i.promptNumber,show:i.showPromptNumber&&!!i.promptNumber}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{ref:o,className:"mb-[2mm] text-[11pt] leading-[1.4] outline-none hover:bg-[#eef] focus:bg-[#eef] p-[1px] rounded empty:before:content-['Click_to_add_instructions...'] empty:before:text-gray-400 empty:before:italic focus:empty:before:content-['']",contentEditable:!0,suppressContentEditableWarning:!0,onFocus:M,onBlur:S,onPaste:U,onInput:()=>{},"data-testid":"matching-prompt"}),n.jsx("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-x-[4mm] gap-y-[1.5mm] mt-[2mm] items-baseline","data-testid":"matching-columns",children:E.map((A,R)=>n.jsxs(N.Fragment,{children:[n.jsxs("div",{className:"flex items-baseline gap-[2mm] text-[10pt]","data-testid":`matching-left-${R}`,children:[n.jsxs("span",{className:"w-[20px] font-bold shrink-0 text-right",children:[R+1,"."]}),n.jsx("span",{ref:L=>{b.current[R]=L},className:"flex-1 outline-none hover:bg-[#eef] focus:bg-[#eef] rounded px-[2px] min-w-[20px]",contentEditable:u==="teacher",suppressContentEditableWarning:!0,onFocus:M,onBlur:()=>k(R),onInput:()=>j(R),onPaste:U})]}),n.jsx("div",{className:"flex items-baseline px-2",children:u==="student"?n.jsx("span",{className:"border-b border-black w-[30px] inline-block text-center shrink-0 leading-none",children:""}):n.jsxs("span",{className:"w-[30px] inline-block text-center shrink-0 font-bold text-blue-700 text-xs",children:["(",A.rightLetter,")"]})}),n.jsxs("div",{className:"flex items-baseline gap-[2mm] text-[10pt]","data-testid":`matching-right-${R}`,children:[n.jsxs("span",{className:"w-[20px] font-medium shrink-0",children:[A.rightLetter,"."]}),n.jsx("span",{ref:L=>{p.current[R]=L},className:"flex-1 outline-none hover:bg-[#eef] focus:bg-[#eef] rounded px-[2px] min-w-[20px]",contentEditable:u==="teacher",suppressContentEditableWarning:!0,onFocus:M,onBlur:()=>D(R),onInput:()=>g(R),onPaste:U})]})]},`pair-${R}`))})]})]})},$b=({item:i,mode:u})=>{const f=i.template.split(/(\{\{blank\}\})/gi);let o=0;return n.jsxs("div",{className:"mb-[4mm] p-0 print:break-inside-avoid flex items-baseline","data-testid":`cloze-item-${i.id}`,"data-item-type":"CLOZE",children:[n.jsx(Pl,{number:i.promptNumber,show:i.showPromptNumber&&!!i.promptNumber}),n.jsx("div",{className:"flex-1 text-[11pt] leading-[1.4]","data-testid":"cloze-template",children:f.map((b,p)=>{if(b.toLowerCase()==="{{blank}}"){const y=i.answers[o]||"",E=o;return o++,u==="teacher"?n.jsxs("span",{className:"font-bold text-blue-700 bg-blue-50 px-[4px] rounded-[2px] border-b border-blue-200","data-testid":`cloze-blank-${E}`,"data-blank-index":E,children:["[",y,"]"]},p):n.jsx("span",{className:"inline-block border-b border-black mx-[4px] align-baseline text-transparent",style:{width:i.blankWidth||"4cm"},"data-testid":`cloze-blank-${E}`,"data-blank-index":E,children:""},p)}return n.jsx("span",{className:"whitespace-pre-wrap",children:b},p)})})]})},Wb=()=>({id:crypto.randomUUID(),type:"CARD",content:"",showPromptNumber:!0,showBorder:!1,language:"VI"}),Fb=()=>({id:crypto.randomUUID(),type:"GRID",description:"",boxSize:"8mm",showFurigana:!0,showGuides:!0,showPromptNumber:!0,columns:15,rows:1,sections:Array.from({length:1},()=>({id:crypto.randomUUID(),boxes:Array.from({length:1},()=>({char:"",furigana:""}))}))}),Ib=()=>({id:crypto.randomUUID(),type:"VOCAB",columns:1,fontSize:12,terms:[{id:crypto.randomUUID(),term:"Term 1",meaning:""},{id:crypto.randomUUID(),term:"Term 2",meaning:""}],description:"Vocabulary matching exercise.",showPromptNumber:!0,listStyle:"number"}),Pb=()=>({id:crypto.randomUUID(),type:"MULTIPLE_CHOICE",prompt:"New multiple choice question",options:["Option A","Option B"],correctIndex:0,showPromptNumber:!0}),ep=()=>({id:crypto.randomUUID(),type:"TRUE_FALSE",prompt:"Evaluate the following statements:",questions:[{id:crypto.randomUUID(),text:"New statement",correctAnswer:!0,showReasoning:!0}],layout:"single",language:"EN",showDashedLines:!0,reasoningLines:2,showPromptNumber:!0}),tp=()=>({id:crypto.randomUUID(),type:"MATCHING",prompt:"Match the terms with their definitions.",pairs:[{left:"Term 1",right:"Definition 1"},{left:"Term 2",right:"Definition 2"},{left:"Term 3",right:"Definition 3"}],layout:"side-by-side",showPromptNumber:!0}),lp=()=>({id:crypto.randomUUID(),type:"CLOZE",template:"The capital of Japan is {{blank}}.",answers:["Tokyo"],showPromptNumber:!0}),Zf=()=>({id:crypto.randomUUID(),items:[]});function ap(i=[]){const[u,f]=N.useState(()=>[{id:crypto.randomUUID(),items:i}]),[o,b]=N.useState(0),[p,y]=N.useState(null),[E,T]=N.useState("teacher"),[m,j]=N.useState({title:"Untitled Worksheet",subject:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:"2.0"}),S=u[o]?.items||[],k=u.length,D=N.useCallback(J=>{J>=0&&J<u.length&&(b(J),y(null))},[u.length]),U=N.useCallback(()=>D(o+1),[o,D]),M=N.useCallback(()=>D(o-1),[o,D]),A=N.useCallback(()=>{const J=Zf();f(ae=>[...ae,J]),b(u.length),y(null)},[u.length]),R=N.useCallback(()=>{u.length<=1||(f(J=>J.filter((ae,w)=>w!==o)),b(J=>Math.max(0,J-1)),y(null))},[u.length,o]),L=N.useCallback(J=>{y(J)},[]),X=N.useCallback(J=>{f(ae=>ae.map((w,q)=>q===o?{...w,items:w.items.map(W=>W.id===J.id?J:W)}:w)),y(J)},[o]),Z=N.useCallback(J=>{let ae=1;return J.map(w=>({...w,items:w.items.map(q=>"showPromptNumber"in q&&q.showPromptNumber?{...q,promptNumber:ae++}:q)}))},[]),le=N.useCallback((J,ae)=>{f(w=>{const q=ae??w[o].items.length,W=w.map((ie,me)=>{if(me!==o)return ie;const v=[...ie.items];return v.splice(q,0,J),{...ie,items:v}});return Z(W)}),y(J)},[o,Z]),ne=N.useCallback(J=>{f(ae=>{const w=ae.map((q,W)=>W===o?{...q,items:q.items.filter(ie=>ie.id!==J.id)}:q);return Z(w)}),y(null)},[o,Z]),Te=N.useCallback(J=>{f(ae=>ae.map((w,q)=>q===o?{...w,items:J}:w))},[o]),De=N.useCallback(J=>{f(J.length>0?J:[Zf()]),b(0),y(null)},[]),$=N.useCallback(()=>{T(J=>J==="teacher"?"student":"teacher")},[]),V=N.useCallback(J=>{j({...J,updatedAt:new Date().toISOString()})},[]),P=N.useCallback(J=>{f(ae=>ae.map((w,q)=>q!==o?w:{...w,items:w.items.map(W=>W.id!==J||W.type!=="VOCAB"?W:{...W,terms:[...W.terms,{id:crypto.randomUUID(),term:"",meaning:""}]})}))},[o]),re=N.useCallback(J=>{f(ae=>ae.map((w,q)=>q!==o?w:{...w,items:w.items.map(W=>W.id!==J||W.type!=="TRUE_FALSE"?W:{...W,questions:[...W.questions,{id:crypto.randomUUID(),text:"",correctAnswer:!0,showReasoning:!0}]})}))},[o]);return{items:S,pages:u,currentPageIndex:o,totalPages:k,selectedItem:p,mode:E,metadata:m,goToPage:D,nextPage:U,prevPage:M,addPage:A,deletePage:R,handleSelectItem:L,updateItem:X,addItem:le,deleteItem:ne,setItems:Te,setAllPages:De,toggleMode:$,updateMetadata:V,addVocabTerm:P,addTFQuestion:re}}function np({item:i,onUpdate:u}){const o=(p=>parseInt(p)||10)(i.boxSize),b=Math.floor(180/o);return n.jsxs("div",{className:"prop-group",children:[n.jsx("h4",{children:"Grid Properties"}),n.jsxs("label",{className:"checkbox-label mb-4",children:[n.jsx("input",{type:"checkbox",checked:i.showPromptNumber||!1,onChange:p=>u({...i,showPromptNumber:p.target.checked})}),"Show Question Number"]}),n.jsxs("label",{className:"checkbox-label mb-2",children:[n.jsx("input",{type:"checkbox",checked:i.showFurigana,onChange:p=>u({...i,showFurigana:p.target.checked})}),"Show Furigana Row"]}),n.jsxs("label",{className:"checkbox-label mb-4",children:[n.jsx("input",{type:"checkbox",checked:i.showGuides,onChange:p=>u({...i,showGuides:p.target.checked})}),"Show Inner Guides"]}),n.jsxs("label",{className:"checkbox-label mb-4",children:[n.jsx("input",{type:"checkbox",checked:i.hideBorderOnContent||!1,onChange:p=>u({...i,hideBorderOnContent:p.target.checked})}),"Hide Border on Filled Boxes"]}),n.jsx("label",{className:"prop-label",children:"Box Size"}),n.jsxs("select",{className:"prop-input mb-4",value:i.boxSize,onChange:p=>{const y=p.target.value;u({...i,boxSize:y})},children:[n.jsx("option",{value:"8mm",children:"Small (8mm)"}),n.jsx("option",{value:"10mm",children:"Medium (10mm)"}),n.jsx("option",{value:"12mm",children:"Large (12mm)"})]}),n.jsxs("div",{className:"prop-group",children:[n.jsx("h5",{className:"text-[12px] font-semibold mt-6 mb-2",children:"Sections & Columns"}),n.jsx("button",{className:"btn-add mb-3",onClick:()=>{const p=i.sections[i.sections.length-1],y=p?p.boxes.length:15,E={id:crypto.randomUUID(),boxes:Array.from({length:y},()=>({char:"",furigana:""}))};u({...i,sections:[...i.sections,E],rows:i.sections.length+1})},children:"+ Add New Row"}),n.jsx("div",{className:"space-y-3",children:i.sections.map((p,y)=>n.jsxs("div",{className:"p-2 bg-gray-50 rounded border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("span",{className:"text-xs font-bold text-gray-700",children:["Row ",y+1]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("button",{className:"p-1 px-2 bg-red-50 text-red-600 border border-red-200 rounded text-[10px]",onClick:()=>{if(i.sections.length<=1)return;const E=i.sections.filter((T,m)=>m!==y);u({...i,sections:E,rows:E.length})},disabled:i.sections.length<=1,children:"Remove Row"})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-[10px] text-gray-600",children:"Boxes:"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{className:"w-6 h-6 flex items-center justify-center border border-gray-300 rounded bg-white hover:bg-gray-100",onClick:()=>{const E=[...i.sections];E[y].boxes.length<=1||(E[y]={...E[y],boxes:E[y].boxes.slice(0,-1)},u({...i,sections:E}))},children:"-"}),n.jsx("span",{className:"w-8 text-center text-xs font-mono",children:p.boxes.length}),n.jsx("button",{className:"w-6 h-6 flex items-center justify-center border border-gray-300 rounded bg-white hover:bg-gray-100",onClick:()=>{const E=[...i.sections];E[y].boxes.length>=b||(E[y]={...E[y],boxes:[...E[y].boxes,{char:"",furigana:""}]},u({...i,sections:E}))},children:"+"})]}),n.jsxs("span",{className:"text-[10px] text-gray-400 ml-auto",children:["(Max: ",b,")"]})]})]},p.id||y))})]}),n.jsx("div",{className:"text-xs text-gray-500 italic mt-2",children:"Note: Changing dimensions will preserve existing content where possible."})]})}function sp({item:i,onUpdate:u}){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"prop-group",children:[n.jsx("h4",{children:"Header Elements"}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:i.showName,onChange:f=>u({...i,showName:f.target.checked})}),"Show Name Field"]}),n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:i.showDate,onChange:f=>u({...i,showDate:f.target.checked})}),"Show Date Field"]})]})]}),n.jsxs("div",{className:"prop-group",children:[n.jsx("h4",{children:"Title Styling"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"prop-label",children:"Font Size"}),n.jsxs("select",{className:"prop-select",value:i.fontSize||"18pt",onChange:f=>u({...i,fontSize:f.target.value}),children:[n.jsx("option",{value:"14pt",children:"14pt"}),n.jsx("option",{value:"16pt",children:"16pt"}),n.jsx("option",{value:"18pt",children:"18pt"}),n.jsx("option",{value:"20pt",children:"20pt"}),n.jsx("option",{value:"24pt",children:"24pt"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"prop-label",children:"Font Weight"}),n.jsxs("select",{className:"prop-select",value:i.fontWeight||"bold",onChange:f=>u({...i,fontWeight:f.target.value}),children:[n.jsx("option",{value:"normal",children:"Normal"}),n.jsx("option",{value:"bold",children:"Bold"})]})]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"prop-label",children:"Alignment"}),n.jsx("div",{className:"flex border border-gray-300 rounded overflow-hidden",children:["left","center","right"].map(f=>n.jsx("button",{className:`flex-1 py-1 text-xs capitalize ${i.textAlign===f||!i.textAlign&&f==="center"?"bg-primary-blue text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,onClick:()=>u({...i,textAlign:f}),children:f},f))})]})]})]})}function cp({item:i,onUpdate:u}){return n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"prop-group",children:[n.jsx("h4",{children:"Card Styling"}),n.jsx("div",{className:"mb-4",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:i.showPromptNumber||!1,onChange:f=>u({...i,showPromptNumber:f.target.checked})}),"Show Question Number"]})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"prop-label",children:"Language"}),n.jsxs("select",{className:"prop-select",value:i.language||"VI",onChange:f=>u({...i,language:f.target.value}),children:[n.jsx("option",{value:"VI",children:"Vietnamese (Ting Vit)"}),n.jsx("option",{value:"EN",children:"English"}),n.jsx("option",{value:"JP",children:"Japanese ()"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"prop-label",children:"Card Title (optional)"}),n.jsx("input",{type:"text",className:"prop-input",value:i.cardHeader||"",placeholder:"e.g., Ghi ch quan trng",onChange:f=>u({...i,cardHeader:f.target.value})}),n.jsx("small",{className:"text-xs text-gray-500 mt-1 block",children:"Title will appear with underlines and language indicator"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"prop-label",children:"Font Size"}),n.jsxs("select",{className:"prop-select",value:i.fontSize||"12pt",onChange:f=>u({...i,fontSize:f.target.value}),children:[n.jsx("option",{value:"10pt",children:"10pt"}),n.jsx("option",{value:"11pt",children:"11pt"}),n.jsx("option",{value:"12pt",children:"12pt"}),n.jsx("option",{value:"14pt",children:"14pt"}),n.jsx("option",{value:"16pt",children:"16pt"}),n.jsx("option",{value:"18pt",children:"18pt"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"prop-label",children:"Font Weight"}),n.jsxs("select",{className:"prop-select",value:i.fontWeight||"normal",onChange:f=>u({...i,fontWeight:f.target.value}),children:[n.jsx("option",{value:"normal",children:"Normal"}),n.jsx("option",{value:"bold",children:"Bold"})]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"prop-label",children:"Text Alignment"}),n.jsx("div",{className:"flex border border-gray-300 rounded overflow-hidden",children:["left","center","right","justify"].map(f=>n.jsx("button",{className:`flex-1 py-1 text-xs capitalize ${i.textAlign===f||!i.textAlign&&f==="left"?"bg-black text-white":"bg-white text-gray-700"}`,onClick:()=>u({...i,textAlign:f}),children:f},f))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"prop-label",children:"Top Margin (mm)"}),n.jsx("input",{type:"text",className:"prop-input",value:i.marginTop||"0.5",placeholder:"0.5",onChange:f=>u({...i,marginTop:f.target.value+"mm"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"prop-label",children:"Bottom Margin (mm)"}),n.jsx("input",{type:"text",className:"prop-input",value:i.marginBottom||"0.5",placeholder:"0.5",onChange:f=>u({...i,marginBottom:f.target.value+"mm"})})]})]})]})})}function Dn(){return new Date().toISOString().split("T")[1].slice(0,12)}function Rn(i){const u=`[AI_TRACE ${i.level.toUpperCase()}]`,f=i.timestamp,o=i.route?`${i.route} > ${i.component}`:i.component;return`${u} ${f} | ${o} | ${i.event}`}const wr={mount:(i,u,f)=>{const o={level:"mount",timestamp:Dn(),route:u,component:i,event:"MOUNTED"};console.info(Rn(o),f?`
`+JSON.stringify(f,null,2):"")},action:(i,u,f)=>{const o={level:"action",timestamp:Dn(),component:i,event:u};console.info(Rn(o),f||"")},state:(i,u,f)=>{const o={level:"state",timestamp:Dn(),component:i,event:u};console.info(Rn(o),f||"")},snapshot:(i,u,f)=>{const o={level:"info",timestamp:Dn(),component:i,event:`SNAPSHOT: ${u}`};console.info(Rn(o),`
`,f)},error:(i,u,f)=>{const o={level:"error",timestamp:Dn(),component:i,event:u};console.error(Rn(o),f)}};function ip({item:i,onUpdate:u,onAddTerm:f}){const o=()=>{f(i.id,{id:crypto.randomUUID(),term:"New Term",meaning:""})},b=j=>{const g=[...i.terms];g.splice(j,1),u({...i,terms:g})},p=j=>{u({...i,columns:j})},y=j=>{u({...i,fontSize:j})},[E,T]=N.useState("term"),m=j=>{T(j),wr.action("VocabItemEditor","TAB_SWITCH",{tab:j,termCount:i.terms.length})};return n.jsxs("div",{className:"prop-group",children:[n.jsx("h4",{children:"Vocabulary Properties"}),n.jsxs("label",{className:"checkbox-label mb-4",children:[n.jsx("input",{type:"checkbox",checked:i.showPromptNumber||!1,onChange:j=>u({...i,showPromptNumber:j.target.checked})}),"Show Question Number"]}),n.jsxs("div",{className:"flex gap-1 mb-2",children:[n.jsx("button",{type:"button",className:`px-3 py-1 text-xs font-bold border-2 border-black ${E==="term"?"bg-black text-white":"bg-white text-black"}`,onClick:()=>m("term"),children:"Term"}),n.jsx("button",{type:"button",className:`px-3 py-1 text-xs font-bold border-2 border-black ${E==="grid"?"bg-black text-white":"bg-white text-black"}`,onClick:()=>m("grid"),children:"Grid"})]}),n.jsx("div",{className:"min-h-[140px] border-2 border-gray-300 p-3 mb-4 bg-gray-50",children:E==="term"?n.jsxs(n.Fragment,{children:[n.jsx("label",{className:"prop-label",children:"Columns"}),n.jsxs("select",{className:"prop-select",value:i.columns,onChange:j=>p(parseInt(j.target.value,10)),children:[n.jsx("option",{value:1,children:"1"}),n.jsx("option",{value:2,children:"2"}),n.jsx("option",{value:3,children:"3"})]}),n.jsx("label",{className:"prop-label",children:"Global List Style"}),n.jsxs("select",{className:"prop-select mb-4",value:i.listStyle||"number",onChange:j=>u({...i,listStyle:j.target.value}),children:[n.jsx("option",{value:"number",children:"1. 2. 3. (Numbers)"}),n.jsx("option",{value:"letter",children:"a. b. c. (Letters)"}),n.jsx("option",{value:"roman",children:"I. II. III. (Roman)"}),n.jsx("option",{value:"bullet",children:" (Bullets)"}),n.jsx("option",{value:"none",children:"None (Indented)"}),n.jsx("option",{value:"vd",children:"Vd. (Example)"}),n.jsx("option",{value:"example",children:". (Example)"})]}),n.jsxs("label",{className:"prop-label",children:["Font Size: ",i.fontSize,"pt"]}),n.jsx("input",{type:"range",min:"10",max:"16",className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",value:i.fontSize,onChange:j=>y(parseInt(j.target.value,10))})]}):n.jsxs(n.Fragment,{children:[n.jsx("label",{className:"prop-label",children:"Box Size"}),n.jsxs("select",{className:"prop-select",value:i.gridBoxSize||"10mm",onChange:j=>u({...i,gridBoxSize:j.target.value}),children:[n.jsx("option",{value:"8mm",children:"Small (8mm)"}),n.jsx("option",{value:"10mm",children:"Medium (10mm)"}),n.jsx("option",{value:"12mm",children:"Large (12mm)"})]}),n.jsx("label",{className:"prop-label",children:"Layout"}),n.jsxs("select",{className:"prop-select",value:i.gridLayout||"inline",onChange:j=>u({...i,gridLayout:j.target.value}),children:[n.jsx("option",{value:"inline",children:"Inline"}),n.jsx("option",{value:"below",children:"Below"})]}),n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:i.gridShowFurigana||!1,onChange:j=>u({...i,gridShowFurigana:j.target.checked})}),"Show Furigana"]})]})}),n.jsx("button",{className:"btn-add mb-4",onClick:o,children:"+ Add Term"}),n.jsxs("h5",{className:"text-[12px] font-semibold mt-4 mb-2",children:["Manage Terms (",i.terms.length,")"]}),n.jsx("div",{className:"space-y-1.5",children:i.terms.map((j,g)=>n.jsxs("div",{className:"flex flex-col p-1.5 bg-gray-50 rounded border border-gray-200 gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1.5 ",children:[n.jsxs("span",{className:"flex-1 text-xs text-gray-700 truncate font-bold",title:j.term,children:[g+1,". ",j.term||n.jsx("span",{className:"italic text-gray-400 font-normal",children:"Empty"})]}),n.jsx("button",{className:"btn-remove",onClick:()=>b(g),title:"Remove term",children:""})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-[9px] text-gray-500 shrink-0",children:"Type:"}),n.jsxs("select",{className:"text-[9px] py-0 px-1 border rounded bg-white h-5",value:j.termType||"text",onChange:S=>{const k=[...i.terms];k[g]={...k[g],termType:S.target.value},u({...i,terms:k})},children:[n.jsx("option",{value:"text",children:"Text"}),n.jsx("option",{value:"grid",children:"Grid"})]})]}),j.termType==="grid"&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-[9px] text-gray-500 shrink-0",children:"Boxes:"}),n.jsx("input",{type:"number",min:"1",max:"10",className:"text-[9px] py-0 px-1 border rounded bg-white h-5 w-12",value:j.gridBoxCount||5,onChange:S=>{const k=[...i.terms];k[g]={...k[g],gridBoxCount:parseInt(S.target.value)||5},u({...i,terms:k})}})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("input",{type:"checkbox",className:"h-3 w-3",checked:j.showTerm!==!1,onChange:S=>{const k=[...i.terms];k[g]={...k[g],showTerm:S.target.checked},u({...i,terms:k})}}),n.jsx("span",{className:"text-[9px] text-gray-500",children:"Term"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("input",{type:"checkbox",className:"h-3 w-3",checked:j.showTrailingLine!==!1,onChange:S=>{const k=[...i.terms];k[g]={...k[g],showTrailingLine:S.target.checked},u({...i,terms:k})}}),n.jsx("span",{className:"text-[9px] text-gray-500",children:"Line"})]})]})]},j.id||g))})]})}const rp=({item:i,onUpdate:u})=>{const[f,o]=N.useState(i.options);N.useEffect(()=>{o(i.options)},[i.options]);const b=()=>{if(f.length>=6)return;const E=[...f,`Option ${f.length+1}`];o(E),u({...i,options:E})},p=E=>{if(f.length<=2)return;const T=f.filter((j,g)=>g!==E),m=i.correctIndex>=T.length?T.length-1:i.correctIndex>E?i.correctIndex-1:i.correctIndex;o(T),u({...i,options:T,correctIndex:m})},y=E=>{u({...i,correctIndex:E})};return n.jsxs("div",{className:"prop-group","data-testid":"mc-editor",children:[n.jsx("h4",{children:"Multiple Choice Properties"}),n.jsx("label",{className:"prop-label",children:"Columns"}),n.jsx("div",{className:"flex border border-gray-300 rounded overflow-hidden mb-3",children:[1,2,3,4].map(E=>n.jsx("button",{className:`flex-1 py-1 text-xs ${(i.columns||1)===E?"bg-primary-blue text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,onClick:()=>u({...i,columns:E}),children:E},E))}),n.jsxs("label",{className:"prop-label",children:["Options (",f.length,"/6)"]}),n.jsx("div",{className:"space-y-1.5","data-testid":"mc-options-list",children:f.map((E,T)=>n.jsxs("div",{className:"flex items-center gap-1.5","data-testid":`mc-option-row-${T}`,children:[n.jsx("input",{type:"radio",name:`correct-${i.id}`,checked:i.correctIndex===T,onChange:()=>y(T),className:"accent-blue-600","data-testid":`mc-correct-radio-${T}`,title:"Mark as correct answer"}),n.jsxs("span",{className:"flex-1 text-sm text-gray-700 truncate px-2 py-1 bg-gray-50 rounded border border-gray-200",children:[String.fromCharCode(65+T),". ",E]}),n.jsx("button",{className:"btn-remove",onClick:()=>p(T),disabled:f.length<=2,"data-testid":`mc-remove-btn-${T}`,children:""})]},T))}),n.jsx("button",{className:"btn-add",onClick:b,disabled:f.length>=6,"data-testid":"mc-add-option-btn",children:"+ Add Option"}),n.jsxs("label",{className:"prop-label checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:i.showPromptNumber,onChange:E=>u({...i,showPromptNumber:E.target.checked}),"data-testid":"mc-show-number-checkbox"}),"Show question number"]})]})},up=({item:i,onUpdate:u,onAddQuestion:f})=>{const o=()=>{f(i.id,{id:crypto.randomUUID(),text:"New statement",correctAnswer:!0,showReasoning:!0})},b=y=>{if(i.questions.length<=1)return;const E=i.questions.filter((T,m)=>m!==y);u({...i,questions:E})},p=(y,E,T)=>{const m=[...i.questions];m[y]={...m[y],[E]:T},u({...i,questions:m})};return n.jsxs("div",{className:"prop-group","data-testid":"tf-editor",children:[n.jsx("h4",{children:"True/False Properties"}),n.jsx("label",{className:"prop-label",children:"Language"}),n.jsxs("select",{className:"prop-input mb-3",value:i.language||"EN",onChange:y=>u({...i,language:y.target.value}),children:[n.jsx("option",{value:"EN",children:"English (True/False)"}),n.jsx("option",{value:"VN",children:"Vietnamese (ng/Sai)"}),n.jsx("option",{value:"JP",children:"Japanese (/)"})]}),n.jsx("label",{className:"prop-label",children:"Layout Mode"}),n.jsxs("select",{className:"prop-input mb-3",value:i.layout||"single",onChange:y=>u({...i,layout:y.target.value}),children:[n.jsx("option",{value:"single",children:"Single Prejudice"}),n.jsx("option",{value:"multiple",children:"Multiple Prejudice"})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs("label",{className:"checkbox-label whitespace-nowrap",children:[n.jsx("input",{type:"checkbox",checked:i.showDashedLines,onChange:y=>u({...i,showDashedLines:y.target.checked})}),"Show reasoning lines"]}),i.showDashedLines&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("input",{type:"number",min:"1",max:"10",className:"prop-input w-12 py-1 px-1 h-7",value:i.reasoningLines||2,onChange:y=>u({...i,reasoningLines:parseInt(y.target.value,10)||1})}),n.jsx("span",{className:"text-[10px] text-gray-500",children:"lines"})]})]}),n.jsxs("label",{className:"checkbox-label mb-4",children:[n.jsx("input",{type:"checkbox",checked:i.showPromptNumber,onChange:y=>u({...i,showPromptNumber:y.target.checked}),"data-testid":"tf-show-number-checkbox"}),"Show question number"]}),i.layout==="multiple"&&n.jsx("button",{className:"btn-add mb-4",onClick:o,children:"+ Add Statement"}),n.jsx("h5",{className:"text-[12px] font-semibold mt-4 mb-2",children:i.layout==="multiple"?`Statements (${i.questions.length})`:"Statement"}),n.jsx("div",{className:"space-y-3",children:i.questions.map((y,E)=>i.layout==="single"&&E>0?null:n.jsxs("div",{className:"p-2 bg-gray-50 rounded border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-[10px] font-bold text-gray-500",children:i.layout==="multiple"?`Statement ${String.fromCharCode(65+E)}`:"Main Statement"}),n.jsxs("div",{className:"flex items-center gap-2",children:[i.showDashedLines&&n.jsxs("label",{className:"flex items-center gap-0.5 cursor-pointer",title:"Toggle reasoning for this statement",children:[n.jsx("input",{type:"checkbox",checked:y.showReasoning!==!1,onChange:T=>p(E,"showReasoning",T.target.checked),className:"scale-75"}),n.jsx("span",{className:"text-[9px] text-gray-500",children:"Reason"})]}),i.layout==="multiple"&&n.jsx("button",{className:"p-1 text-red-600 hover:bg-red-50 rounded text-[10px]",onClick:()=>b(E),disabled:i.questions.length<=1,children:""})]})]}),n.jsx("input",{className:"prop-input mb-2",value:y.text,onChange:T=>p(E,"text",T.target.value),placeholder:"Enter statement..."}),n.jsxs("div",{className:"flex gap-3 text-[11px]",children:[n.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[n.jsx("input",{type:"radio",name:`correct-${y.id}`,checked:y.correctAnswer===!0,onChange:()=>p(E,"correctAnswer",!0),className:"accent-blue-600"}),"True"]}),n.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[n.jsx("input",{type:"radio",name:`correct-${y.id}`,checked:y.correctAnswer===!1,onChange:()=>p(E,"correctAnswer",!1),className:"accent-blue-600"}),"False"]})]})]},y.id||E))})]})},op=({item:i,onUpdate:u})=>{const f=()=>{if(i.pairs.length>=10)return;const b=[...i.pairs,{left:"New Term",right:"New Definition"}];u({...i,pairs:b})},o=b=>{if(i.pairs.length<=2)return;const p=i.pairs.filter((y,E)=>E!==b);u({...i,pairs:p})};return n.jsxs("div",{className:"prop-group","data-testid":"matching-editor",children:[n.jsx("h4",{children:"Matching Properties"}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("label",{className:"prop-label m-0",children:["Manage Pairs (",i.pairs.length,"/10)"]}),n.jsx("button",{className:"btn-add",onClick:f,disabled:i.pairs.length>=10,"data-testid":"matching-add-pair-btn",children:"+ Add Pair"})]}),n.jsx("div",{className:"space-y-1.5",children:i.pairs.map((b,p)=>n.jsxs("div",{className:"flex items-center gap-1.5 p-1.5 bg-gray-50 rounded border border-gray-200","data-testid":"matching-pair-row",children:[n.jsxs("span",{className:"flex-1 text-xs text-gray-700 truncate",title:`${b.left} - ${b.right}`,children:[p+1,". ",b.left||n.jsx("span",{className:"italic text-gray-400",children:"Empty"})]}),n.jsx("button",{className:"btn-remove",onClick:()=>o(p),disabled:i.pairs.length<=2,"data-testid":`matching-remove-pair-${p}`,title:"Remove pair",children:""})]},p))}),n.jsxs("label",{className:"prop-label checkbox-label",style:{marginTop:"15px"},children:[n.jsx("input",{type:"checkbox",checked:i.showPromptNumber,onChange:b=>u({...i,showPromptNumber:b.target.checked})}),"Show question number"]})]})},dp=({item:i,onUpdate:u})=>{const[f,o]=N.useState(i.template),[b,p]=N.useState(i.answers);N.useEffect(()=>{o(i.template),p(i.answers)},[i.id]);const y=m=>{o(m)},E=()=>{const m=(f.match(/\{\{blank\}\}/gi)||[]).length;let j=[...b];m>j.length?j=[...j,...Array(m-j.length).fill("")]:m<j.length&&(j=j.slice(0,m)),p(j),u({...i,template:f,answers:j})},T=(m,j)=>{const g=[...b];g[m]=j,p(g),u({...i,answers:g})};return n.jsxs("div",{className:"prop-group","data-testid":"cloze-editor",children:[n.jsx("h4",{children:"Cloze Properties"}),n.jsx("label",{className:"prop-label",children:"Blank Width (Student View)"}),n.jsx("div",{className:"flex border border-gray-300 rounded overflow-hidden mb-3",children:["2cm","4cm","6cm","8cm"].map(m=>n.jsx("button",{className:`flex-1 py-1 text-xs ${(i.blankWidth||"4cm")===m?"bg-primary-blue text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,onClick:()=>u({...i,blankWidth:m}),children:m},m))}),n.jsx("label",{className:"prop-label",children:"Template"}),n.jsxs("div",{className:"help-text",style:{fontSize:"10px",color:"#666",marginBottom:"5px"},children:["Use ",n.jsx("code",{children:"{{blank}}"})," to insert a blank space."]}),n.jsx("textarea",{className:"prop-input",value:f,onChange:m=>y(m.target.value),onBlur:E,rows:5,"data-testid":"cloze-template-input"}),n.jsxs("label",{className:"prop-label",children:["Answers (",b.length,")"]}),n.jsx("div",{className:"fib-answers-list",children:b.map((m,j)=>n.jsxs("div",{className:"answer-row",style:{marginBottom:"5px"},children:[n.jsxs("label",{style:{fontSize:"11px"},children:["Blank ",j+1,":"]}),n.jsx("input",{className:"prop-input",value:m,onChange:g=>T(j,g.target.value),placeholder:`Answer for blank ${j+1}`,"data-testid":`cloze-answer-input-${j}`})]},j))}),n.jsxs("label",{className:"prop-label checkbox-label",style:{marginTop:"10px"},children:[n.jsx("input",{type:"checkbox",checked:i.showPromptNumber,onChange:m=>u({...i,showPromptNumber:m.target.checked})}),"Show question number"]})]})},fp={HEADER:"H",TEXT:"T",GRID:"G",VOCAB:"V",MULTIPLE_CHOICE:"M",TRUE_FALSE:"B",MATCHING:"X",CLOZE:"F"},Xf={HEADER:"Header",TEXT:"Text",GRID:"Grid",VOCAB:"Vocabulary",MULTIPLE_CHOICE:"Multiple Choice",TRUE_FALSE:"True/False",MATCHING:"Matching",CLOZE:"Fill in Blank"};function mp({items:i,selectedItem:u,onSelectItem:f,onReorderItems:o,onUpdate:b}){const[p,y]=N.useState(null),[E,T]=N.useState(""),m=N.useRef(null),j=(M,A)=>{M.dataTransfer.setData("text/plain",A.toString())},g=(M,A)=>{M.preventDefault();const R=parseInt(M.dataTransfer.getData("text/plain"));if(R===A)return;const L=[...i],[X]=L.splice(R,1);L.splice(A,0,X),o(L)},S=M=>{M.preventDefault()},k=M=>{y(M.id),T(M.customLabel||Xf[M.type]||M.type)},D=()=>{if(p){const M=i.find(A=>A.id===p);M&&b({...M,customLabel:E}),y(null)}},U=M=>{M.key==="Enter"&&D(),M.key==="Escape"&&y(null)};return N.useEffect(()=>{p&&m.current&&m.current.focus()},[p]),n.jsxs("div",{className:"p-2.5 border-b border-gray-200",children:[n.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Layers"}),n.jsx("ul",{className:"list-none p-0 m-0",children:i.map((M,A)=>n.jsxs("li",{className:`p-2 mb-1.5 bg-white border border-gray-300 rounded-md cursor-pointer flex items-center justify-between hover:bg-blue-50 transition-colors ${u?.id===M.id?"border-primary-blue bg-selected-bg ring-1 ring-primary-blue":""}`,onClick:()=>f(M),draggable:!0,onDragStart:R=>j(R,A),onDrop:R=>g(R,A),onDragOver:S,onDoubleClick:()=>k(M),"data-testid":"layer-item","data-type":M.type,children:[n.jsx("span",{className:"w-5 h-5 bg-gray-200 rounded flex items-center justify-center font-bold text-[10px] mr-2 shrink-0 select-none",children:fp[M.type]||"?"}),p===M.id?n.jsx("input",{ref:m,className:"flex-1 text-xs border border-blue-400 rounded px-1 py-0.5 outline-none",value:E,onChange:R=>T(R.target.value),onBlur:D,onKeyDown:U,onClick:R=>R.stopPropagation()}):n.jsxs("div",{className:"flex-1 flex justify-between items-center min-w-0",children:[n.jsx("span",{className:"text-xs truncate select-none",title:"Double-click to rename",children:M.customLabel||`${Xf[M.type]||M.type} ${A+1}`}),n.jsx("button",{className:"opacity-0 hover:opacity-100 p-1 text-gray-400 hover:text-blue-600 transition-opacity",onClick:R=>{R.stopPropagation(),k(M)},children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),n.jsx("path",{d:"m15 5 4 4"})]})})]})]},M.id))})]})}function hp({items:i,selectedItem:u,onSelectItem:f,onUpdate:o,onDelete:b,onReorderItems:p,metadata:y,onUpdateMetadata:E,onAddVocabTerm:T,onAddTFQuestion:m,isOpen:j,onToggle:g,currentPageIndex:S,totalPages:k,onPrevPage:D,onNextPage:U,onAddPage:M,onDeletePage:A}){const[R,L]=N.useState("layers");N.useEffect(()=>{L(u?"properties":"layers")},[u]);const X=()=>u?n.jsxs("div",{className:"space-y-4",children:[(()=>{switch(u.type){case"HEADER":return n.jsx(sp,{item:u,onUpdate:o});case"GRID":return n.jsx(np,{item:u,onUpdate:o});case"CARD":return n.jsx(cp,{item:u,onUpdate:o});case"VOCAB":return n.jsx(ip,{item:u,onUpdate:o,onAddTerm:T});case"MULTIPLE_CHOICE":return n.jsx(rp,{item:u,onUpdate:o});case"TRUE_FALSE":return n.jsx(up,{item:u,onUpdate:o,onAddQuestion:m});case"MATCHING":return n.jsx(op,{item:u,onUpdate:o});case"CLOZE":return n.jsx(dp,{item:u,onUpdate:o});default:return n.jsx("p",{children:"No editor for this item type."})}})(),n.jsx("div",{className:"pt-4 border-t border-gray-200",children:n.jsx("button",{onClick:()=>b(u),className:"w-full py-2 px-4 bg-red-600 hover:bg-red-700 text-white rounded transition-colors text-sm font-medium",children:"Delete Item"})})]}):n.jsx("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-5 text-center",children:n.jsx("p",{children:"Select an item from the worksheet or layers to edit its properties."})});return n.jsxs("div",{className:`shrink-0 bg-sidebar-bg border-l border-gray-200 flex flex-col h-full relative transition-all duration-300 print:hidden ${j?"w-[300px]":"w-[40px] items-center"}`,children:[n.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 h-[45px] w-full",children:[j&&n.jsx("h2",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Properties"}),n.jsx("button",{onClick:g,className:"p-1 hover:bg-gray-200 rounded text-gray-500",title:j?"Collapse Sidebar":"Expand Sidebar",children:j?n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"m9 18 6-6-6-6"})}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),j&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex border-b border-gray-200 w-full",children:[n.jsx("button",{className:`flex-1 py-3 text-sm font-medium transition-colors ${R==="layers"?"text-primary-blue border-b-2 border-primary-blue bg-blue-50/30":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,onClick:()=>L("layers"),children:"Outline"}),n.jsx("button",{className:`flex-1 py-3 text-sm font-medium transition-colors ${R==="properties"?"text-primary-blue border-b-2 border-primary-blue bg-blue-50/30":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,onClick:()=>L("properties"),children:"Properties"})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto w-full",children:[R==="layers"&&n.jsxs("div",{className:"flex flex-col h-full animate-in fade-in slide-in-from-left-1",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50",children:[n.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 block",children:"Worksheet Title"}),n.jsx("input",{className:"w-full border border-gray-200 rounded px-2 py-1.5 text-sm focus:ring-2 focus:ring-blue-100 outline-none transition-all",value:y.title,onChange:Z=>E({...y,title:Z.target.value}),placeholder:"Untitled Worksheet"})]}),n.jsxs("div",{className:"p-3 border-b border-gray-100 bg-white",children:[n.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 block",children:"Pages"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:D,disabled:S===0,className:"p-1.5 rounded border border-gray-200 text-gray-600 disabled:text-gray-300 disabled:cursor-not-allowed",title:"Previous Page",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"m15 18-6-6 6-6"})})}),n.jsxs("span",{className:"text-sm font-medium text-gray-700 px-3 min-w-[60px] text-center",children:[S+1," / ",k]}),n.jsx("button",{onClick:U,disabled:S>=k-1,className:"p-1.5 rounded border border-gray-200 text-gray-600 disabled:text-gray-300 disabled:cursor-not-allowed",title:"Next Page",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"m9 18 6-6-6-6"})})})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:M,className:"p-1.5 rounded border border-gray-200 text-green-600",title:"Add Page",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M5 12h14"}),n.jsx("path",{d:"M12 5v14"})]})}),k>1&&n.jsx("button",{onClick:()=>confirm(`Delete Page ${S+1}?`)&&A(),className:"p-1.5 rounded border border-gray-200 text-red-500",title:"Delete Page",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 6h18"}),n.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"})]})})]})]})]}),n.jsx(mp,{items:i,selectedItem:u,onSelectItem:f,onReorderItems:p,onUpdate:o})]}),R==="properties"&&n.jsx("div",{className:"p-4 animate-in fade-in slide-in-from-right-1",children:X()})]})]}),!j&&n.jsx("div",{className:"flex flex-col items-center py-4 gap-4",children:n.jsx("div",{className:`w-2 h-2 rounded-full ${u?"bg-blue-500":"bg-gray-300"}`,title:u?"Item Selected":"No Selection"})})]})}const bp=({onSave:i,onLoad:u,onSnapshot:f,onSaveToCloud:o,isSaving:b=!1})=>n.jsxs("div",{className:"flex gap-2.5","data-testid":"save-load-toolbar",children:[n.jsx("button",{className:"toolbar-btn",onClick:f,"data-testid":"snapshot-btn",title:"Create a history snapshot",children:"Snapshot"}),o&&n.jsx("button",{className:"toolbar-btn",onClick:o,"data-testid":"save-cloud-btn",title:"Save to database",disabled:b,children:b?"Saving...":" Save"}),n.jsx("button",{className:"toolbar-btn",onClick:i,"data-testid":"save-btn",title:"Download JSON",children:" File"}),n.jsx("button",{className:"toolbar-btn",onClick:u,"data-testid":"load-btn",title:"Load JSON",children:" Load"})]}),pp=({mode:i,onToggle:u})=>{const f=o=>`flex items-center justify-center px-3 h-8 border border-gray-300 cursor-pointer text-xs font-semibold transition-all duration-200 ${i===o?"bg-gray-800 text-white border-gray-800":"bg-white text-gray-700 hover:bg-gray-50"}`;return n.jsxs("div",{className:"flex rounded overflow-hidden shadow-sm","data-testid":"mode-toggle",children:[n.jsx("button",{className:`${f("teacher")} rounded-l border-r-0`,onClick:()=>i!=="teacher"&&u(),"data-testid":"mode-btn-teacher",children:"Teacher"}),n.jsx("button",{className:`${f("student")} rounded-r`,onClick:()=>i!=="student"&&u(),"data-testid":"mode-btn-student",children:"Student"})]})};function xp(i){return i.pages&&Array.isArray(i.pages)?i:i.items&&Array.isArray(i.items)?{metadata:i.metadata,pages:[{id:crypto.randomUUID(),items:i.items}]}:{metadata:i.metadata||{title:"Untitled",subject:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:"2.0"},pages:[{id:crypto.randomUUID(),items:[]}]}}const gp=i=>{const u=JSON.stringify(i,null,2),f=new Blob([u],{type:"application/json"}),o=URL.createObjectURL(f),b=i.metadata.title?`${i.metadata.title.replace(/[^a-z0-9]/gi,"_")}.json`:`worksheet-${Date.now()}.json`,p=document.createElement("a");p.href=o,p.download=b,p.click(),URL.revokeObjectURL(o)},vp=()=>new Promise((i,u)=>{const f=document.createElement("input");f.type="file",f.accept="application/json,.json",f.onchange=async o=>{const b=o.target.files?.[0];if(!b){u(new Error("No file selected"));return}try{const p=await b.text(),y=JSON.parse(p),E=xp(y);if(!E.metadata||!E.pages)throw new Error("Invalid worksheet format");i(E)}catch(p){u(p)}},f.click()}),Er="worksheet_autosave_v2",Ps="worksheet_history_v2",Kf=10,yp=1500*1e3;function jp(i,u,f){const[o,b]=N.useState(()=>{try{const k=localStorage.getItem(Ps);return k?JSON.parse(k):[]}catch{return[]}}),p=N.useRef(""),y=N.useRef(!1),E=k=>{try{localStorage.setItem(Ps,JSON.stringify(k)),b(k)}catch(D){console.error("Failed to update history storage:",D)}},T=N.useCallback(async(k="auto",D)=>{if(i.reduce((R,L)=>R+L.items.length,0)===0&&!u.subject)return;const M={metadata:u,pages:i},A=JSON.stringify(M);if(!(k==="auto"&&A===p.current)){if(localStorage.setItem(Er,A),p.current=A,f&&k==="auto")try{const{worksheetApi:R}=await Cr(async()=>{const{worksheetApi:Z}=await Promise.resolve().then(()=>zr);return{worksheetApi:Z}},void 0),L=i.flatMap(Z=>Z.items),X=JSON.stringify({gridCount:L.filter(Z=>Z.type==="GRID").length,vocabCount:L.filter(Z=>Z.type==="VOCAB").length,textCount:L.filter(Z=>Z.type==="CARD").length,mcCount:L.filter(Z=>Z.type==="MULTIPLE_CHOICE").length,tfCount:L.filter(Z=>Z.type==="TRUE_FALSE").length,matchingCount:L.filter(Z=>Z.type==="MATCHING").length,clozeCount:L.filter(Z=>Z.type==="CLOZE").length});await R.autosave(f,{name:u.title||"Untitled Worksheet",jsonContent:A,metadata:X})}catch(R){console.error("Server autosave failed:",R)}try{const R=localStorage.getItem(Ps);let L=R?JSON.parse(R):[];L=[{id:crypto.randomUUID(),timestamp:new Date().toISOString(),template:M,type:k,label:D||(k==="manual"?"Snapshot":void 0)},...L];const Z=L.filter(Te=>Te.type==="manual"||!Te.type);let le=L.filter(Te=>Te.type==="auto");le.length>Kf&&(le=le.slice(0,Kf));const ne=[...Z,...le].sort((Te,De)=>new Date(De.timestamp).getTime()-new Date(Te.timestamp).getTime());E(ne)}catch(R){console.error("Failed to update history:",R)}}},[i,u,f]);return N.useEffect(()=>{const k=setInterval(()=>{document.hidden?y.current||(T("auto"),y.current=!0):(T("auto"),y.current=!1)},yp);return()=>clearInterval(k)},[T]),{getAutosave:()=>{try{const k=localStorage.getItem(Er);return k?JSON.parse(k):null}catch{return null}},history:o,renameHistoryEntry:(k,D)=>{const U=o.map(M=>M.id===k||!M.id&&M.timestamp===k?{...M,label:D,type:"manual"}:M);E(U)},triggerManualSave:()=>{T("manual","Manual Save")},clearAutosave:()=>{localStorage.removeItem(Er),localStorage.removeItem(Ps),b([])}}}function Np(i){const u=new Date(i),o=Math.floor((new Date().getTime()-u.getTime())/1e3);if(o<5)return"just now";if(o<60)return`${o}s ago`;const b=Math.floor(o/60);if(b<60)return`${b}m ago`;const p=Math.floor(b/60);if(p<24)return`${p}h ago`;const y=Math.floor(p/24);return y<7?`${y}d ago`:u.toLocaleDateString()}function Jf(i){return new Date(i).toLocaleString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function Sp({history:i,onPreview:u,onRename:f,isOpen:o,onToggle:b}){const[p,y]=N.useState(null),[E,T]=N.useState(""),m=(S,k)=>{k.stopPropagation(),y(S.id||S.timestamp),T(S.label||`Snapshot ${i.length-i.indexOf(S)}`)},j=()=>{p&&(f(p,E),y(null))},g=S=>{S.key==="Enter"&&j(),S.key==="Escape"&&y(null)};return n.jsxs("div",{className:`bg-gray-50 border-r border-gray-200 flex flex-col transition-all duration-300 ${o?"w-[250px]":"w-[40px] items-center"} print:hidden`,children:[n.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 h-[45px]",children:[o&&n.jsx("h2",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Timeline"}),n.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-200 rounded text-gray-500",title:o?"Collapse Timeline":"Expand Timeline",children:o?n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M18 6 6 12l12 6"})}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"m6 9 6 6 6-6"})})})]}),o?n.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:i.length===0?n.jsx("div",{className:"text-center py-8 text-gray-400",children:n.jsx("p",{className:"text-xs italic",children:"No history yet"})}):i.map((S,k)=>n.jsxs("div",{className:"group relative p-2 rounded hover:bg-white hover:shadow-sm border border-transparent hover:border-gray-200 transition-all cursor-pointer",onClick:()=>u(S.template),children:[k<i.length-1&&n.jsx("div",{className:"absolute left-[11px] top-[24px] bottom-[-10px] w-px bg-gray-200 group-hover:bg-blue-200 z-0"}),n.jsxs("div",{className:"flex items-start gap-3 relative z-10",children:[n.jsx("div",{className:`w-2.5 h-2.5 rounded-full mt-1 shrink-0 ${S.type==="manual"?"bg-blue-500 ring-2 ring-blue-100":k===0?"bg-green-500 ring-2 ring-green-100":"bg-gray-300 group-hover:bg-blue-300"}`}),n.jsx("div",{className:"flex-1 min-w-0",children:p===(S.id||S.timestamp)?n.jsx("div",{className:"flex items-center gap-1",onClick:D=>D.stopPropagation(),children:n.jsx("input",{autoFocus:!0,className:"w-full text-xs border rounded px-1 py-0.5 outline-none focus:border-blue-500",value:E,onChange:D=>T(D.target.value),onKeyDown:g,onBlur:j})}):n.jsxs("div",{className:"flex justify-between items-start group/item",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:`text-xs font-medium truncate pr-4 ${S.type==="manual"?"text-blue-700":"text-gray-700"}`,title:S.label||(S.type==="manual"?"Snapshot":"Auto-Save"),children:S.label||(S.type==="manual"?"Snapshot":"Auto-Save")}),n.jsx("span",{className:"text-[10px] text-gray-400",title:Jf(S.timestamp),children:Np(S.timestamp)})]}),n.jsx("button",{className:"opacity-0 group-hover/item:opacity-100 p-1 hover:bg-gray-100 rounded text-gray-400 hover:text-blue-600 transition-opacity absolute right-0 top-0",onClick:D=>m(S,D),title:"Rename",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),n.jsx("path",{d:"m15 5 4 4"})]})})]})})]})]},S.id||S.timestamp))}):n.jsxs("div",{className:"flex flex-col items-center py-4 gap-4",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500",title:"Timeline Active"}),i.slice(0,5).map((S,k)=>n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300",title:Jf(S.timestamp)},k))]})]})}function rl({onBack:i,actions:u}){return n.jsxs("div",{className:"border-b border-gray-200 bg-white shadow-sm z-30 flex items-center justify-between px-4 py-2 print:hidden h-[60px]",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[i&&n.jsxs("button",{className:"flex items-center gap-2 cursor-pointer border-none bg-transparent p-0",onClick:i,"aria-label":"Go to Home",children:[n.jsx("div",{className:"bg-primary-blue p-1.5 rounded-lg",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"m15 18-6-6 6-6"})})}),n.jsx("span",{className:"font-bold text-lg text-gray-800 tracking-tight",children:"JSON Printer"})]}),!i&&n.jsx("span",{className:"font-bold text-lg text-gray-800 tracking-tight",children:"JSON Printer"})]}),u&&n.jsx("div",{className:"flex gap-4 items-center",children:u})]})}const $f=i=>{switch(i){case"CARD":return Wb();case"GRID":return Fb();case"VOCAB":return Ib();case"MULTIPLE_CHOICE":return Pb();case"TRUE_FALSE":return ep();case"MATCHING":return tp();case"CLOZE":return lp();default:throw new Error(`Unknown item type: ${i}`)}};function Wf({item:i,mode:u,isSelected:f,isPreviewMode:o,onUpdate:b}){const p=o?()=>{}:b;switch(i.type){case"HEADER":return n.jsx(Lb,{item:i,onUpdate:p},i.id);case"CARD":return n.jsx(Yb,{item:i,onUpdate:p},i.id);case"GRID":return n.jsx(Qb,{item:i,isSelected:f,onUpdate:p},i.id);case"VOCAB":return n.jsx(Vb,{item:i,onUpdate:p},i.id);case"MULTIPLE_CHOICE":return n.jsx(Zb,{item:i,mode:u,onUpdate:p},i.id);case"TRUE_FALSE":return n.jsx(Kb,{item:i,mode:u,onUpdate:p},i.id);case"MATCHING":return n.jsx(Jb,{item:i,mode:u,onUpdate:p},i.id);case"CLOZE":return n.jsx($b,{item:i,mode:u},i.id);default:return n.jsxs("div",{children:["Unknown item type: ",i.type]})}}function Tp({onNavigate:i,worksheetId:u}){const{items:f,pages:o,currentPageIndex:b,totalPages:p,selectedItem:y,mode:E,metadata:T,nextPage:m,prevPage:j,addPage:g,deletePage:S,handleSelectItem:k,updateItem:D,addItem:U,deleteItem:M,setItems:A,toggleMode:R,updateMetadata:L,addVocabTerm:X,addTFQuestion:Z,setAllPages:le}=ap([]),[ne,Te]=N.useState(u?Number(u):null),{history:De,renameHistoryEntry:$,triggerManualSave:V}=jp(o,T,ne),[P,re]=N.useState(!0),[J,ae]=N.useState(!0),[w,q]=N.useState(null),[W,ie]=N.useState(!1);N.useEffect(()=>{async function ee(){if(u)try{const{worksheetApi:$e}=await Cr(async()=>{const{worksheetApi:Et}=await Promise.resolve().then(()=>zr);return{worksheetApi:Et}},void 0),Ge=await $e.get(Number(u)),ht=JSON.parse(Ge.jsonContent);le(ht.pages),L(ht.metadata)}catch($e){console.error("Failed to load worksheet:",$e)}}ee()},[u,le,L]),N.useEffect(()=>{wr.mount("WorksheetPage","#worksheet",{mode:E,itemCount:f.length,selectedItemId:y?.id||null})},[]),N.useEffect(()=>{wr.state("WorksheetPage","MODE_CHANGED",{mode:E,itemCount:f.length})},[E]);const me=!!w,v=w?w.pages?.[0]?.items||[]:f,Y=w?w.metadata:T,[K,F]=N.useState(null);N.useEffect(()=>{const ee=()=>F(null);return globalThis.addEventListener("click",ee),()=>globalThis.removeEventListener("click",ee)},[]);const oe=()=>{gp({metadata:T,pages:o})},be=async()=>{const ee=await vp();ee&&(le(ee.pages),L(ee.metadata))},je=async()=>{ie(!0);try{const{worksheetApi:ee}=await Cr(async()=>{const{worksheetApi:Le}=await Promise.resolve().then(()=>zr);return{worksheetApi:Le}},void 0),Ge=JSON.stringify({metadata:T,pages:o}),ht=o.flatMap(Le=>Le.items),Et=JSON.stringify({gridCount:ht.filter(Le=>Le.type==="GRID").length,vocabCount:ht.filter(Le=>Le.type==="VOCAB").length,textCount:ht.filter(Le=>Le.type==="CARD").length,mcCount:ht.filter(Le=>Le.type==="MULTIPLE_CHOICE").length,tfCount:ht.filter(Le=>Le.type==="TRUE_FALSE").length,matchingCount:ht.filter(Le=>Le.type==="MATCHING").length,clozeCount:ht.filter(Le=>Le.type==="CLOZE").length});if(ne)await ee.update(ne,{name:T.title||"Untitled Worksheet",jsonContent:Ge,metadata:Et});else{const Le=await ee.create({name:T.title||"Untitled Worksheet",jsonContent:Ge,type:"SNAPSHOT",metadata:Et});Te(Le.id)}alert("Worksheet saved successfully!")}catch(ee){console.error("Failed to save worksheet:",ee),alert("Failed to save worksheet. Please try again.")}finally{ie(!1)}},Je=(ee,$e,Ge)=>{ee.preventDefault(),F({x:ee.clientX,y:ee.clientY,type:$e,targetItem:Ge})},He=(ee,$e)=>{const Ge=$f(ee);U(Ge,$e),F(null)};return n.jsxs("div",{className:`grid grid-rows-[auto_1fr] h-screen w-full bg-app-gray overflow-hidden print:bg-white print:h-auto print:overflow-visible print:block ${J?"grid-cols-[auto_1fr_300px]":"grid-cols-[auto_1fr_40px]"}`,children:[n.jsx("div",{className:"col-span-3 print:hidden",children:n.jsx(rl,{onBack:()=>i?.(ue.HOME),actions:n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-6 w-px bg-gray-200"}),n.jsx("div",{className:"flex gap-1 bg-gray-100 p-1 rounded-lg",children:[{label:"Card",type:"CARD"},{label:"Grid",type:"GRID"},{label:"Vocab",type:"VOCAB"},{label:"MC",type:"MULTIPLE_CHOICE"},{label:"T/F",type:"TRUE_FALSE"},{label:"Match",type:"MATCHING"},{label:"Cloze",type:"CLOZE"}].map(ee=>n.jsxs("button",{className:"px-3 py-1.5 text-xs font-semibold rounded-md text-gray-600",onClick:()=>U($f(ee.type),f.length),children:["+ ",ee.label]},ee.type))}),n.jsx(bp,{onSave:oe,onLoad:be,onSnapshot:V,onSaveToCloud:je,isSaving:W}),n.jsx("div",{className:"h-6 w-px bg-gray-200"}),n.jsx(pp,{mode:E,onToggle:R})]})})}),n.jsx("div",{className:"row-span-1 border-r border-gray-200 bg-gray-50 print:hidden h-full overflow-hidden flex flex-col",children:n.jsx(Sp,{history:De,onPreview:q,onRename:$,isOpen:P,onToggle:()=>re(!P)})}),n.jsxs("main",{className:"overflow-auto p-10 bg-app-gray flex flex-col items-center print:hidden scroll-smooth outline-none",onClick:()=>!me&&k(null),onKeyDown:ee=>{ee.key==="Escape"&&!me&&k(null)},onContextMenu:ee=>{!me&&ee.target===ee.currentTarget&&Je(ee,"ADD")},tabIndex:-1,children:[me&&n.jsxs("div",{className:"mb-6 w-[210mm] bg-amber-50 border border-amber-200 p-4 rounded-xl shadow-sm flex items-center justify-between animate-in slide-in-from-top duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center text-amber-600",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-amber-900 font-bold leading-tight",children:"Previewing History Version"}),n.jsx("p",{className:"text-amber-700 text-sm",children:"You are viewing a previous save. Editing is disabled."})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>q(null),className:"px-4 py-2 bg-white border border-amber-200 text-amber-900 rounded-lg hover:bg-amber-100 transition-colors font-medium shadow-sm",children:"Cancel"}),n.jsx("button",{onClick:()=>{le(w.pages),L(w.metadata),q(null)},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors font-bold shadow-md shadow-amber-200",children:"Restore this version"})]})]}),n.jsx("section",{className:`relative mb-10 bg-white shadow-[0_20px_50px_rgba(0,0,0,0.15)] p-[1.27cm] box-border w-[210mm] min-h-[297mm] flex flex-col origin-top transition-all duration-300 print:hidden outline-none ${me?"ring-4 ring-amber-400 pointer-events-none opacity-80 scale-[0.98]":""}`,onClick:ee=>ee.stopPropagation(),onKeyDown:ee=>{(ee.key==="Enter"||ee.key===" ")&&ee.stopPropagation()},"aria-label":"Worksheet Editor Content",children:v.length===0?n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300 border-2 border-dashed border-gray-100 rounded-2xl m-8",children:[n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"mb-4 opacity-20",children:[n.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),n.jsx("polyline",{points:"14.5 2 14.5 7.5 20 7.5"}),n.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),n.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]}),n.jsx("p",{className:"text-xl font-medium",children:"Worksheet is empty"}),n.jsx("p",{className:"text-sm",children:"Right click or use the toolbar to add content"})]}):v.map(ee=>{const $e=n.jsx(Wf,{item:ee,mode:E,isSelected:y?.id===ee.id,isPreviewMode:me,onUpdate:D});return n.jsxs("div",{onClick:Ge=>{Ge.stopPropagation(),me||k(ee)},onKeyDown:Ge=>{(Ge.key==="Enter"||Ge.key===" ")&&(Ge.stopPropagation(),me||k(ee))},onContextMenu:Ge=>{me||(k(ee),Je(Ge,"DELETE",ee))},role:"button",tabIndex:me?-1:0,"aria-pressed":y?.id===ee.id,className:`group/item relative rounded-lg mb-[2mm] p-0 min-h-[3mm] box-border print:border-none print:mb-[1.5mm] outline-none text-left w-full block bg-transparent border-none ${y?.id===ee.id?"ring-2 ring-primary-blue shadow-lg shadow-blue-50 ring-offset-2 z-10 print:ring-0":""}`,children:[$e,!me&&y?.id===ee.id&&n.jsx("div",{className:"absolute -right-12 top-0 flex flex-col gap-1 opacity-0 group-hover/item:opacity-100 transition-opacity print:hidden",children:n.jsx("button",{onClick:()=>M(ee),className:"p-2 bg-white text-red-500 rounded-full shadow-md hover:bg-red-50 transition-colors",title:"Delete",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 6h18"}),n.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),n.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})})]},ee.id)})})]}),n.jsx("div",{className:"hidden print:block print:absolute print:inset-0 print:p-0 print:m-0 print:z-50",children:o.map(ee=>n.jsx("div",{className:"print-page",children:ee.items.map($e=>n.jsx("div",{className:"mb-[1.5mm]",children:n.jsx(Wf,{item:$e,mode:E,isSelected:!1,isPreviewMode:!0,onUpdate:()=>{}})},$e.id))},ee.id))}),n.jsx("div",{className:"row-span-1 border-l border-gray-200 bg-white print:hidden h-full overflow-hidden flex flex-col",children:n.jsx(hp,{items:v,selectedItem:y,onSelectItem:k,onUpdate:D,onDelete:M,onReorderItems:A,metadata:Y,onUpdateMetadata:L,onAddVocabTerm:X,onAddTFQuestion:Z,isOpen:J,onToggle:()=>ae(!J),currentPageIndex:b,totalPages:p,onPrevPage:j,onNextPage:m,onAddPage:g,onDeletePage:S})}),K&&n.jsxs("div",{className:"fixed z-[100] bg-white border border-gray-200 shadow-xl rounded-xl py-1.5 min-w-[180px] animate-in fade-in zoom-in-95 duration-150",style:{left:K.x,top:K.y},children:[K.type==="ADD"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-4 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Add Element"}),[{label:"Card Block",type:"CARD",icon:n.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M4 7V4h16v3M9 20h6M12 4v16"})})},{label:"Writing Grid",type:"GRID",icon:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),n.jsx("path",{d:"M3 9h18M3 15h18M9 3v18M15 3v18"})]})},{label:"Vocabulary",type:"VOCAB",icon:n.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"})})},{label:"Multiple Choice",type:"MULTIPLE_CHOICE",icon:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("path",{d:"m9 12 2 2 4-4"})]})},{label:"True / False",type:"TRUE_FALSE",icon:n.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M20 6 9 17l-5-5"})})},{label:"Matching",type:"MATCHING",icon:n.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M16 3h5v5M4 20 21 3M21 16v5h-5M15 15l6 6M4 4l5 5"})})},{label:"Cloze / Blank",type:"CLOZE",icon:n.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M4 20h16M4 16h16M4 12h16M8 8h8"})})}].map(ee=>n.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-blue-50 hover:text-primary-blue flex items-center gap-3 active:bg-blue-100 transition-colors",onClick:()=>He(ee.type,f.length),children:[n.jsx("span",{className:"text-gray-400",children:ee.icon}),ee.label]},ee.type))]}),K.type==="DELETE"&&K.targetItem&&n.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 flex items-center gap-3 active:bg-red-100 transition-colors",onClick:()=>M(K.targetItem),children:[n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 6h18"}),n.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),n.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),"Delete Element"]})]})]})}const Ep="";async function ec(i,u={}){const{method:f="GET",body:o,headers:b={}}=u,p={...b};let y;o instanceof FormData?y=o:typeof o=="object"?(p["Content-Type"]="application/json",y=JSON.stringify(o)):typeof o=="string"&&(p["Content-Type"]="application/json",y=o);const E=await fetch(`${Ep}${i}`,{method:f,headers:p,body:y});if(!E.ok){let m=`HTTP ${E.status}: ${E.statusText}`;try{const g=await E.json();g.error?m=g.error:g.message&&(m=g.message)}catch{}throw{message:m,status:E.status}}const T=await E.text();return T?JSON.parse(T):{}}const st={get:i=>ec(i,{method:"GET"}),post:(i,u)=>ec(i,{method:"POST",body:u}),put:(i,u)=>ec(i,{method:"PUT",body:u}),delete:i=>ec(i,{method:"DELETE"})},Ar={list:i=>st.get(`/api/worksheets${i?`?type=${i}`:""}`),get:i=>st.get(`/api/worksheets/${i}`),create:i=>st.post("/api/worksheets",i),autosave:(i,u)=>st.post(`/api/worksheets/${i}/autosave`,u),snapshot:(i,u)=>st.post(`/api/worksheets/${i}/snapshot`,u),update:(i,u)=>st.put(`/api/worksheets/${i}`,u),duplicate:i=>st.post(`/api/worksheets/${i}/duplicate`,{}),delete:i=>st.delete(`/api/worksheets/${i}`),templates:()=>st.get("/api/worksheets/templates")},zr=Object.freeze(Object.defineProperty({__proto__:null,worksheetApi:Ar},Symbol.toStringTag,{value:"Module"}));function Cp({onNavigate:i}){const[u,f]=N.useState([]),[o,b]=N.useState([]),[p,y]=N.useState(!0),[E,T]=N.useState(null),[m,j]=N.useState(0),g=12;N.useEffect(()=>{S()},[]);const S=async()=>{y(!0),T(null);try{const[Z,le]=await Promise.all([Ar.templates(),Ar.list("SNAPSHOT")]);f(Z),b(le)}catch(Z){T(Z instanceof Error?Z.message:"Failed to load worksheets")}finally{y(!1)}},k=()=>{i(ue.WORKSHEET_EDIT)},D=Z=>{i(ue.WORKSHEET_EDIT,{id:String(Z)})},U=Z=>{if(!Z)return null;try{return JSON.parse(Z)}catch{return null}},M=Z=>{const le=new Date(Z);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:le.getFullYear()!==new Date().getFullYear()?"numeric":void 0}).format(le)},A=Math.ceil(o.length/g),R=o.slice(m*g,(m+1)*g),L=m>0,X=m<A-1;return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx(rl,{onBack:()=>i(ue.HOME),actions:n.jsx("button",{className:"h-10 px-4 font-bold border-2 border-black",onClick:S,disabled:p,children:" Refresh"})}),n.jsxs("div",{className:"max-w-[1400px] mx-auto p-10",children:[n.jsxs("div",{className:"text-center mb-12 py-10 border-b-2 border-black",children:[n.jsx("h1",{className:"text-4xl font-bold text-black mb-4",children:"My Worksheets"}),n.jsx("p",{className:"text-xl text-gray-800 italic",children:"Create, manage, and organize your worksheets"})]}),E&&n.jsxs("div",{className:"mb-8 p-4 border-2 border-red-600 bg-red-50 text-red-600 font-bold",children:[n.jsx("span",{className:"text-2xl mr-3",children:""}),E]}),n.jsxs("section",{className:"mb-12",children:[n.jsxs("h2",{className:"text-2xl font-black text-black mb-6 flex items-center gap-3",children:[n.jsx("span",{children:""})," Quick Start"]}),n.jsxs("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(280px,1fr))] gap-6",children:[n.jsxs("button",{onClick:k,className:"p-8 border-2 border-dashed border-gray-300 hover:border-black hover:bg-gray-50 transition-colors text-left group",children:[n.jsx("div",{className:"text-6xl mb-4 text-gray-300 group-hover:text-black transition-colors",children:"+"}),n.jsx("h3",{className:"text-xl font-bold text-black mb-2",children:"Blank Worksheet"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Start from scratch"})]}),u.map(Z=>n.jsxs("button",{onClick:()=>D(Z.id),className:"p-8 border-2 border-black bg-gray-50 hover:bg-gray-100 transition-colors text-left",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-xl font-bold text-black mb-2",children:Z.name}),n.jsx("p",{className:"text-sm text-gray-600",children:"Template"})]},Z.id))]})]}),n.jsxs("section",{children:[n.jsxs("h2",{className:"text-2xl font-black text-black mb-6 flex items-center gap-3",children:[n.jsx("span",{children:""})," Recent Files"]}),p&&n.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(280px,1fr))] gap-6",children:[1,2,3,4,5,6].map(Z=>n.jsxs("div",{className:"border-2 border-gray-200 p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 w-32 bg-gray-200 mb-4"}),n.jsx("div",{className:"h-4 w-24 bg-gray-200 mb-2"}),n.jsx("div",{className:"h-4 w-20 bg-gray-200"})]},Z))}),!p&&o.length===0&&n.jsxs("div",{className:"text-center py-32 border-2 border-dashed border-gray-200",children:[n.jsx("span",{className:"text-6xl block mb-6 text-gray-300",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-black mb-2",children:"No worksheets yet"}),n.jsx("p",{className:"text-gray-600",children:"Create your first worksheet to get started"})]}),!p&&o.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(280px,1fr))] gap-6",children:R.map(Z=>{const le=U(Z.metadata);return n.jsxs("button",{onClick:()=>D(Z.id),className:"border-2 border-black p-6 hover:bg-gray-50 transition-colors text-left",children:[n.jsx("h3",{className:"text-lg font-bold text-black mb-3 line-clamp-2",children:Z.name}),le&&n.jsxs("div",{className:"mb-3 text-sm text-gray-600 flex flex-wrap gap-x-4 gap-y-1",children:[le.gridCount>0&&n.jsxs("span",{children:[" ",le.gridCount," Grid"]}),le.vocabCount>0&&n.jsxs("span",{children:[" ",le.vocabCount," Vocab"]}),le.textCount>0&&n.jsxs("span",{children:[" ",le.textCount," Text"]}),le.mcCount>0&&n.jsxs("span",{children:[" ",le.mcCount," MC"]}),le.tfCount>0&&n.jsxs("span",{children:[" ",le.tfCount," T/F"]}),le.matchingCount>0&&n.jsxs("span",{children:[" ",le.matchingCount," Match"]}),le.clozeCount>0&&n.jsxs("span",{children:[" ",le.clozeCount," Cloze"]})]}),n.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:M(Z.updatedAt)})]},Z.id)})}),A>1&&n.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[n.jsx("button",{onClick:()=>j(Z=>Z-1),disabled:!L,className:"px-4 py-2 border-2 border-black font-bold disabled:opacity-30 disabled:cursor-not-allowed",children:" Prev"}),n.jsxs("span",{className:"text-sm font-bold",children:["Page ",m+1," of ",A]}),n.jsx("button",{onClick:()=>j(Z=>Z+1),disabled:!X,className:"px-4 py-2 border-2 border-black font-bold disabled:opacity-30 disabled:cursor-not-allowed",children:"Next "})]})]})]})]})]})}async function wp(i=!1){return(await st.get(`/api/courses${i?"?refresh=true":""}`)).courses}async function Ap(i,u=!1){return(await st.get(`/api/courses/${i}/quizzes${u?"?refresh=true":""}`)).quizzes}async function zp(i,u,f,o="full"){const b=new FormData;return b.append("courseId",i),b.append("quizId",u),b.append("csvFile",f),b.append("reportType",o),st.post("/api/print-report/generate",b)}async function kp(i,u){return st.get(`/api/print-report/blank-quiz?courseId=${i}&quizId=${u}`)}function _p(i,u){switch(u.type){case"LOADING":return{...i,loading:!0,error:null};case"LOADED":return{...i,loading:!1,courses:u.courses};case"ERROR":return{...i,loading:!1,error:u.error};case"SELECT_COURSE":return{...i,selectedCourse:u.course,modalOpen:!0,quizzes:[],quizzesLoading:!0};case"QUIZZES_LOADING":return{...i,quizzesLoading:!0};case"QUIZZES_LOADED":return{...i,quizzesLoading:!1,quizzes:u.quizzes};case"QUIZZES_ERROR":return{...i,quizzesLoading:!1,error:u.error};case"CLOSE_MODAL":return{...i,modalOpen:!1,selectedCourse:null,quizzes:[]};default:return i}}const Op={courses:[],selectedCourse:null,quizzes:[],loading:!0,quizzesLoading:!1,error:null,modalOpen:!1};function Mp({onNavigate:i}){const[u,f]=N.useReducer(_p,Op),[o,b]=N.useState(!1),[p,y]=N.useState(null),[E,T]=N.useState(null),m=N.useRef(null);N.useEffect(()=>{j(!1)},[]);const j=async U=>{console.info(JSON.stringify({source:"AI_TRACE",action:U?"REFRESH_COURSES":"LOAD_COURSES",component:"DashboardPage",target:{testid:"refresh-btn",label:"Refresh",state:"loading"},payload:{refresh:U}})),f({type:"LOADING"});try{const M=await wp(U);f({type:"LOADED",courses:M})}catch(M){f({type:"ERROR",error:M instanceof Error?M.message:"Failed to load courses"})}},g=N.useCallback(async U=>{console.info(JSON.stringify({source:"AI_TRACE",action:"SELECT_COURSE",component:"DashboardPage",target:{testid:`course-${U.id}`,label:U.name,state:"enabled"},payload:{courseId:U.id}})),f({type:"SELECT_COURSE",course:U});try{const M=await Ap(U.id);f({type:"QUIZZES_LOADED",quizzes:M})}catch(M){f({type:"QUIZZES_ERROR",error:M instanceof Error?M.message:"Failed to load quizzes"})}},[]),S=N.useCallback(()=>{f({type:"CLOSE_MODAL"})},[]),k=(U,M)=>{if(u.selectedCourse){if(M==="blank"){i(ue.PRINT_REPORT_BLANK,{courseId:String(u.selectedCourse.id),quizId:String(U.id)});return}T({quiz:U,type:M}),setTimeout(()=>{m.current?.click()},0)}},D=async U=>{const M=U.target.files?.[0];if(!(!M||!E||!u.selectedCourse)){b(!0),y(null);try{const A=await zp(String(u.selectedCourse.id),String(E.quiz.id),M,E.type);sessionStorage.setItem("printReportData",JSON.stringify(A)),E.type==="slip"?i(ue.PRINT_REPORT_SLIP):i(ue.PRINT_REPORT_VIEW)}catch(A){y(A instanceof Error?A.message:"Failed to generate report")}finally{b(!1),m.current&&(m.current.value="")}}};return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx(rl,{onBack:()=>i(ue.HOME),actions:n.jsxs(n.Fragment,{children:[n.jsxs("button",{className:`h-10 px-4 font-bold border-2 border-black ${u.loading?"opacity-50":""}`,onClick:()=>j(!0),disabled:u.loading,"data-testid":"refresh-btn",children:[n.jsx("span",{className:"icon text-xl",children:""})," Refresh"]}),n.jsx("button",{className:"h-10 px-4 font-bold border-2 border-black",onClick:()=>i(ue.QUIZ_IMPORT),children:"QTI Converter"}),n.jsx("button",{className:"h-10 px-4 font-bold border-2 border-black",onClick:()=>i(ue.WORKSHEET_DASHBOARD),children:"Worksheet"})]})}),n.jsxs("div",{className:"max-w-[1400px] mx-auto p-10 md:p-5",children:[n.jsxs("div",{className:"text-center mb-12 py-10 border-b-2 border-black",children:[n.jsx("h1",{className:"text-4xl font-bold text-black mb-4 md:text-3xl",children:"Canvas Courses"}),n.jsx("p",{className:"text-xl text-gray-800 italic",children:"Browse and export quiz reports"})]}),u.error&&n.jsxs("div",{className:"alert alert-error font-black uppercase text-red-600",children:[n.jsx("span",{className:"text-3xl",children:""}),n.jsx("span",{children:u.error})]}),u.loading&&n.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(340px,1fr))] gap-8 mb-12 md:grid-cols-1",children:[1,2,3,4,5,6].map(U=>n.jsxs("div",{className:"bg-white border-2 border-gray-200 p-8 relative animate-pulse opacity-50",children:[n.jsx("div",{className:"h-6 w-24 bg-gray-200 mb-6"}),n.jsx("div",{className:"h-8 w-full bg-gray-200 mb-4"}),n.jsx("div",{className:"h-4 w-1/2 bg-gray-200"})]},U))}),!u.loading&&u.courses.length===0&&!u.error&&n.jsxs("div",{className:"text-center py-32 border-2 border-dashed border-gray-300",children:[n.jsx("span",{className:"text-6xl block mb-6 text-gray-300",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-black mb-2",children:"No courses found"}),n.jsx("p",{className:"text-gray-600",children:"Check your API token or refresh the list."})]}),!u.loading&&u.courses.length>0&&n.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(340px,1fr))] gap-8 mb-12 md:grid-cols-1",children:u.courses.map(U=>n.jsxs("div",{className:"bg-white border-2 border-black p-8 cursor-pointer relative group",onClick:()=>g(U),"data-testid":`course-${U.id}`,children:[n.jsx("span",{className:`absolute top-4 right-4 border border-black px-2 py-0.5 text-[10px] font-black uppercase tracking-tighter ${U.workflow_state!=="available"?"bg-gray-200 text-gray-500 border-gray-300":"bg-white text-black"}`,children:U.workflow_state==="available"?"Active":"Offline"}),n.jsxs("div",{className:"mb-6 mt-4",children:[n.jsx("h3",{className:"text-xl font-black text-black mb-1",children:U.name}),n.jsx("p",{className:"text-sm text-gray-500",children:U.course_code||"UNTITLED"})]}),n.jsxs("div",{className:"pt-6 border-t border-gray-200 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-black uppercase tracking-widest",children:[n.jsx("span",{children:""}),n.jsx("span",{children:"View Quizzes"})]}),n.jsx("span",{className:"text-2xl",children:""})]})]},U.id))}),u.modalOpen&&n.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[2000] p-10 backdrop-blur-sm",onClick:U=>U.target===U.currentTarget&&S(),children:n.jsxs("div",{className:"bg-white border-4 border-black max-w-[1000px] w-full max-h-[85vh] overflow-hidden flex flex-col shadow-[20px_20px_0px_0px_rgba(0,0,0,1)]",children:[n.jsxs("div",{className:"p-8 border-b-4 border-black flex justify-between items-center bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 block mb-1",children:"SELECTED COURSE"}),n.jsx("h2",{className:"text-3xl font-black text-black m-0",children:u.selectedCourse?.name})]}),n.jsx("button",{className:"bg-white border-2 border-black text-3xl font-black w-12 h-12 flex items-center justify-center",onClick:S,children:""})]}),n.jsx("input",{type:"file",ref:m,className:"hidden",accept:".csv",onChange:D}),n.jsxs("div",{className:"p-8 overflow-y-auto flex-1 bg-white relative",children:[o&&n.jsxs("div",{className:"absolute inset-0 bg-white/80 z-[2001] flex flex-col items-center justify-center backdrop-blur-[2px]",children:[n.jsx("div",{className:"w-16 h-16 border-8 border-gray-200 border-t-black rounded-full animate-spin mb-6"}),n.jsx("p",{className:"font-black uppercase tracking-[0.2em]",children:"Synthesizing Data..."}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Merging Canvas Quiz + Student CSV"})]}),p&&n.jsxs("div",{className:"mb-6 p-4 border-2 border-red-600 bg-red-50 text-red-600 flex items-center gap-3 font-bold",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsx("span",{className:"flex-1",children:p}),n.jsx("button",{className:"text-sm underline",onClick:()=>y(null),children:"Dismiss"})]}),u.quizzesLoading&&n.jsxs("div",{className:"text-center py-20",children:[n.jsx("div",{className:"w-16 h-16 border-8 border-gray-200 border-t-black rounded-full animate-spin mx-auto mb-6"}),n.jsx("p",{className:"font-black uppercase tracking-widest",children:"Syncing Quizzes..."})]}),!u.quizzesLoading&&u.quizzes.length===0&&n.jsx("div",{className:"text-center py-32 border-2 border-dashed border-gray-200",children:n.jsx("p",{className:"text-xl font-bold text-gray-400",children:"Empty Library"})}),!u.quizzesLoading&&u.quizzes.length>0&&n.jsx("div",{className:"grid gap-6",children:u.quizzes.map(U=>n.jsxs("div",{className:"border-2 border-black p-6 flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("h4",{className:"text-xl font-black text-black flex-1 m-0",children:U.title}),n.jsx("span",{className:`ml-4 px-2 py-0.5 text-[10px] font-black uppercase border-2 ${U.published?"bg-black text-white border-black":"text-gray-400 border-gray-300"}`,children:U.published?"Live":"Draft"})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-6 leading-relaxed",children:U.description?Dp(U.description).substring(0,150)+(U.description.length>150?"...":""):"No documentation provided."}),n.jsxs("div",{className:"flex flex-wrap gap-x-8 gap-y-2 mb-6 text-sm font-bold text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-black text-lg",children:""})," ",U.question_count??0," Questions"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-black text-lg",children:""})," ",U.points_possible??0," Points"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-black text-lg",children:""})," ",U.time_limit?`${U.time_limit}m`:""]})]}),n.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-100",children:[n.jsx("button",{className:"btn btn-primary flex-1 justify-center py-2",onClick:()=>k(U,"slip"),"data-testid":`quiz-${U.id}-slip`,children:" Retake Slip"}),n.jsx("button",{className:"btn btn-secondary flex-1 justify-center py-2",onClick:()=>k(U,"full"),"data-testid":`quiz-${U.id}-full`,children:" Full Report"}),n.jsx("button",{className:"btn btn-secondary flex-1 justify-center py-2 text-[10px]",onClick:()=>k(U,"blank"),"data-testid":`quiz-${U.id}-blank`,children:" Blank Quiz"})]})]},U.id))})]})]})})]})]})}function Dp(i){const u=document.createElement("div");return u.innerHTML=i,u.textContent||u.innerText||""}function Rp({question:i,editFieldClass:u}){const f=i.options.filter((b,p)=>p%2===0),o=i.options.filter((b,p)=>p%2!==0);return n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[n.jsx("div",{className:"space-y-2",children:f.map((b,p)=>n.jsxs("div",{className:"flex items-start gap-2 text-[9pt]",children:[n.jsxs("span",{className:"font-black w-4",children:[b.optionLetter,"."]}),n.jsx("span",{className:`flex-1 ${u}`,children:b.optionText})]},`left-${p}`))}),n.jsx("div",{className:"space-y-2",children:o.map((b,p)=>n.jsxs("div",{className:"flex items-start gap-2 text-[9pt]",children:[n.jsx("div",{className:`w-3 h-3 border border-black shrink-0 translate-y-0.5 ${b.isStudentAnswer?"bg-black":"bg-white"}`}),n.jsx("span",{className:`flex-1 ${u}`,children:b.optionText}),b.isCorrect&&n.jsx("span",{className:"ml-1",children:""})]},`right-${p}`))})]})}function Hp({question:i,editFieldClass:u}){const f=i.questionText.split(/(\[\[BLANK\]\])/gi);return n.jsx("div",{className:`text-[10pt] leading-relaxed mb-2 ${u}`,children:f.map((o,b)=>o.toUpperCase()==="[[BLANK]]"?n.jsx("span",{className:"inline-block border-b-2 border-black mx-1 min-w-[80px] text-center",style:{minWidth:"4cm"},children:i.studentAnswerText||""},b):n.jsx("span",{children:o},b))})}function Lp({question:i}){const u=Math.max(5,Math.ceil(i.pointsPossible||5)),f=10;return n.jsx("div",{className:"mb-2",children:Array.from({length:u}).map((o,b)=>n.jsx("div",{className:"flex",children:Array.from({length:20}).map((p,y)=>n.jsx("div",{className:"box-border border border-gray-300 bg-white flex items-center justify-center -mr-px -mb-px",style:{width:`${f}mm`,height:`${f}mm`}},`col-${y}`))},`row-${b}`))})}function Bp({question:i,editFieldClass:u}){const f=i.studentAnswerText.toLowerCase(),o=f.includes("true")||f.includes("t"),b=f.includes("false")||f.includes("f");return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-6 text-[10pt]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-black ${o?"bg-black":"bg-white"}`}),n.jsx("span",{className:"font-bold",children:"True"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-black ${b?"bg-black":"bg-white"}`}),n.jsx("span",{className:"font-bold",children:"False"})]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-[8pt] text-gray-500 uppercase tracking-wider",children:"Reasoning:"}),n.jsx("div",{className:`border-b border-dashed border-black pt-1 ${u}`,children:""}),n.jsx("div",{className:`border-b border-dashed border-black pt-3 ${u}`,children:""})]})]})}function Up({question:i,editFieldClass:u}){return n.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((o,b)=>n.jsx("div",{className:`border-b border-black pt-2 ${u}`,children:b===0&&i.studentAnswerText?i.studentAnswerText:""},`line-${b}`))})}function tc({text:i="Loading..."}){return n.jsxs("div",{className:"flex flex-col items-center justify-center py-10 print:hidden",children:[n.jsx("div",{className:"w-16 h-16 border-8 border-gray-200 border-t-black rounded-full animate-spin mb-4"}),n.jsx("p",{className:"font-black uppercase tracking-widest text-gray-500",children:i})]})}function lc(){window.print()}function qp({onNavigate:i}){const[u,f]=N.useState(null),[o,b]=N.useState(!1),[p,y]=N.useState(null);N.useEffect(()=>{const j=sessionStorage.getItem("printReportData");if(!j){y("No report data found. Please generate a report first.");return}try{const g=JSON.parse(j);f(Array.isArray(g)?g:[g])}catch{y("Failed to load report data")}},[]);const E=()=>{console.info(JSON.stringify({source:"AI_TRACE",action:"CLICK_PRINT",component:"PrintReportViewPage",target:{testid:"print-btn",label:"Print",state:"enabled"},payload:{}})),lc()},T=()=>{console.info(JSON.stringify({source:"AI_TRACE",action:"TOGGLE_EDIT",component:"PrintReportViewPage",target:{testid:"edit-toggle",label:"Edit Mode",state:o?"inactive":"active"},payload:{newState:!o}})),b(!o)};if(p)return n.jsxs("div",{className:"max-w-[800px] mx-auto mt-10 p-10 text-center font-sans bg-white border-4 border-black",children:[n.jsx("h1",{className:"text-3xl font-black text-black mb-6 uppercase",children:"Error"}),n.jsx("p",{className:"text-lg mb-8",children:p}),n.jsx("button",{className:"btn btn-primary",onClick:()=>i(ue.HOME),children:" Back to Home"})]});if(!u)return n.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:n.jsx(tc,{text:"Rendering Dossier..."})});const m=o?"border-b-2 border-dashed border-primary-blue bg-selected-bg cursor-text":"";return n.jsxs("div",{className:"bg-app-gray min-h-screen print:bg-white",children:[n.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-white border-b-2 border-black p-3 flex justify-between items-center z-[1000] shadow-md print:hidden",children:[n.jsx("div",{className:"flex gap-3",children:n.jsx("button",{onClick:()=>i(ue.HOME),className:"toolbar-btn","data-testid":"back-dash-btn",children:" Home"})}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mr-4",children:"REPORT VIEW"}),n.jsx("button",{onClick:T,className:`toolbar-btn ${o?"bg-primary-blue text-white border-primary-blue":""}`,"data-testid":"edit-toggle",children:o?" Done Editing":" Edit Mode"}),n.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),n.jsx("button",{onClick:E,className:"toolbar-btn !bg-black !text-white !border-black","data-testid":"print-btn",children:" Print Report"})]})]}),n.jsx("div",{className:"max-w-[21cm] mx-auto mt-[80px] mb-10 p-[0.5cm] bg-white font-sans print:m-0 print:p-[0.5cm] print:max-w-none shadow-2xl print:shadow-none min-h-[29.7cm]",children:u.map((j,g)=>n.jsx("div",{children:j.students.map((S,k)=>n.jsxs("div",{className:`print:break-inside-avoid ${k>0?"print:break-before-page":""} mb-8 print:mb-0`,children:[n.jsxs("div",{className:"border-b-2 border-black mb-4 pb-2 flex justify-between items-end",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-gray-500 mb-0.5",children:"STUDENT"}),n.jsx("span",{className:`text-xl font-black uppercase ${m}`,children:S.studentName})]}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-gray-500 mb-0.5",children:"ID / REF"}),n.jsx("span",{className:`text-base font-bold ${m}`,children:S.studentId||"N/A"})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-black text-center mb-1 uppercase tracking-tight",children:j.quizTitle}),n.jsx("div",{className:"text-center text-[8px] font-bold text-gray-400 tracking-[0.2em]",children:"CANVAS COMPREHENSIVE DOSSIER"})]}),n.jsx("div",{className:"space-y-4",children:S.questions.map(D=>n.jsx("div",{className:"print:break-inside-avoid border-l border-gray-100 pl-4 relative",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"font-black text-sm bg-black text-white w-6 h-6 flex items-center justify-center shrink-0",children:D.questionNumber}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[D.answerStatus==="CORRECT"&&n.jsx("span",{className:"text-lg font-bold text-black","aria-label":"Correct",children:""}),D.answerStatus==="INCORRECT"&&n.jsx("span",{className:"text-lg font-bold text-black","aria-label":"Incorrect",children:""}),D.answerStatus==="MISSED"&&n.jsx("span",{className:"text-lg font-bold text-gray-400","aria-label":"Unanswered",children:""}),n.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-gray-400",children:D.questionType.replace("_"," ")})]}),n.jsxs("span",{className:"text-[10px] font-black italic",children:[D.pointsPossible," PTS"]})]}),n.jsx("div",{className:`text-[10pt] leading-snug mb-2 text-black font-medium ${m}`,dangerouslySetInnerHTML:{__html:D.questionText}}),(()=>{const U=D.questionType.toLowerCase();return U.includes("matching")?n.jsx(Rp,{question:D,editMode:o,editFieldClass:m}):U.includes("fill_in")||U.includes("blank")?n.jsx(Hp,{question:D,editMode:o,editFieldClass:m}):U.includes("essay")?n.jsx(Lp,{question:D}):U.includes("true_false")?n.jsx(Bp,{question:D,editFieldClass:m}):U.includes("short_answer")?n.jsx(Up,{question:D,editFieldClass:m}):D.hasOptions?n.jsx("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 mb-2",children:D.options.map((M,A)=>n.jsxs("div",{className:"flex items-baseline gap-2 text-[9pt]",children:[n.jsx("div",{className:`w-3 h-3 border border-black shrink-0 translate-y-0.5 ${M.isStudentAnswer?"bg-black shadow-[1px_1px_0px_0px_rgba(0,0,0,0.2)]":"bg-white"}`}),n.jsxs("span",{className:"font-black w-3",children:[M.optionLetter,"."]}),n.jsxs("span",{className:`flex-1 ${m} ${M.isStudentAnswer&&!M.isCorrect?"line-through decoration-1":""} ${M.isCorrect?"font-bold":"text-gray-700"}`,children:[M.optionText,M.isCorrect&&n.jsx("span",{className:"ml-1 inline-block text-[8pt]",children:""})]})]},A))}):null})(),D.feedbackText&&n.jsx("div",{className:"bg-gray-50 border-l-2 border-black p-2 mt-2",children:n.jsx("div",{className:"text-[9pt] text-gray-800 italic leading-tight",dangerouslySetInnerHTML:{__html:D.feedbackText}})})]})]})},D.questionNumber))}),S.incorrectQuestionNumbers.length>0&&n.jsxs("div",{className:"mt-8 pt-4 border-t-2 border-black print:break-inside-avoid",children:[n.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.1em] mb-2",children:"REMEDIATION REQUIRED"}),n.jsx("div",{className:"flex flex-wrap gap-1.5",children:S.incorrectQuestionNumbers.map(D=>n.jsx("span",{className:"border border-black px-2 py-0.5 font-black text-xs",children:D},D))})]}),n.jsx("div",{className:"mt-10 text-center text-[8px] font-black text-gray-300 uppercase tracking-[0.3em] hidden print:block",children:"CONFIDENTIAL STUDENT EVALUATION DATA"})]},k))},g))})]})}function Qp({onNavigate:i}){const[u,f]=N.useState(null),[o,b]=N.useState(null);N.useEffect(()=>{const y=sessionStorage.getItem("printReportData");if(!y){b("No report data found. Please generate a report first.");return}try{const E=JSON.parse(y);f(Array.isArray(E)?E:[E])}catch{b("Failed to load report data")}},[]);const p=()=>{console.info(JSON.stringify({source:"AI_TRACE",action:"CLICK_PRINT",component:"PrintReportSlipPage",target:{testid:"print-btn",label:"Print Slips",state:"enabled"},payload:{}})),lc()};return o?n.jsxs("div",{className:"max-w-[800px] mx-auto mt-10 p-10 text-center font-sans bg-white border-4 border-black",children:[n.jsx("h1",{className:"text-3xl font-black text-black mb-6 uppercase",children:"Error"}),n.jsx("p",{className:"text-lg mb-8",children:o}),n.jsx("button",{className:"btn btn-primary",onClick:()=>i(ue.HOME),children:" Back to Home"})]}):u?n.jsxs("div",{className:"bg-app-gray min-h-screen print:bg-white",children:[n.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-white border-b-2 border-black p-3 flex justify-between items-center z-[1000] shadow-md print:hidden",children:[n.jsx("div",{className:"flex gap-3",children:n.jsx("button",{onClick:()=>i(ue.HOME),className:"toolbar-btn","data-testid":"back-dash-btn",children:" Home"})}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mr-4",children:"SLIP GENERATOR"}),n.jsx("button",{onClick:p,className:"toolbar-btn !bg-black !text-white !border-black","data-testid":"print-btn",children:" Print Slips"})]})]}),n.jsx("div",{className:"max-w-[21cm] mx-auto mt-[60px] mb-10 p-[0.5cm] font-sans bg-white print:m-0 print:p-0 print:max-w-none shadow-2xl print:shadow-none",children:u.map((y,E)=>n.jsx("div",{children:y.students.map((T,m)=>{const j=T.questions.filter(g=>g.answerStatus!=="CORRECT");return n.jsxs("div",{className:"print:break-inside-avoid mb-[20px]",children:[n.jsxs("div",{className:"border-2 border-black p-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 bg-black text-white px-2 py-0.5 text-[7px] font-black uppercase tracking-widest print:hidden",children:"CUT"}),n.jsxs("div",{className:"border-b-2 border-black pb-3 mb-4 flex justify-between items-end",children:[n.jsxs("div",{className:"flex-[2]",children:[n.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-gray-400 block mb-0.5",children:"RETAKE AUTH"}),n.jsx("div",{className:"text-xl font-black leading-tight uppercase italic",children:T.studentName}),n.jsxs("div",{className:"text-[9px] font-bold text-gray-600",children:["ID: ",T.studentId||"N/A"," | ",y.quizTitle]})]}),n.jsx("div",{className:"flex-1 text-right",children:n.jsxs("div",{className:"inline-flex flex-col items-center border-border-black p-1.5 bg-gray-50",children:[n.jsx("span",{className:"text-[7px] font-black uppercase mb-0.5",children:"MISS"}),n.jsx("span",{className:"text-xl font-black",children:T.incorrectQuestionNumbers.length})]})})]}),T.incorrectQuestionNumbers.length===0?n.jsx("div",{className:"text-center py-6 border border-dashed border-gray-300",children:n.jsx("h3",{className:"text-lg font-black m-0 tracking-widest uppercase italic",children:" Perfect "})}):n.jsx("div",{className:"space-y-2",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-black text-white text-[8px] tracking-tighter uppercase",children:[n.jsx("th",{className:"text-left p-1 w-[8%]",children:"Q#"}),n.jsx("th",{className:"text-left p-1 w-[32%]",children:"Error"}),n.jsx("th",{className:"text-left p-1 w-[60%]",children:"Correction"})]})}),n.jsx("tbody",{children:j.map(g=>n.jsxs("tr",{className:"border-b border-gray-100 last:border-b-0",children:[n.jsx("td",{className:"p-1.5 align-top font-black text-base",children:g.questionNumber}),n.jsx("td",{className:"p-1.5 align-top",children:n.jsx("div",{className:"text-[9pt] line-through text-gray-400 font-medium",children:g.studentAnswerText||"[EMPTY]"})}),n.jsxs("td",{className:"p-1.5 align-top",children:[g.hasOptions&&n.jsx("div",{className:"space-y-1",children:g.options.filter(S=>S.isCorrect).map((S,k)=>n.jsx("div",{className:"flex items-start gap-1",children:n.jsxs("span",{className:"font-bold text-[9pt]",children:[S.optionLetter,". ",S.optionText]})},k))}),g.feedbackText&&n.jsx("div",{className:"italic mt-1 text-[8pt] text-gray-600 leading-tight",dangerouslySetInnerHTML:{__html:g.feedbackText}})]})]},g.questionNumber))})]})}),n.jsxs("div",{className:"mt-4 pt-2 border-t border-black flex justify-between items-center italic text-[7px] font-black uppercase tracking-widest text-gray-400",children:[n.jsx("span",{children:"STAPLE TO BOOKLET"}),n.jsx("span",{children:"QTI HELPER v3.5"})]})]}),m<y.students.length-1&&n.jsx("div",{className:"border-b-2 border-dotted border-gray-300 my-6 relative h-0",children:n.jsx("span",{className:"absolute right-0 -top-3 text-lg text-gray-200",children:""})})]},m)})},E))})]}):n.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:n.jsx(tc,{text:"Generating Slips..."})})}function Gp({onNavigate:i}){const{params:u}=If(),[f,o]=N.useState(null),[b,p]=N.useState(!0),[y,E]=N.useState(null);N.useEffect(()=>{(async()=>{p(!0);const g=sessionStorage.getItem("printReportData");if(g)try{const D=JSON.parse(g);o(Array.isArray(D)?D:[D]),p(!1);return}catch(D){console.error("Failed to parse stored report data",D)}const{courseId:S,quizId:k}=u;if(S&&k)try{const D=await kp(S,k);o([D]),E(null)}catch(D){console.error("Failed to fetch blank quiz",D),E("Failed to load blank quiz from Canvas. Please verify the IDs and your connection.")}finally{p(!1)}else E("No report data found and no IDs provided. Please select a quiz from the dashboard."),p(!1)})()},[u.courseId,u.quizId]);const T=()=>{console.info(JSON.stringify({source:"AI_TRACE",action:"CLICK_PRINT",component:"PrintReportBlankPage",target:{testid:"print-btn",label:"Print Worksheet",state:"enabled"},payload:{}})),lc()};if(b)return n.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:n.jsx(tc,{text:"Formatting Worksheet..."})});if(y)return n.jsxs("div",{className:"max-w-[800px] mx-auto mt-10 p-10 text-center font-sans bg-white border-4 border-black",children:[n.jsx("h1",{className:"text-3xl font-black text-black mb-6 uppercase",children:"Sync Error"}),n.jsx("p",{className:"text-lg mb-8",children:y}),n.jsx("button",{className:"btn btn-primary",onClick:()=>i(ue.HOME),children:" Return to Home"})]});if(!f)return n.jsx("div",{className:"text-center p-20 font-black uppercase tracking-widest",children:"Null Data Integrity Failure"});const m=f[0]?.students[0]?.questions.reduce((j,g)=>j+g.pointsPossible,0);return n.jsxs("div",{className:"bg-app-gray min-h-screen print:bg-white",children:[n.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-white border-b-2 border-black p-3 flex justify-between items-center z-[1000] shadow-md print:hidden",children:[n.jsx("div",{className:"flex gap-3",children:n.jsx("button",{onClick:()=>i(ue.HOME),className:"toolbar-btn","data-testid":"back-dash-btn",children:" Home"})}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mr-4",children:"WORKSHEET PREVIEW"}),n.jsx("button",{onClick:T,className:"toolbar-btn !bg-black !text-white !border-black","data-testid":"print-btn",children:" Print Worksheet"})]})]}),n.jsx("div",{className:"max-w-[21cm] mx-auto mt-[80px] mb-10 p-[0.5cm] font-sans bg-white print:m-0 print:p-[0.5cm] print:max-w-none shadow-2xl print:shadow-none min-h-[29.7cm]",children:f.map((j,g)=>j.students.map((S,k)=>n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"border-2 border-black p-4 mb-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest w-[100px] pb-0.5",children:"NAME"}),n.jsx("div",{className:"flex-1 border-b-2 border-black h-6"})]}),n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest w-[100px] pb-0.5",children:"ID"}),n.jsx("div",{className:"flex-1 border-b-2 border-black h-6"})]}),n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest w-[100px] pb-0.5",children:"DATE"}),n.jsx("div",{className:"flex-1 border-b-2 border-black h-6"})]})]})}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-black mb-1 uppercase tracking-tighter",children:j.quizTitle}),n.jsxs("div",{className:"flex justify-center items-center gap-4 text-[8px] font-black uppercase tracking-[0.1em] text-gray-400",children:[n.jsxs("span",{children:[S.questions.length," Items"]}),n.jsx("span",{className:"text-black",children:""}),n.jsxs("span",{children:[m," Points Total"]})]})]}),n.jsxs("div",{className:"border-l-4 border-black bg-gray-50 p-3 mb-6 text-[9pt] leading-tight italic",children:[n.jsx("strong",{children:"Protocol:"})," Provide the most accurate response for each item. Ensure handwriting is legible."]}),n.jsx("div",{className:"space-y-6",children:S.questions.map((D,U)=>n.jsx("div",{className:"mb-4 print:break-inside-avoid relative",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsxs("span",{className:"text-lg font-black leading-none pt-0.5",children:[D.questionNumber,"."]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[n.jsx("span",{className:"text-[11pt] font-bold leading-snug text-black",dangerouslySetInnerHTML:{__html:D.questionText}}),n.jsxs("span",{className:"text-[9px] font-black italic whitespace-nowrap ml-2",children:["[",D.pointsPossible,"P]"]})]}),(D.questionType==="multiple_choice_question"||D.questionType==="multiple_answers_question"||D.questionType==="true_false_question")&&D.hasOptions&&n.jsx("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2 mt-2",children:D.options.map((M,A)=>n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-black shrink-0 translate-y-0.5"}),n.jsxs("span",{className:"font-black text-[10pt] w-4",children:[M.optionLetter,"."]}),n.jsx("span",{className:"text-[10pt] text-black font-medium",children:M.optionText})]},A))}),D.questionType==="essay_question"&&n.jsx("div",{className:"mt-2 space-y-3",children:[1,2,3,4].map(M=>n.jsx("div",{className:"border-b border-gray-200 h-8 w-full"},M))}),D.questionType==="short_answer_question"&&n.jsx("div",{className:"mt-2 border-b-2 border-black h-8 w-full max-w-[300px]"}),D.questionType==="matching_question"&&D.hasOptions&&n.jsx("div",{className:"mt-4 space-y-2 pl-3 border-l-2 border-gray-100",children:D.options.map((M,A)=>n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsxs("span",{className:"font-black text-[10pt] min-w-[15px]",children:[M.optionLetter,"."]}),n.jsx("span",{className:"text-[10pt] font-medium leading-none pb-0.5",children:M.optionText}),n.jsx("div",{className:"flex-1 border-b border-black min-w-[80px] h-5"})]},A))}),(D.questionType==="fill_in_multiple_blanks_question"||D.questionType==="multiple_dropdowns_question")&&D.hasOptions&&n.jsx("div",{className:"mt-4 space-y-2",children:D.options.map((M,A)=>n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsxs("span",{className:"font-black text-[8px] uppercase tracking-widest text-gray-400",children:["(",M.optionLetter,")"]}),n.jsx("div",{className:"flex-1 border-b border-black h-5"})]},A))}),D.questionType==="numerical_question"&&n.jsxs("div",{className:"mt-4 flex items-end gap-3",children:[n.jsx("span",{className:"font-black text-[8px] uppercase tracking-widest",children:"VALUE"}),n.jsx("div",{className:"flex-1 border-b-2 border-black h-8 max-w-[150px]"})]})]})]})},U))}),n.jsx("div",{className:"mt-12 pt-6 border-t-2 border-black text-center",children:n.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-gray-300 italic",children:"PROTOCOL TERMINATED  END OF EVALUATION"})})]},`${g}-${k}`)))})]})}async function Yp(i,u){const f=new FormData;return i?f.append("jsonFile",i):u&&f.append("jsonText",u),st.post("/quiz/api/parse",f)}async function Vp(i){return st.post("/quiz/validate",JSON.stringify(i))}async function Zp(i,u){return st.post("/quiz/api/process",{courseId:i,quizJson:JSON.stringify(u)})}function Xp({onNavigate:i}){const[u,f]=N.useState("upload"),[o,b]=N.useState(null),[p,y]=N.useState(!1),E=N.useRef(null),T=N.useRef(null),m=async j=>{j.preventDefault(),b(null),y(!0);try{let g,S;if(u==="upload"){const D=E.current?.files?.[0];if(!D){b("Please select a JSON file"),y(!1);return}g=D}else{const D=T.current?.value;if(!D||D.trim()===""){b("Please paste JSON content"),y(!1);return}S=D}const k=await Yp(g,S);sessionStorage.setItem("qtiQuizData",JSON.stringify(k.quiz)),i(ue.QUIZ_EDITOR)}catch(g){b(g instanceof Error?g.message:"Failed to parse quiz JSON"),y(!1)}};return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx(rl,{onBack:()=>i(ue.HOME)}),n.jsxs("div",{className:"max-w-[900px] mx-auto p-10 md:p-5",children:[n.jsxs("div",{className:"text-center mb-10 pb-5 border-b-2 border-black",children:[n.jsxs("h1",{className:"text-[2.5rem] font-bold text-black mb-[10px] flex items-center justify-center gap-[15px] md:text-[1.8rem]",children:[n.jsx("span",{className:"text-[2.5rem]",children:""})," QTI 1.2 Converter"]}),n.jsx("p",{className:"text-[1.2rem] text-gray-800",children:"Convert Custom JSON Quiz to Canvas Question Bank"})]}),o&&n.jsxs("div",{className:"alert alert-error mb-5",role:"alert",children:[n.jsx("strong",{className:"font-bold",children:"Error:"})," ",o]}),n.jsxs("div",{className:"border border-black mb-[30px]",children:[n.jsx("div",{className:"p-[15px_20px] border-b border-black bg-white",children:n.jsx("h3",{className:"text-2xl font-bold m-0 text-black",children:"Step 1: Import Quiz JSON"})}),n.jsxs("div",{className:"p-[30px] md:p-5",children:[n.jsx("div",{className:"mb-5",children:n.jsxs("ul",{className:"flex list-none p-0 m-0 border-b-2 border-black",role:"tablist",children:[n.jsx("li",{role:"presentation",children:n.jsx("button",{className:`p-[10px_20px] border-none bg-transparent cursor-pointer text-base border-b-4 -mb-[2px] hover:bg-gray-50 md:p-2 md:text-sm ${u==="upload"?"border-black font-bold":"border-transparent"}`,onClick:()=>f("upload"),children:" Upload JSON File"})}),n.jsx("li",{role:"presentation",children:n.jsx("button",{className:`p-[10px_20px] border-none bg-transparent cursor-pointer text-base border-b-4 -mb-[2px] hover:bg-gray-50 md:p-2 md:text-sm ${u==="paste"?"border-black font-bold":"border-transparent"}`,onClick:()=>f("paste"),children:" Paste JSON Text"})})]})}),u==="upload"&&n.jsxs("form",{onSubmit:m,className:"block",children:[n.jsxs("div",{className:"mb-5",children:[n.jsx("label",{htmlFor:"jsonFile",className:"block font-semibold mb-2 text-black",children:"Select JSON File"}),n.jsx("input",{type:"file",id:"jsonFile",className:"w-full p-2.5 border border-black bg-white font-mono text-[0.9rem] focus:outline-2 focus:outline-black focus:outline-offset-2",ref:E,accept:".json",required:!0}),n.jsx("small",{className:"block mt-[5px] text-gray-600 text-[0.85rem]",children:"Upload a .json file containing your quiz structure"})]}),n.jsx("div",{className:"text-center mt-5",children:n.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:p,children:p?n.jsx(n.Fragment,{children:"Processing..."}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mr-2 text-[1.2em]",children:""})," Parse & Edit"]})})})]}),u==="paste"&&n.jsxs("form",{onSubmit:m,className:"block",children:[n.jsxs("div",{className:"mb-5",children:[n.jsx("label",{htmlFor:"jsonText",className:"block font-semibold mb-2 text-black",children:"Paste JSON Content"}),n.jsx("textarea",{id:"jsonText",className:"w-full p-2.5 border border-black bg-white font-mono text-[0.9rem] resize-y focus:outline-2 focus:outline-black focus:outline-offset-2",ref:T,rows:15,placeholder:'{"title": "My Quiz", "description": "...", "questions": [...]}',required:!0}),n.jsx("small",{className:"block mt-[5px] text-gray-600 text-[0.85rem]",children:"Paste your JSON quiz structure here"})]}),n.jsx("div",{className:"text-center mt-5",children:n.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:p,children:p?n.jsx(n.Fragment,{children:"Processing..."}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mr-2 text-[1.2em]",children:""})," Parse & Edit"]})})})]}),n.jsxs("div",{className:"p-5 border border-gray-300 mt-5 bg-gray-50 text-[0.9rem]",children:[n.jsx("h6",{className:"m-0 mb-2.5 text-base font-bold text-black",children:n.jsx("strong",{children:"JSON Format Guide:"})}),n.jsx("p",{className:"my-1 text-gray-800",children:"Your JSON should follow this structure:"}),n.jsx("pre",{className:"bg-white border border-gray-300 p-2.5 overflow-x-auto my-2.5",children:n.jsx("code",{className:"font-mono text-[0.85rem] leading-relaxed",children:`{
  "title": "Quiz Title",
  "description": "Quiz description",
  "questions": [
    {
      "type": "MC",
      "title": "Question 1",
      "prompt": "What is 2+2?",
      "points": 1.0,
      "answers": [
        {"text": "3", "correct": false},
        {"text": "4", "correct": true}
      ]
    }
  ]
}`})}),n.jsxs("small",{className:"block mt-2.5 text-gray-700 font-medium",children:[n.jsx("strong",{children:"Supported Types:"})," MC (Multiple Choice), MA (Multiple Answer), MD (Multiple Dropdown), MT (Matching), TF (True/False)"]})]})]})]}),n.jsx("div",{className:"text-center p-5 mt-10 border-t-2 border-black text-gray-600 text-[0.9rem]",children:n.jsx("p",{children:"QTI Helper v2.0 | QTI 1.2 Converter"})})]})]})}function Kp({settings:i,onChange:u}){const[f,o]=N.useState(i.timeLimit!=null),[b,p]=N.useState(i.allowedAttempts===-1),y=(m,j)=>{u({...i,[m]:j})},E=m=>{o(m),m?y("timeLimit",60):y("timeLimit",null)},T=m=>{p(m),m?y("allowedAttempts",-1):y("allowedAttempts",1)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4 items-center",children:[n.jsx("label",{htmlFor:"quizType",className:"font-semibold text-black",children:"Quiz Type:"}),n.jsxs("select",{id:"quizType",className:"p-2 border border-black text-base focus:outline-2 focus:outline-black",value:i.quizType||"assignment",onChange:m=>y("quizType",m.target.value),children:[n.jsx("option",{value:"assignment",children:"Assignment (Graded)"}),n.jsx("option",{value:"practice_quiz",children:"Practice Quiz (Ungraded)"}),n.jsx("option",{value:"graded_survey",children:"Graded Survey"}),n.jsx("option",{value:"survey",children:"Survey (Anonymous)"})]})]}),n.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4 items-start",children:[n.jsx("label",{className:"font-semibold text-black pt-2",children:"Time Limit:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:!f,onChange:m=>E(!m.target.checked),className:"w-4 h-4"}),n.jsx("span",{children:"No time limit"})]})}),f&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"number",min:"1",className:"p-2 border border-black text-base w-24 focus:outline-2 focus:outline-black",value:i.timeLimit||60,onChange:m=>y("timeLimit",parseInt(m.target.value)||60)}),n.jsx("span",{className:"text-gray-700",children:"minutes"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4 items-start",children:[n.jsx("label",{className:"font-semibold text-black pt-2",children:"Allowed Attempts:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:b,onChange:m=>T(m.target.checked),className:"w-4 h-4"}),n.jsx("span",{children:"Unlimited attempts"})]})}),!b&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"number",min:"1",className:"p-2 border border-black text-base w-24 focus:outline-2 focus:outline-black",value:i.allowedAttempts||1,onChange:m=>y("allowedAttempts",parseInt(m.target.value)||1)}),n.jsx("span",{className:"text-gray-700",children:"attempt(s)"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4 items-center",children:[n.jsx("label",{htmlFor:"scoringPolicy",className:"font-semibold text-black",children:"Scoring Policy:"}),n.jsxs("select",{id:"scoringPolicy",className:"p-2 border border-black text-base focus:outline-2 focus:outline-black",value:i.scoringPolicy||"keep_highest",onChange:m=>y("scoringPolicy",m.target.value),children:[n.jsx("option",{value:"keep_highest",children:"Keep Highest Score"}),n.jsx("option",{value:"keep_latest",children:"Keep Latest Score"}),n.jsx("option",{value:"keep_average",children:"Keep Average Score"})]})]}),n.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4 items-start",children:[n.jsx("label",{className:"font-semibold text-black pt-2",children:"Display Options:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i.showCorrectAnswers!==!1,onChange:m=>y("showCorrectAnswers",m.target.checked),className:"w-4 h-4"}),n.jsx("span",{children:"Show correct answers after submission"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i.shuffleAnswers===!0,onChange:m=>y("shuffleAnswers",m.target.checked),className:"w-4 h-4"}),n.jsx("span",{children:"Shuffle answer order for each student"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4 items-start",children:[n.jsx("label",{className:"font-semibold text-black pt-2",children:"Navigation:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i.oneQuestionAtATime===!0,onChange:m=>y("oneQuestionAtATime",m.target.checked),className:"w-4 h-4"}),n.jsx("span",{children:"Show one question at a time"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i.cantGoBack===!0,onChange:m=>y("cantGoBack",m.target.checked),className:"w-4 h-4"}),n.jsx("span",{children:"Students can't go back to previous questions"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4 items-center",children:[n.jsx("label",{htmlFor:"dueAt",className:"font-semibold text-black",children:"Due Date:"}),n.jsx("input",{id:"dueAt",type:"datetime-local",className:"p-2 border border-black text-base focus:outline-2 focus:outline-black",value:i.dueAt||"",onChange:m=>y("dueAt",m.target.value||null)})]}),n.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 border border-gray-300",children:[n.jsx("strong",{children:"Note:"})," These settings will be included in the Canvas quiz configuration. Leave dates empty if not needed."]})]})}function Jp({onNavigate:i}){const[u,f]=N.useState(null),[o,b]=N.useState(""),[p,y]=N.useState(null),[E,T]=N.useState(!1),[m,j]=N.useState(!1),[g,S]=N.useState(null),[k,D]=N.useState({quizType:"assignment",allowedAttempts:1,showCorrectAnswers:!0,shuffleAnswers:!1,oneQuestionAtATime:!1,cantGoBack:!1});N.useEffect(()=>{const A=sessionStorage.getItem("qtiQuizData");if(!A){S("No quiz data found. Please import a quiz first.");return}try{const R=JSON.parse(A);f(R)}catch{S("Failed to load quiz data")}},[]);const U=async()=>{if(u){T(!0),S(null);try{const A=await Vp(u);y(A)}catch(A){S(A instanceof Error?A.message:"Validation failed")}finally{T(!1)}}},M=async A=>{if(A.preventDefault(),!!u){if(!o||o.trim()===""){S("Please enter a Canvas Course ID");return}j(!0),S(null);try{const R={...u,settings:k},L=await Zp(o,R);sessionStorage.setItem("qtiProcessResult",JSON.stringify(L)),i(ue.QUIZ_SUCCESS)}catch(R){S(R instanceof Error?R.message:"Failed to process quiz"),j(!1)}}};return g&&!u?n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx(rl,{onBack:()=>i(ue.QUIZ_IMPORT)}),n.jsxs("div",{className:"max-w-[800px] mx-auto mt-10 p-5 text-center bg-white border border-black shadow-lg",children:[n.jsx("h1",{className:"text-2xl font-bold text-black mb-5",children:"Error"}),n.jsx("p",{className:"mb-5",children:g}),n.jsx("button",{className:"h-12 px-6 font-bold border-2 border-black",onClick:()=>i(ue.QUIZ_IMPORT),children:" Back to Import"})]})]}):u?n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx(rl,{onBack:()=>i(ue.QUIZ_IMPORT)}),n.jsxs("div",{className:"max-w-[1000px] mx-auto p-10 pb-[100px] md:p-5 md:pb-[150px]",children:[n.jsxs("div",{className:"text-center mb-10 pb-5 border-b-2 border-black",children:[n.jsx("h1",{className:"text-[2.5rem] font-bold text-black mb-[10px] md:text-[1.8rem]",children:" Edit Quiz"}),n.jsx("p",{className:"text-[1.1rem] text-gray-800",children:"Review and modify questions before converting to QTI 1.2"})]}),g&&n.jsxs("div",{className:"alert alert-error mb-5",role:"alert",children:[n.jsx("strong",{className:"font-bold",children:"Error:"})," ",g]}),n.jsxs("div",{className:"border border-black mb-5 bg-white",children:[n.jsx("div",{className:"p-[15px_20px] border-b border-black",children:n.jsx("h3",{className:"text-[1.3rem] font-bold m-0 text-black",children:"Quiz Information"})}),n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"mb-[15px]",children:[n.jsx("label",{className:"block font-semibold mb-[5px] text-black",children:"Title:"}),n.jsx("div",{className:"p-2.5 bg-gray-100 border border-gray-300 text-base",children:u.title})]}),u.description&&n.jsxs("div",{className:"mb-[15px]",children:[n.jsx("label",{className:"block font-semibold mb-[5px] text-black",children:"Description:"}),n.jsx("div",{className:"p-2.5 bg-gray-100 border border-gray-300 text-base",children:u.description})]}),n.jsxs("div",{className:"mb-[15px]",children:[n.jsx("label",{className:"block font-semibold mb-[5px] text-black",children:"Total Questions:"}),n.jsx("div",{className:"p-2.5 bg-gray-100 border border-gray-300 text-base",children:u.questions.length})]})]})]}),n.jsxs("div",{className:"border border-black mb-5 bg-white",children:[n.jsx("div",{className:"p-[15px_20px] border-b border-black",children:n.jsx("h3",{className:"text-[1.3rem] font-bold m-0 text-black",children:" Quiz Settings"})}),n.jsx("div",{className:"p-5",children:n.jsx(Kp,{settings:k,onChange:D})})]}),n.jsx("div",{className:"border border-black mb-5 bg-white",children:n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex justify-between items-center mb-[15px]",children:[n.jsx("h6",{className:"m-0 text-[1.1rem] font-bold text-black",children:" Validation"}),n.jsx("button",{onClick:U,className:"h-10 px-4 font-bold border-2 border-black text-sm",disabled:E,children:E?"Validating...":"Validate JSON"})]}),p&&n.jsxs("div",{className:"mt-[15px]",children:[p.errors.length>0&&n.jsxs("div",{className:"p-[15px] border border-black mt-2.5 border-2 bg-gray-50 text-red-700",children:[n.jsx("strong",{className:"font-bold",children:" Errors:"}),n.jsx("ul",{className:"m-0 mt-2.5 ml-5 list-disc p-0",children:p.errors.map((A,R)=>n.jsx("li",{className:"mb-[5px]",children:A},R))})]}),p.warnings.length>0&&n.jsxs("div",{className:"p-[15px] border border-black mt-2.5 border-2 border-gray-600 bg-gray-50/50 text-amber-800",children:[n.jsx("strong",{className:"font-bold",children:" Warnings:"}),n.jsx("ul",{className:"m-0 mt-2.5 ml-5 list-disc p-0",children:p.warnings.map((A,R)=>n.jsx("li",{className:"mb-[5px]",children:A},R))})]}),p.valid&&p.errors.length===0&&n.jsx("div",{className:"p-[15px] border border-black mt-2.5 border-2 border-black bg-gray-100 text-green-800 font-medium",children:" JSON is valid - no errors found!"})]})]})}),n.jsxs("div",{className:"border border-black mb-5 bg-white",children:[n.jsx("div",{className:"p-[15px_20px] border-b border-black",children:n.jsxs("h3",{className:"text-[1.3rem] font-bold m-0 text-black",children:["Questions (",u.questions.length,")"]})}),n.jsx("div",{className:"p-5",children:u.questions.map((A,R)=>n.jsxs("div",{className:"border border-gray-300 p-[15px] mb-[15px] bg-gray-50 last:mb-0",children:[n.jsxs("div",{className:"flex gap-2.5 items-center mb-2.5 font-semibold",children:[n.jsxs("span",{className:"text-[1.1rem] font-bold text-black",children:["Q",R+1]}),n.jsxs("span",{className:"bg-black text-white px-2 py-0.5 text-[0.85rem] rounded-[3px]",children:["[",A.type,"]"]}),n.jsxs("span",{className:"ml-auto text-[0.9rem] text-gray-600",children:[A.points," pts"]})]}),n.jsx("div",{className:"text-base mb-2.5 leading-relaxed text-black",children:A.prompt}),A.answers&&A.answers.length>0&&n.jsx("div",{className:"mt-2.5 pl-[15px]",children:A.answers.map((L,X)=>n.jsxs("div",{className:`mb - [5px] text - [0.9rem] flex gap - 2 items - start ${L.correct?"font-semibold text-green-800":"text-gray-700"} `,children:[n.jsx("span",{className:"font-bold min-w-[20px]",children:L.correct?"":""}),n.jsx("span",{children:L.text})]},X))})]},R))})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-black shadow-[0_-5px_20px_rgba(0,0,0,0.1)] z-[100] m-0",children:n.jsx("div",{className:"p-5 max-w-[1000px] mx-auto md:p-[15px]",children:n.jsx("form",{onSubmit:M,children:n.jsxs("div",{className:"grid grid-cols-[2fr_1fr] gap-5 items-end md:grid-cols-1",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("label",{htmlFor:"courseId",className:"font-bold mb-[5px] text-black",children:"Canvas Course ID"}),n.jsx("input",{type:"text",id:"courseId",className:"p-2.5 border border-black font-sans text-base focus:outline-2 focus:outline-black focus:outline-offset-2",value:o,onChange:A=>b(A.target.value),placeholder:"e.g., 12345",required:!0}),n.jsx("small",{className:"mt-[5px] text-gray-600 text-[0.85rem]",children:"Enter the Canvas course ID where you want to import this question bank"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"submit",className:"h-12 px-8 font-bold bg-black text-white border-2 border-black disabled:opacity-50 disabled:cursor-not-allowed md:mt-2.5",disabled:m,children:m?"Processing...":" Generate QTI & Import"})})]})})})}),n.jsx("div",{className:"text-center p-5 mt-10 text-gray-600 text-[0.9rem]",children:n.jsx("small",{children:"QTI Helper v2.0 | Step 2: Review & Process"})})]})]}):n.jsx("div",{className:"text-center p-10 text-xl font-sans bg-white",children:"Loading quiz..."})}function $p({onNavigate:i}){const[u,f]=N.useState(null),[o,b]=N.useState(null);return N.useEffect(()=>{const p=sessionStorage.getItem("qtiProcessResult");if(!p){b("No import result found.");return}try{const y=JSON.parse(p);f(y)}catch{b("Failed to load import result")}},[]),o?n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx(rl,{onBack:()=>i(ue.HOME)}),n.jsxs("div",{className:"max-w-[800px] mx-auto mt-10 p-5 text-center bg-white border border-black shadow-lg",children:[n.jsx("h1",{className:"text-2xl font-bold text-black mb-5",children:"Error"}),n.jsx("p",{className:"mb-5",children:o}),n.jsx("button",{className:"h-12 px-6 font-bold border-2 border-black",onClick:()=>i(ue.QUIZ_IMPORT),children:" Back to Import"})]})]}):u?n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx(rl,{onBack:()=>i(ue.HOME)}),n.jsxs("div",{className:"max-w-[700px] mx-auto p-[60px_20px] text-center",children:[n.jsx("div",{className:"text-[5rem] mb-[30px] md:text-[3.5rem]",children:""}),n.jsx("div",{className:"border-2 border-black bg-white shadow-xl",children:n.jsxs("div",{className:"p-10 md:p-[30px_20px]",children:[n.jsx("h2",{className:"text-[2rem] font-bold mb-[15px] text-black md:text-[1.6rem]",children:"QTI Generation Successful!"}),n.jsx("p",{className:"text-[#666] mb-[30px] text-[1.1rem] leading-relaxed",children:"Your quiz has been converted to QTI 1.2 format and the import process has been initiated."}),u.success&&n.jsxs("div",{className:"p-[15px] border border-black mb-[30px] text-left border-2 bg-gray-100 text-green-800 font-medium",children:[n.jsx("strong",{className:"font-bold",children:" Success!"})," ",u.message]}),u.quiz&&n.jsxs("div",{className:"mb-[30px] text-left",children:[n.jsx("h5",{className:"text-[1.2rem] font-bold mb-[15px] text-black text-center",children:"Quiz Details:"}),n.jsx("table",{className:"w-full border-collapse border border-black",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("th",{className:"p-2.5 border border-gray-300 text-left w-[40%] font-bold bg-gray-50 text-gray-800",children:"Title:"}),n.jsx("td",{className:"p-2.5 border border-gray-300 text-left bg-white",children:u.quiz.title})]}),n.jsxs("tr",{children:[n.jsx("th",{className:"p-2.5 border border-gray-300 text-left w-[40%] font-bold bg-gray-50 text-gray-800",children:"Questions:"}),n.jsxs("td",{className:"p-2.5 border border-gray-300 text-left bg-white",children:[u.quiz.questions.length," questions"]})]})]})})]}),u.importResult&&n.jsxs("div",{className:"mb-[30px] text-left",children:[n.jsx("h5",{className:"text-[1.2rem] font-bold mb-[15px] text-black text-center",children:"Import Status:"}),n.jsx("table",{className:"w-full border-collapse border border-black",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("th",{className:"p-2.5 border border-gray-300 text-left w-[40%] font-bold bg-gray-50 text-gray-800",children:"Status:"}),n.jsx("td",{className:"p-2.5 border border-gray-300 text-left bg-white",children:u.importResult.success?n.jsx("span",{className:"bg-black text-white px-2.5 py-[3px] rounded-[3px] font-semibold text-[0.85rem]",children:" Success"}):n.jsx("span",{className:"bg-white text-black border-2 border-black px-2.5 py-[3px] rounded-[3px] font-semibold text-[0.85rem]",children:" Failed"})})]}),n.jsxs("tr",{children:[n.jsx("th",{className:"p-2.5 border border-gray-300 text-left w-[40%] font-bold bg-gray-50 text-gray-800",children:"Message:"}),n.jsx("td",{className:"p-2.5 border border-gray-300 text-left bg-white",children:u.importResult.message})]}),u.importResult.error&&n.jsxs("tr",{children:[n.jsx("th",{className:"p-2.5 border border-gray-300 text-left w-[40%] font-bold bg-gray-50 text-gray-800",children:"Error:"}),n.jsx("td",{className:"p-2.5 border border-gray-300 text-left bg-white text-red-600 font-semibold",children:u.importResult.error})]})]})})]}),n.jsx("p",{className:"text-[#666] text-[0.9rem] mb-[30px] italic",children:"Check Canvas for the imported question bank. It may take a few moments to process."}),n.jsxs("div",{className:"flex gap-4 justify-center md:flex-col",children:[n.jsx("button",{onClick:()=>i(ue.HOME),className:"h-12 px-6 font-bold bg-black text-white border-2 border-black md:w-full",children:" Home"}),n.jsx("button",{onClick:()=>i(ue.QUIZ_IMPORT),className:"h-12 px-6 font-bold border-2 border-black md:w-full",children:" Import Another Quiz"})]})]})}),n.jsx("div",{className:"mt-10 text-gray-600 text-[0.9rem]",children:n.jsx("small",{children:"QTI Helper v2.0 | Import Complete"})})]})]}):n.jsx("div",{className:"text-center p-10 text-xl font-sans bg-white",children:"Loading results..."})}function Wp({onNavigate:i}){const[u,f]=N.useState(null),[o,b]=N.useState(!1),[p,y]=N.useState(null),[E,T]=N.useState("offline"),[m,j]=N.useState(""),[g,S]=N.useState(""),[k,D]=N.useState(null),[U,M]=N.useState(null),A=N.useRef(null),R=N.useRef(null),L=V=>{const P=V.target.files?.[0];P&&D(P)},X=V=>{const P=V.target.files?.[0];P&&M(P)},Z=()=>k?E==="online"?m.trim()!==""&&g.trim()!=="":E==="offline"?U!==null:!1:!1,le=async()=>{if(!k)return;b(!0),y(null);const V=new FormData;V.append("file",k),E==="offline"&&U?V.append("quizFile",U):E==="online"&&(V.append("courseId",m),V.append("quizId",g));try{const P=await fetch("/api/analytics/statistics",{method:"POST",body:V});if(!P.ok){const J=await P.text();throw new Error(J||"Failed to compute statistics")}const re=await P.json();f(re)}catch(P){y(P instanceof Error?P.message:"Unknown error")}finally{b(!1)}},ne=()=>{lc()},Te=V=>{if(V.topStudentCount===0||V.bottomStudentCount===0)return 0;const P=V.correctTopStudentCount/V.topStudentCount,re=V.correctBottomStudentCount/V.bottomStudentCount;return P-re},De=V=>V<.3?"Hard":V<.7?"Medium":"Easy",$=V=>V<0?"Poor":V<.2?"Weak":V<.4?"Good":"Excellent";return n.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[n.jsx(rl,{onBack:()=>i(ue.HOME),actions:u&&n.jsx("button",{onClick:ne,className:"px-4 py-2 bg-black text-white border-2 border-black font-bold",children:" Print"})}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"max-w-[21cm] mx-auto my-8 p-8 bg-white shadow-lg print:shadow-none print:m-0 print:max-w-none",children:[o&&n.jsx(tc,{text:"Computing Statistics..."}),p&&n.jsx("div",{className:"bg-red-50 border-2 border-red-500 p-4 mb-4",children:n.jsxs("p",{className:"text-red-700 font-bold",children:["Error: ",p]})}),!u&&!o&&!p&&n.jsxs("div",{className:"text-center py-20",children:[n.jsx("h1",{className:"text-3xl font-black mb-4",children:"Quiz Analytics Dashboard"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Configure your data sources in the sidebar "}),n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsxs("p",{className:"mb-2",children:[n.jsx("strong",{children:"Offline Mode:"})," Upload CSV + Quiz JSON"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Online Mode:"})," Upload CSV + Enter Canvas IDs"]})]})]}),u&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"border-b-2 border-black mb-6 pb-4",children:[n.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight mb-1",children:u.quizTitle}),n.jsx("div",{className:"text-[8px] font-bold text-gray-400 tracking-[0.2em]",children:"QUIZ STATISTICS REPORT"})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-black uppercase mb-4 border-b border-gray-300 pb-2",children:" Submission Statistics"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-50 p-4 border-l-4 border-black",children:[n.jsx("div",{className:"text-[8pt] text-gray-500 uppercase",children:"Students"}),n.jsx("div",{className:"text-3xl font-black",children:u.submissionStatistics.uniqueCount})]}),n.jsxs("div",{className:"bg-gray-50 p-4 border-l-4 border-blue-500",children:[n.jsx("div",{className:"text-[8pt] text-gray-500 uppercase",children:"Average"}),n.jsx("div",{className:"text-3xl font-black",children:u.submissionStatistics.scoreAverage.toFixed(1)})]}),n.jsxs("div",{className:"bg-gray-50 p-4 border-l-4 border-green-500",children:[n.jsx("div",{className:"text-[8pt] text-gray-500 uppercase",children:"High"}),n.jsx("div",{className:"text-3xl font-black",children:u.submissionStatistics.scoreHigh.toFixed(1)})]}),n.jsxs("div",{className:"bg-gray-50 p-4 border-l-4 border-red-500",children:[n.jsx("div",{className:"text-[8pt] text-gray-500 uppercase",children:"Low"}),n.jsx("div",{className:"text-3xl font-black",children:u.submissionStatistics.scoreLow.toFixed(1)})]}),n.jsxs("div",{className:"bg-gray-50 p-4 border-l-4 border-purple-500",children:[n.jsx("div",{className:"text-[8pt] text-gray-500 uppercase",children:"Std Dev"}),n.jsx("div",{className:"text-3xl font-black",children:u.submissionStatistics.scoreStdev.toFixed(2)})]}),n.jsxs("div",{className:"bg-gray-50 p-4 border-l-4 border-yellow-500",children:[n.jsx("div",{className:"text-[8pt] text-gray-500 uppercase",children:"Avg Correct"}),n.jsx("div",{className:"text-3xl font-black",children:u.submissionStatistics.correctCountAverage.toFixed(1)})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-black uppercase mb-4 border-b border-gray-300 pb-2",children:" Item Analysis"}),n.jsxs("table",{className:"w-full text-[9pt] border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-black text-white",children:[n.jsx("th",{className:"p-2 text-left",children:"Q#"}),n.jsx("th",{className:"p-2 text-left",children:"Type"}),n.jsx("th",{className:"p-2 text-right",children:"Responses"}),n.jsx("th",{className:"p-2 text-right",children:"Correct"}),n.jsx("th",{className:"p-2 text-right",children:"Difficulty"}),n.jsx("th",{className:"p-2 text-right",children:"Discrimination"})]})}),n.jsx("tbody",{children:Object.values(u.questionStatistics).sort((V,P)=>V.questionNumber-P.questionNumber).map(V=>{const P=Te(V);return n.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[n.jsx("td",{className:"p-2 font-bold",children:V.questionNumber}),n.jsx("td",{className:"p-2 text-[8pt] text-gray-600",children:V.questionType.replace("_"," ")}),n.jsx("td",{className:"p-2 text-right",children:V.responses}),n.jsx("td",{className:"p-2 text-right",children:V.correctStudentCount}),n.jsx("td",{className:"p-2 text-right",children:n.jsxs("span",{className:`px-2 py-1 rounded text-[8pt] font-bold ${V.difficultyIndex<.3?"bg-red-100 text-red-700":V.difficultyIndex<.7?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:[(V.difficultyIndex*100).toFixed(0),"% (",De(V.difficultyIndex),")"]})}),n.jsx("td",{className:"p-2 text-right",children:n.jsxs("span",{className:`px-2 py-1 rounded text-[8pt] font-bold ${P<0?"bg-red-100 text-red-700":P<.2?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:[P.toFixed(2)," (",$(P),")"]})})]},V.questionNumber)})})]})]})]})]})}),n.jsxs("div",{className:"w-80 bg-white border-l-2 border-black flex flex-col print:hidden",children:[n.jsxs("div",{className:"p-4 border-b-2 border-black",children:[n.jsx("h2",{className:"font-black uppercase tracking-tight",children:"Configuration"}),n.jsx("p",{className:"text-[8px] text-gray-400 font-bold tracking-widest mt-1",children:"DATA SOURCES"})]}),n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-500 mb-2 block",children:"Mode"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>T("offline"),className:`flex-1 py-2 px-3 text-sm font-bold rounded border-2 transition-all ${E==="offline"?"bg-green-500 text-white border-green-500":"bg-white text-gray-700 border-gray-300 hover:border-green-500"}`,children:" Offline"}),n.jsx("button",{onClick:()=>T("online"),className:`flex-1 py-2 px-3 text-sm font-bold rounded border-2 transition-all ${E==="online"?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:border-blue-500"}`,children:" Online"})]})]}),n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-500 mb-2 block",children:"Student Submissions (CSV) *"}),n.jsx("input",{ref:A,type:"file",accept:".csv",onChange:L,className:"hidden"}),n.jsx("button",{onClick:()=>A.current?.click(),className:`w-full py-3 px-4 rounded border-2 border-dashed font-bold text-sm transition-all ${k?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:border-black"}`,children:k?` ${k.name}`:" Select CSV File"})]}),E==="offline"?n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-500 mb-2 block",children:"Quiz Metadata (JSON) *"}),n.jsx("input",{ref:R,type:"file",accept:".json",onChange:X,className:"hidden"}),n.jsx("button",{onClick:()=>R.current?.click(),className:`w-full py-3 px-4 rounded border-2 border-dashed font-bold text-sm transition-all ${U?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:border-black"}`,children:U?` ${U.name}`:" Select JSON File"}),n.jsx("p",{className:"text-[8px] text-gray-400 mt-2",children:"Export from Canvas when online, use here when offline"})]}):n.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-500 mb-1 block",children:"Course ID *"}),n.jsx("input",{type:"text",value:m,onChange:V=>j(V.target.value),placeholder:"e.g., 12345",className:"w-full px-3 py-2 border-2 border-gray-300 rounded font-mono focus:border-black focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-500 mb-1 block",children:"Quiz ID *"}),n.jsx("input",{type:"text",value:g,onChange:V=>S(V.target.value),placeholder:"e.g., 67890",className:"w-full px-3 py-2 border-2 border-gray-300 rounded font-mono focus:border-black focus:outline-none"})]})]}),n.jsx("div",{className:"flex-1"}),n.jsx("div",{className:"p-4 border-t-2 border-black",children:n.jsx("button",{onClick:le,disabled:!Z()||o,className:`w-full py-4 font-black uppercase tracking-widest rounded transition-all ${Z()&&!o?"bg-black text-white hover:bg-gray-800":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:o?"Computing...":" Compute Statistics"})})]})]})}const Fp=[{name:"Worksheet Builder",icon:"",route:ue.WORKSHEET_DASHBOARD,offline:!0,description:"Create custom worksheets"},{name:"Quiz Analytics",icon:"",route:ue.ANALYTICS,offline:!0,description:"Analyze quiz performance"},{name:"Print Reports",icon:"",route:ue.PRINT_REPORT_VIEW,offline:!0,description:"View and print reports"},{name:"Push to Canvas",icon:"",route:ue.QUIZ_IMPORT,offline:!1,description:"Upload quizzes to Canvas"},{name:"Canvas Courses",icon:"",route:ue.CANVAS_COURSES,offline:!1,description:"Browse Canvas courses"}];function Ip({currentRoute:i,onNavigate:u}){return n.jsxs("div",{className:"w-64 bg-white border-r-2 border-black h-screen flex flex-col print:hidden",children:[n.jsxs("div",{className:"p-4 border-b-2 border-black",children:[n.jsx("h1",{className:"text-xl font-black uppercase tracking-tight",children:"json-printer"}),n.jsx("p",{className:"text-[8px] text-gray-400 font-bold tracking-widest mt-1",children:"FEATURES"})]}),n.jsx("nav",{className:"flex-1 overflow-y-auto p-2",children:Fp.map(f=>{const o=i===f.route,b=f.offline;return n.jsxs("button",{onClick:()=>u(f.route),className:`
                w-full text-left p-3 mb-2 rounded-lg border-2 transition-all
                ${o?"bg-black text-white border-black":"bg-white text-black border-gray-300 hover:border-black"}
              `,children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:f.icon}),n.jsx("span",{className:"font-bold text-sm",children:f.name})]}),b&&n.jsx("span",{className:"text-[8px] px-2 py-1 bg-green-100 text-green-700 rounded font-bold",children:"OFFLINE"})]}),n.jsx("p",{className:"text-[10px] text-gray-500 ml-7",children:f.description})]},f.route)})}),n.jsxs("div",{className:"p-4 border-t-2 border-black",children:[n.jsx("div",{className:"text-[8px] text-gray-400 font-bold tracking-widest",children:"STATUS"}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-[10px] font-bold",children:"LOCAL MODE READY"})]})]})]})}function Ff({onNavigate:i}){return n.jsxs("div",{className:"flex h-screen bg-gray-50",children:[n.jsx(Ip,{currentRoute:ue.HOME,onNavigate:i}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{onClick:()=>i(ue.WORKSHEET_DASHBOARD),className:"cursor-pointer bg-white border-2 border-black p-8 hover:bg-gray-50 transition-colors group",children:[n.jsx("h1",{className:"text-5xl font-black uppercase tracking-tight mb-4",children:"json-printer"}),n.jsx("p",{className:"text-gray-500 text-lg mb-8",children:"Select a feature from the sidebar to get started"}),n.jsx("div",{className:"text-[10px] text-gray-400 font-bold tracking-widest",children:"OFFLINE-READY  LOCAL-FIRST  CANVAS-COMPATIBLE"})]})})]})}class Pp extends N.Component{constructor(u){super(u),this.state={hasError:!1,error:null}}static getDerivedStateFromError(u){return{hasError:!0,error:u}}componentDidCatch(u,f){console.error("Uncaught error:",u,f)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:n.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6 border border-red-100",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mb-4 mx-auto",children:n.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:"Something went wrong"}),n.jsx("p",{className:"text-gray-600 text-center mb-6",children:"The application encountered an unexpected error. We've been notified and are looking into it."}),n.jsx("div",{className:"bg-red-50 rounded p-3 mb-6 overflow-auto max-h-32 text-xs font-mono text-red-800 border border-red-100",children:this.state.error?.toString()}),n.jsx("button",{onClick:()=>globalThis.location.reload(),className:"w-full bg-primary-blue hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Reload Application"})]})}):this.props.children}}function ex(){const{route:i,params:u,navigate:f}=If(),o=()=>{switch(i){case ue.HOME:return n.jsx(Ff,{onNavigate:f});case ue.WORKSHEET_DASHBOARD:return n.jsx(Cp,{onNavigate:f});case ue.WORKSHEET_EDIT:return n.jsx(Tp,{worksheetId:u.id,onNavigate:f});case ue.PRINT_REPORT_VIEW:return n.jsx(qp,{onNavigate:f});case ue.PRINT_REPORT_SLIP:return n.jsx(Qp,{onNavigate:f});case ue.PRINT_REPORT_BLANK:return n.jsx(Gp,{onNavigate:f});case ue.QUIZ_IMPORT:return n.jsx(Xp,{onNavigate:f});case ue.QUIZ_EDITOR:return n.jsx(Jp,{onNavigate:f});case ue.QUIZ_SUCCESS:return n.jsx($p,{onNavigate:f});case ue.ANALYTICS:return n.jsx(Wp,{onNavigate:f});case ue.CANVAS_COURSES:return n.jsx(Mp,{onNavigate:f});default:return n.jsx(Ff,{onNavigate:f})}};return n.jsx(Pp,{children:o()})}Mb.createRoot(document.getElementById("root")).render(n.jsx(N.StrictMode,{children:n.jsx(ex,{})}));
