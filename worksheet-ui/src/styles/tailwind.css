@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   SHARED STYLES (both frontend + print)
   ============================================ */
@layer base {
  body {
    @apply bg-app-gray font-sans h-screen grid grid-rows-1 m-0;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* Rich Text Printing */
  b, strong { @apply font-bold; }
  i, em { @apply italic; }
  u { @apply underline; }
}

/* ============================================
   PRINT STYLES (@media print)
   BLACK & WHITE ONLY â€” NO COLORS
   ============================================ */
@media print {
  @page {
    size: A4;
    margin: 0; /* User controls margins via print dialog */
  }
  body {
    @apply bg-white block p-0 m-0;
  }
  #root {
    @apply p-0 m-0;
  }
  /* Multi-page printing: force page break before each page except first */
  .print-page:not(:first-child) {
    page-break-before: always;
  }
  .print-page {
    @apply w-full min-h-[297mm] p-[1.27cm] box-border;
  }
}

/* ============================================
   FRONTEND STYLES (interactive pages only)
   ONLY applies when NOT printing
   ============================================ */
@layer components {
  .toolbar-btn {
    @apply flex items-center justify-center gap-1.5 bg-white border border-gray-300 text-gray-700 cursor-pointer text-xs font-semibold px-3 h-8 rounded hover:bg-gray-50 hover:border-gray-400 hover:text-black transition-all duration-200 shadow-sm min-w-0 whitespace-nowrap;
  }

  .toolbar-btn:active {
    @apply bg-gray-100 shadow-inner;
  }

  /* Generic Button */
  .btn {
    @apply px-5 py-2.5 border border-black bg-white text-black text-base font-medium cursor-pointer transition-all duration-200 no-underline inline-flex items-center gap-2 font-sans hover:border-2 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply bg-black text-white hover:bg-gray-800;
  }

  .btn-secondary {
    @apply bg-white text-black;
  }

  .btn-refresh .icon {
    @apply inline-block transition-transform duration-500;
  }

  .btn-refresh.refreshing .icon {
    @apply animate-spin;
  }

  /* Alert */
  .alert {
    @apply p-[15px_20px] border border-black mb-5 flex items-center gap-2.5;
  }

  .alert-error {
    @apply border-2 border-black bg-gray-50;
  }

  /* Property Editor Styles */
  .prop-group {
    @apply mb-[15px];
  }

  .prop-group h4 {
    @apply m-0 mb-[8px] text-[14px] text-gray-800 border-b border-gray-300 pb-[5px] font-semibold uppercase tracking-wider;
  }

  .prop-label {
    @apply block mb-[4px] text-[12px] text-gray-600 font-medium;
  }

  .prop-input, .prop-select {
    @apply w-full p-[6px] border border-gray-300 rounded-[4px] box-border text-[13px] focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none transition-all;
  }

  .btn-remove {
    @apply p-1 px-2 bg-red-50 text-red-600 border border-red-200 rounded hover:bg-red-100 transition-colors disabled:opacity-30 disabled:cursor-not-allowed;
  }

  .btn-add {
    @apply w-full mt-2 p-2 bg-blue-50 text-blue-600 border border-blue-200 rounded font-medium hover:bg-blue-100 transition-colors;
  }

  .checkbox-label {
    @apply flex items-center gap-2 cursor-pointer text-[13px] text-gray-700 mt-2;
  }

  /* Grid Box Input - CRITICAL FIX */
  .char-input {
    @apply w-full h-full text-center bg-transparent border-none outline-none p-0 m-0 leading-none font-serif text-black;
    /* Ensure input takes up space but doesn't overflow or have background */
  }
  
  /* Remove default input styles specifically */
  .char-input:focus {
    @apply outline-none ring-0;
  }
}
